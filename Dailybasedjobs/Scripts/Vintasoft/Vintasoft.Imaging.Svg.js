// Copyright 2014-2019 VintaSoft Ltd. All rights reserved.
// This software is protected by International copyright laws.
// Any copying, duplication, deployment, redistribution, modification or other
// disposition hereof is STRICTLY PROHIBITED without an express written license
// granted by VintaSoft Ltd. This notice may not be removed or otherwise
// altered under any circumstances.
// This code may NOT be used apart of the VintaSoft product.
(function(K){if(void 0==K.Shared)throw Error("Vintasoft.Shared is not found.");if("1.3.0.1"!==K.version)throw Error("Wrong version of Vintasoft.Shared script.");var b=K.Shared,t=K.Imaging={};t.version="8.7.2.5";var v=K.Imaging.Utils={},U=K.Imaging.ImageProcessing={},sb=K.Imaging.Svg={},lb=K.Imaging.Svg.VisualTools={};(function(q){(function(h){var a=function(g,d,f,n,p,h){var k=a.prototype;k.get_m11=function(){return this._1124};k.set_m11=function(g){b.pv.n(g);this._1124=g};k.get_m12=function(){return this._2011};
k.set_m12=function(g){b.pv.n(g);this._2011=g};k.get_m21=function(){return this._6655};k.set_m21=function(g){b.pv.n(g);this._6655=g};k.get_m22=function(){return this._7589};k.set_m22=function(g){b.pv.n(g);this._7589=g};k.get_offsetx=function(){return this._7359};k.set_offsetx=function(g){b.pv.n(g);this._7359=g};k.get_offsety=function(){return this._6648};k.set_offsety=function(g){b.pv.n(g);this._6648=g};k.determinant=function(){return this._1124*this._7589-this._2011*this._6655};k.invert=function(){var b=
1/this.determinant(),b=new a(this._7589*b,-this._2011*b,-this._6655*b,this._1124*b,(this._6655*this._6648-this._7359*this._7589)*b,(this._2011*this._7359-this._6648*this._1124)*b);this.setMatrix(b);return this};k.transformVector=function(b){b={x:b.x,y:b.y};this.multiplyVector(b);return b};k.transformPoint=function(b){b={x:b.x,y:b.y};this.multiplyPoint(b);return b};k.transformPoints=function(b){for(var g=0;g<b.length;g++)this.multiplyPoint(b[g])};k.transformRectangle=function(b){var g=[{x:b.x,y:b.y},
{x:b.x+b.width,y:b.y+b.height}];this.transformPoints(g);b.x=g[0].x;b.y=g[0].y;b.width=g[1].x-g[0].x;b.height=g[1].y-g[0].y};k.multiplyVector=function(b){var g=b.y*this._6655,d=b.x*this._2011;b.x*=this._1124;b.x+=g;b.y*=this._7589;b.y+=d};k.multiplyPoint=function(b){var g=b.y*this._6655+this._7359,d=b.x*this._2011+this._6648;b.x*=this._1124;b.x+=g;b.y*=this._7589;b.y+=d};k.rotate=function(b,g){var d=0,f=0;void 0!=g&&(d=g.x,f=g.y);d=a.multiplyMatrix(this,a._5952(e._1505(b%360),d,f));this.setMatrix(d)};
k.rotatePrepend=function(b,g){var d=0,f=0;void 0!=g&&(d=g.x,f=g.y);d=a.multiplyMatrix(a._5952(e._1505(b%360),d,f),this);this.setMatrix(d)};k.setMatrix=function(b){this._1124=b._1124;this._2011=b._2011;this._6655=b._6655;this._7589=b._7589;this._7359=b._7359;this._6648=b._6648};k.translate=function(b,g){var d=new a(this._1124,this._2011,this._6655,this._7589,this._7359+b,this._6648+g);this.setMatrix(d)};k.translatePrepend=function(b,g){var d=a.multiplyMatrix(a._3958(b,g),this);this.setMatrix(d)};k.scale=
function(b,g){var d=a.multiplyMatrix(this,a._6870(b,g));this.setMatrix(d)};k.scalePrepend=function(b,g){var d=a.multiplyMatrix(a._6870(b,g),this);this.setMatrix(d)};k.compareMatrix=function(b){return this._1124==b._1124&&this._2011==b._2011&&this._6655==b._6655&&this._7589==b._7589&&this._7359==b._7359&&this._6648==b._6648};void 0!=g?(this._1124=+g,this._2011=+d,this._6655=+f,this._7589=+n,this._7359=+p,this._6648=+h):(this._1124=1,this._6655=this._2011=0,this._7589=1,this._6648=this._7359=0)};a.multiplyMatrix=
function(b,d){return new a(b._1124*d._1124+b._2011*d._6655,b._1124*d._2011+b._2011*d._7589,b._6655*d._1124+b._7589*d._6655,b._6655*d._2011+b._7589*d._7589,b._7359*d._1124+b._6648*d._6655+d._7359,b._7359*d._2011+b._6648*d._7589+d._6648)};a._4472=function(b){var d=new a;d.setMatrix(b);return d};a._6870=function(b,d){return new a(b,0,0,d,0,0)};a._5952=function(b,d,f){null==d&&(f=d=0);var e=Math.sin(b);b=Math.cos(b);if(1===e||-1===e)b=0;if(1===b||-1===b)e=0;return new a(b,e,-e,b,d*(1-b)+f*e,f*(1-b)-d*
e)};a._3958=function(b,d){return new a(1,0,0,1,b,d)};WebImageCacheManagerJS=function(){function g(b,g,d,f){void 0==b._961[g]&&(b._961[g]={});b._961[g][d]=f}function d(g,d){for(;d>g._5722;){var f=g._5543();if(void 0!=f){var e=g._6400(f.data);g._4682(f.iKey,f.cKey);d-=e}else b.pv.te("Error")}}function f(b,g,d){var f=!0;if(void 0!=b[g]){delete b[g][d];for(var e in b[g]){f=!1;break}f&&delete b[g]}}var e=WebImageCacheManagerJS.prototype;e.get_MaxCacheSize=function(){return this._5722};e.set_MaxCacheSize=
function(f){b.pv.n(f);0>f&&b.pv.te("Size must be positive.");if(this._5722!==f){var e=this._5722;this._5722=f;if(0===f)this._961={};else{if(0===e){f=Date.now();for(var a in this._965)for(var n in this._965[a])g(this,a,n,f)}a=this.get_CacheSize();d(this,a)}}};e.get_CacheSize=function(){var b=0;if(void 0!=this._965)for(var g in this._965)b+=this._4033(g);return b};e.addImageData=function(f,e,a){void 0==a&&b.pv.te("Data can not be null.");this.containsImageData(f,e)&&b.pv.te("Cache manager already contains data with specified key.");
f=f.get_Guid();var n=!1;if(0!=this._5722){var h=this._6400(a);h<=this._5722&&(n=this.get_CacheSize(),d(this,n+h),n=!0,g(this,f,e,Date.now()))}else n=!0;n&&(void 0==this._965[f]&&(this._965[f]={}),this._965[f][e]=a)};e.containsImageData=function(g,d){b.pv.c(g,b.WebImageJS);b.pv.s(d);var f=g.get_Guid();return void 0!=this._965[f]?void 0!=this._965[f][d]:!1};e.getImageData=function(d,f){b.pv.c(d,b.WebImageJS);b.pv.s(f);var e=d.get_Guid();if(void 0!=this._965[e]){var a=this._965[e][f];void 0!=a&&0!==
this._5722&&g(this,e,f,Date.now());return a}};e.clear=function(){this._965={};this._961={}};e.contains=function(g){b.pv.c(g,b.WebImageJS);g=g.get_Guid();return void 0!=this._965[g]};e.clearImageCache=function(g){b.pv.c(g,b.WebImageJS);g=g.get_Guid();void 0!=this._965[g]&&delete this._965[g];void 0!=this._961[g]&&delete this._961[g]};e._4682=function(b,g){f(this._965,b,g);f(this._961,b,g)};e._4033=function(b){var g=0;if(void 0!==this._965[b])for(var d in this._965[b])g+=this._6400(this._965[b][d]);
return g};e._6400=function(b){return 2*b.length};e._5543=function(){if(void 0!=this._961){var b=Date.now(),g,d;for(d in this._961){var f=this._7106(d);void 0!=f&&b>f.date&&(b=f.date,g=f)}return g}};e._7106=function(b){if(void 0!=this._961[b]){var g=Date.now(),d="",f;for(f in this._961[b]){var e=this._961[b][f];e<g&&(g=e,d=f)}return{data:this._965[b][d],iKey:b,cKey:d,date:g}}};this._4649=b.WebImagingEnviromentJS.guid();this._965={};this._961={};this._5722=64E3};var e=function(){};e._7316=function(b,
d,f){if(0===f)return b;f=-f*Math.PI/180;var e=Math.sin(f);f=Math.cos(f);var a=b.x-d.x;b=b.y-d.y;return{x:a*f+b*e+d.x,y:-a*e+b*f+d.y}};e._3487=function(b,d,f){if(0!=f){f*=-Math.PI/180;var e=Math.sin(f);f=Math.cos(f);for(var a,h,k=0;k<b.length;k++)a=b[k].x-d.x,h=b[k].y-d.y,b[k].x=a*f+h*e+d.x,b[k].y=-a*e+h*f+d.y}};e._1505=function(b){return Math.PI/180*b};e._127=function(b){return b/Math.PI*180};e._4518=function(b,d,f){for(var e=0;e<b.length;e++)b[e].x*=d,b[e].y*=f};e._2297=function(b,d){return Math.sqrt((b.x-
d.x)*(b.x-d.x)+(b.y-d.y)*(b.y-d.y))};e._1436=function(b,d,f){void 0==d&&(d=0);void 0==f&&(f=b.length-1);for(var a=0;d<f;d++)a+=e._2297(b[d],b[d+1]);return a};e._1113=function(b,d){for(var f=0;f<b.length;f++)b[f].x+=d.x,b[f].y+=d.y};e._5392=function(b,d,f){b=Math.atan2(d.y-b.y,d.x-b.x)-Math.atan2(f.y-d.y,f.x-d.x);return Math.abs(180-Math.abs(180/Math.PI*b))};e._5100=function(b,d,f){b=Math.atan2(b.x-d.x,b.y-d.y);for(b=180*(f?1:0)+180-180*b/Math.PI;360<b;)b-=360;for(;0>b;)b+=360;return b};e._5547=function(b){for(;360<=
b;)b-=360;for(;0>b;)b+=360;return b};e._2665=function(g){(-360>=g||360<=g)&&b.pv.te("angleInDegrees");return 90-Math.abs(90-Math.abs(Math.abs(g)-180))};e._1536=function(b){b=e._905(b);return 270<=b||90<=b&&180>=b?"nwse-resize":"nesw-resize"};e._1082=function(b){b=e._905(b);return 337.5<=b||22.5>=b||157.5<=b&&202.5>=b?"n-resize":67.5<=b&&112.5>=b||247.5<=b&&292.5>=b?"e-resize":292.5<=b&&337.5>=b||112.5<=b&&157.5>=b?"nwse-resize":"nesw-resize"};e._905=function(b){for(;0>b;)b+=360;for(;360<b;)b-=360;
360==b&&(b=0);return b};e._6398=function(b,d){var f=0,e=0,a=d.x-b.x,h=d.y-b.y;0==a||0==h?0==a?e=0>h?-1:1:f=0>a?-1:1:(c=Math.sqrt(a*a+h*h),f=a/c,e=h/c);return{x:f,y:e}};e._2876=function(b,d){d=Math.asin(Math.max(-1,Math.min(1,0*b.x-1*b.y)));beta=Math.acos(Math.max(-1,Math.min(1,0*b.x+1*b.y)));d=0<=d?beta:2*Math.PI-beta;var f=Math.cos(d),e=Math.sin(d);return{x:f,y:e}};e._3427=function(b,d,f){return{x:b.x+d.x*f,y:b.y+d.y*f}};e._1584=function(b,d,f){var e=d.x-b.x,a=d.y-b.y;d=f.x-b.x;b=f.y-b.y;var h=Math.sqrt(e*
e+a*a);f=Math.sqrt(d*d+b*b);if(.01>h||.01>f)return 0;e/=h;a/=h;d/=f;f=b/f;b=Math.asin(Math.max(-1,Math.min(1,e*f-d*a)));d=Math.acos(Math.max(-1,Math.min(1,e*d+a*f)));return 0<=b?d:2*Math.PI-d};e._3795=function(b,d,f){return{x:b.x+f*(d.x-b.x),y:b.y+f*(d.y-b.y)}};e._6989=function(b,d,f){f=e._1511(b,d,f);var a=e._2297(b,f),h=e._2297(d,f),m=e._2297(b,d);return a<=m&&h<=m?f:a<h?b:d};e._1511=function(b,d,f){if(b.x==d.x)return d=b.x,b=f.y,{x:d,y:b};if(b.y==d.y)return d=f.x,b=b.y,{x:d,y:b};var e=(d.y-b.y)/
(d.x-b.x);d=(f.x/e+f.y-(-e*b.x+b.y))/(e+1/e);b=-1/e*(d-f.x)+f.y;return{x:d,y:b}};e._4097=function(b,d){var f=d.y-b.y;if(0==f)return 0;var a=d.x-b.x;return 0==a?90:0<f?e._127(Math.atan2(f,a)):e._127(Math.atan2(-f,-a))};e._3723=function(b,d){var f=Math.asin(Math.max(-1,Math.min(1,b.x*d.y-d.x*b.y))),e=Math.acos(Math.max(-1,Math.min(1,b.x*d.x+b.y*d.y)));return 0<=f?e:2*Math.PI-e};e._4194=function(b,d,f,e){return{x:(b.x+d.x+f.x+e.x)/4,y:(b.y+d.y+f.y+e.y)/4}};e._4234=function(b){return{x:b.x+b.width/2,
y:b.y+b.height/2}};e._3957=function(b){if(0==b.length)return e._5146();for(var d=b[0].x,f=d,a=b[0].y,h=a,m=1;m<b.length;m++){var k=b[m].x,x=b[m].y;d>k?d=k:f<k&&(f=k);a>x?a=x:h<x&&(h=x)}return{x:d,y:a,width:f-d,height:h-a}};e._5531=function(b){b=e._3957(b);return e._4234(b)};e._7047=function(b){return[{x:b.x,y:b.y},{x:b.x,y:b.y+b.height},{x:b.x+b.width,y:b.y+b.height},{x:b.x+b.width,y:b.y}]};e._5578=function(b,d){for(var f=[],e=0,a=b.length;e<a-1*!d;e++){var h=[b[e-1],b[e],b[e+1],b[e+2]];d?e?a-2==
e?h[3]=b[0]:a-1==e&&(h[2]=b[0],h[3]=b[1]):h[0]=b[a-1]:a-2==e?h[3]=h[2]:e||(h[0]=b[e]);f.push([{x:(-h[0].x+6*h[1].x+h[2].x)/6,y:(-h[0].y+6*h[1].y+h[2].y)/6},{x:(h[1].x+6*h[2].x-h[3].x)/6,y:(h[1].y+6*h[2].y-h[3].y)/6},{x:h[2].x,y:h[2].y}])}return f};e._1640=function(b){var d=b.y-Math.floor(b.y);return{x:Math.floor(b.x),y:Math.floor(b.y),width:parseInt(b.width+1+(b.x-Math.floor(b.x))),height:parseInt(b.height+1+d)}};e._7760=function(b,d){var f=Math.max(b.x,d.x),e=Math.min(b.x+b.width,d.x+d.width),a=
Math.max(b.y,d.y),h=Math.min(b.y+b.height,d.y+d.height);return e>=f&&h>=a};e._814=function(b,d){var f=Math.max(b.x,d.x),a=Math.min(b.x+b.width,d.x+d.width),h=Math.max(b.y,d.y),m=Math.min(b.y+b.height,d.y+d.height);return a>=f&&m>=h?{x:f,y:h,width:a-f,height:m-h}:e._5146()};e._2101=function(b,d){var f=Math.min(b.x,d.x),e=Math.max(b.x+b.width,d.x+d.width),a=Math.min(b.y,d.y),h=Math.max(b.y+b.height,d.y+d.height);return{x:f,y:a,width:e-f,height:h-a}};e._4648=function(b,d,f){b=e._7047(b);e._3487(b,f,
d);return b};e._4730=function(b,d){return b==d?0:b<d?-1:1};e._2294=function(b,d,f,a,h,m){var k=[],x=[],t=e._2297(b,d)+e._2297(d,f)+e._2297(f,a),q=!1;void 0==m?m=h:(q=!0,h*=h);t=m/t;m*=m;k.push(b);x.push(0);for(var r,u=b,F=0;1>F;){var E,D=F+t;for(1<D&&(D=1);;)if(E=e._2240(b,d,f,a,D),r=e._1490(u,E),r<=m){if(!q)break;if(r>=h||1<=D)break;else D+=(D-F)/2}else D=F+(D-F)/2;k.push(E);x.push(D);u=E;F=D}return{points:k,times:x}};e._5673=function(b,d,f){for(var a=[],h=0;h<d.length;h++)for(var m=e._2294(b[h],
d[h][0],d[h][1],d[h][2],f).points,k=0;k<m.length;k++)a.push(m[k]);return a};e._2240=function(b,d,f,e,a){return{x:(1-a)*(1-a)*(1-a)*b.x+3*a*(1-a)*(1-a)*d.x+3*a*a*(1-a)*f.x+a*a*a*e.x,y:(1-a)*(1-a)*(1-a)*b.y+3*a*(1-a)*(1-a)*d.y+3*a*a*(1-a)*f.y+a*a*a*e.y}};e._5146=function(){return{x:0,y:0,width:0,height:0}};e._5177=function(b){return 0===b.x&&0===b.y&&0===b.width&&0===b.height};e._7484=function(b,d){return b===d?!0:b.x===d.x&&b.y===d.y&&b.width===d.width&&b.height===d.height};e._6969=function(b){var d=
Math.min(b.x,b.x+b.width),f=Math.min(b.y,b.y+b.height),e=Math.max(b.x,b.x+b.width);b=Math.max(b.y,b.y+b.height);return{x:d,y:f,width:e-d,height:b-f}};e._5976=function(b,d,f){for(var a=0;a<d.length-1;a++){var h=e._6989(d[a],d[a+1],b);if(e._2297(b,h)<=f)return!0}return!1};e._1490=function(b,d){var f=b.x-d.x,e=b.y-d.y;return f*f+e*e};e._3845=function(b,d,f){var a=360-e._127(e._1584(d,b,f));b=e._2297(b,d);b+=e._2297(d,f);return 180<=a?-b:b};e._6515=function(b,d){return{x:(b.x+d.x)/2,y:(b.y+d.y)/2}};e._5997=
function(b,d,f,a){var h=e._6515(b,d),m=e._4097(b,d);b=e._7316(b,h,-m);d=e._7316(d,h,-m);var k=b.x,x=b.y;b=d.x;d=d.y;var t=Math.sqrt(Math.pow(k-b,2)+Math.pow(x-d,2));if(0===t||t>f+f)return{x:0,y:0};f/=t;var q=Math.sqrt(f*f-.25);f=k+.5*(b-k);t=x+.5*(d-x);x=(x-d)*q;k=(k-b)*q;a=a?{x:f+x,y:t+k}:{x:f-x,y:t-k};return a=e._7316(a,h,m)};e._3993=function(b){var d=[];if(0<b.length){d.push(b[0]);for(var f=1;f<b.length;f++)b[f].x==b[f-1].x&&b[f].y==b[f-1].y||d.push(b[f]);1!=d.length&&d[0].x==d[d.length-1].x&&
d[0].y==d[d.length-1].y&&d.splice(d.length-1,1)}return d};e._885=function(b){var d=0;if(2<b.length){for(var f=b[0],a,h,m=1;m<b.length;m++)a=b[m],h=m==b.length-1?b[0]:b[m+1],d+=e._3845(f,a,h),f=a;d+=e._3845(f,b[0],b[1])}return 0<=d};e._2374=function(b){if(4>b.length)return b;for(var d=1,f=[],a=0;a<b.length;a++)f.push(0);for(var h=b[0].x,m=b[0].y,k=0,a=1;a<b.length;a++){var x=b[a].y;if(m<x||m==x&&h<b[a].x)h=b[a].x,m=x,k=a}h=b[k];m=[];for(a=0;a<b.length;a++)m.push(0);for(var t=0,q=3,k=h,r={x:k.x+1,y:k.y},
u,F;;){u=k.x-r.x;F=k.y-r.y;for(var E=u*u+F*F,a=0;a<b.length;a++)if(0==f[a]){var D=b[a].x,x=b[a].y;u=k.x-D;F=k.y-x;var I=u*u+F*F;u=r.x-D;F=r.y-x;x=(E+I-(u*u+F*F))/Math.sqrt(E*I);x<q?(q=x,t=1,m[0]=a):x==q&&(m[t++]=a)}if(1<t)for(x=m[t-1],r=e._1490(k,b[x]),a=t-2;0<=a;a--)t=e._1490(k,b[m[a]]),t>r&&(r=t,x=m[a]);else x=m[0];r=k;k=b[x];if(k.x==h.x&&k.y==h.y)break;f[x]=d;d++;t=0;q=3}d=[];d[0]=h;for(a=0;a<b.length;a++)0!=f[a]&&(d[f[a]]=b[a]);return d};e._3521=function(b,d,f,a){b=[b,d,f,a];d=e._2374(b);if(4!=
d.length)return!1;for(f=0;f<d.length;f++)if(b[0].x===d[f].x&&b[0].y===d[f].y){for(a=0;4>a;a++,f=3==f?0:f+1)if(b[a].x!==d[f].x||b[a].y!==d[f].y)return!1;break}return!0};e._2160=function(b,d,a,h,p){return e._2440(a,b,d,p)||e._2440(a,h,d,p)};e._2440=function(b,d,a,e){var h=(e.x-d.x)*(b.y-d.y)+(e.y-d.y)*(d.x-b.x);d=(e.x-a.x)*(d.y-a.y)+(e.y-a.y)*(a.x-d.x);b=(e.x-b.x)*(a.y-b.y)+(e.y-b.y)*(b.x-a.x);return 0>h&&0>d&&0>b||0<h&&0<d&&0<b||h<Number.EPSILON&&d<Number.EPSILON&&b<Number.EPSILON};e._6540=function(b,
d){return d.x>=b.x&&d.x<=b.x+b.width&&d.y>=b.y&&d.y<=b.y+b.height};h.WebMatrixJS=a;h.WebImageCacheManagerJS=WebImageCacheManagerJS;h._1=e})(q.Utils);q.WebBorderColorTypeEnumJS=b.EnumGenerator.create([{name:"AutoDetect",value:0},{name:"Black",value:1},{name:"White",value:2},{name:"Transparent",value:3},{name:"Custom",value:4}],!1);q.WebRotateFlipTypeEnumJS=b.EnumGenerator.create([{name:"RotateNoneFlipNone",value:0},{name:"RotateNoneFlipX",value:1},{name:"RotateNoneFlipY",value:2},{name:"RotateNoneFlipXY",
value:3},{name:"Rotate90FlipNone",value:4},{name:"Rotate90FlipX",value:5},{name:"Rotate90FlipY",value:6},{name:"Rotate90FlipXY",value:7},{name:"Rotate180FlipNone",value:8},{name:"Rotate180FlipX",value:9},{name:"Rotate180FlipY",value:10},{name:"Rotate180FlipXY",value:11},{name:"Rotate270FlipNone",value:12},{name:"Rotate270FlipX",value:13},{name:"Rotate270FlipY",value:14},{name:"Rotate270FlipXY",value:15}],!1);q.WebBinarizationModeEnumJS=b.EnumGenerator.create([{name:"Threshold",value:0},{name:"Global",
value:1},{name:"Adaptive",value:2},{name:"Halftone",value:3}],!1);q.WebBorderRemovalColorTypeEnumJS=b.EnumGenerator.create([{name:"Auto",value:0},{name:"Black",value:1},{name:"White",value:2},{name:"DetectBorderColorForEachSide",value:3}],!1);q.WebImageSideEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"Left",value:1},{name:"Right",value:2},{name:"Top",value:4},{name:"Bottom",value:8},{name:"All",value:15}],!0);q.WebImageProcessingDirectionEnumJS=b.EnumGenerator.create([{name:"Horizontal",
value:1},{name:"Vertical",value:2}],!0);q.WebColorChannelEnumJS=b.EnumGenerator.create([{name:"R",value:1},{name:"G",value:2},{name:"B",value:4},{name:"RGB",value:7},{name:"A",value:8},{name:"RGBA",value:15}],!0);q.WebLuminanceComputationModeEnumJS=b.EnumGenerator.create([{name:"Standard",value:0},{name:"Sum",value:1}],!1);q.WebDesaturateMethodEnumJS=b.EnumGenerator.create([{name:"Lightness",value:0},{name:"Luminosity",value:1},{name:"Average",value:2}],!1);q.WebImageSizeModeEnumJS=b.EnumGenerator.create([{name:"BestFit",
value:1},{name:"FitToHeight",value:2},{name:"FitToWidth",value:3},{name:"Normal",value:4},{name:"PixelToPixel",value:5},{name:"Zoom",value:6}],!1);q.WebThumbnailFlowStyleEnumJS=b.EnumGenerator.create([{name:"SingleColumn",value:1},{name:"SingleRow",value:2},{name:"WrappedRows",value:3},{name:"FixedColumns",value:4}],!1);q.WebThumbnailScaleEnumJS=b.EnumGenerator.create([{name:"Smallest",value:50},{name:"Small",value:75},{name:"Normal",value:100},{name:"Large",value:150}],!1);q.WebPaletteTypeJS=b.EnumGenerator.create([{name:"Adaptive",
value:0},{name:"Web",value:1}],!1);q.WebColorQuantizationMethodEnumJS=b.EnumGenerator.create([{name:"FastPopularity",value:0},{name:"AdvancedPopularity",value:1},{name:"FastMedianCut",value:2},{name:"AdvancedMedianCut",value:3}],!1);q.WebNoiseTypeEnumJS=b.EnumGenerator.create([{name:"Perlin",value:0},{name:"NegativeExponential",value:1},{name:"Rayleigh",value:2},{name:"Uniform",value:3},{name:"Gaussian",value:4}],!1);q.WebBlendingModeEnumJS=b.EnumGenerator.create([{name:"Normal",value:0},{name:"Multiply",
value:1},{name:"Screen",value:2},{name:"Overlay",value:3},{name:"Darken",value:4},{name:"Lighten",value:5},{name:"ColorDodge",value:6},{name:"ColorBurn",value:7},{name:"HardLight",value:8},{name:"SoftLight",value:9},{name:"Difference",value:10},{name:"Exclusion",value:11},{name:"Hue",value:12},{name:"Saturation",value:13},{name:"Color",value:14},{name:"Luminosity",value:15},{name:"Brightness",value:32},{name:"Contrast",value:33},{name:"Gamma",value:34},{name:"Min",value:35},{name:"Max",value:36},
{name:"Sum",value:37},{name:"Sub",value:38},{name:"Division",value:39}],!1);q.WebColorSpaceTypeEnumJS=b.EnumGenerator.create([{name:"Unsupported",value:0},{name:"Gray",value:1},{name:"sRGB",value:2},{name:"CMYK",value:3},{name:"CMY",value:4},{name:"CIELab",value:5},{name:"CIEXYZ",value:6},{name:"CIEYxy",value:7},{name:"CIELUV",value:8},{name:"PCSLab",value:9},{name:"PCSXYZ",value:10},{name:"YCbCrK",value:11},{name:"YCbCr",value:12},{name:"HSV",value:13},{name:"HLS",value:14}],!1);q.WebHistogramTypeEnumJS=
b.EnumGenerator.create([{name:"Luminosity",value:1},{name:"Red",value:2},{name:"Green",value:4},{name:"Blue",value:8},{name:"Rgb",value:14},{name:"All",value:15}],!0);q.WebColorBaseJSTypeEnumJS=b.EnumGenerator.create([{name:"Indexed",value:0},{name:"Gray16",value:1},{name:"RGB555",value:2},{name:"RGB565",value:3},{name:"RGB24",value:4},{name:"ARGB32",value:5},{name:"RGB48",value:6},{name:"ARGB64",value:7}],!1);q.WebFrequencyFilterTypeEnumJS=b.EnumGenerator.create([{name:"Ideal",value:0},{name:"Butterworth",
value:1},{name:"Gaussian",value:2}],!1);q.WebImageLayoutDirectionEnumJS=b.EnumGenerator.create([{name:"Horizontal",value:1},{name:"Vertical",value:2}],!1);q.WebImageViewerDisplayModeEnumJS=b.EnumGenerator.create([{name:"SinglePage",value:1},{name:"SingleContinuousColumn",value:2},{name:"SingleContinuousRow",value:3},{name:"TwoColumns",value:4},{name:"TwoRows",value:5},{name:"TwoContinuousColumns",value:6},{name:"TwoContinuousRows",value:7},{name:"ThreeColumns",value:8},{name:"ThreeRows",value:9},
{name:"ThreeContinuousColumns",value:10},{name:"ThreeContinuousRows",value:11},{name:"Custom",value:12}],!1);q.WebImageViewerMultipageDisplayModeEnumJS=b.EnumGenerator.create([{name:"AllImages",value:1},{name:"FixedImages",value:2}],!1);q.WebImageAnchorTypeEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"Top",value:1},{name:"Bottom",value:2},{name:"Left",value:4},{name:"Right",value:8}],!0);q.WebImageCompareOperatorEnumJS=b.EnumGenerator.create([{name:"Difference",value:0},{name:"AvgDifference",
value:1},{name:"MaxDifference",value:2},{name:"MinDifference",value:3}],!1);var mb=function(h){function a(b){var d=b._frame.contentDocument||b._frame.contentWindow.document,a=d.body,f=a.style;f.margin=0;f.padding=0;f.width="100%";f.height="100%";for(f=0;f<b._6971.length;f++){var g=d.createElement("img");g.id=b._6971[f].get_Guid();var h=g.style;h.maxWidth="100%";h.maxHeight="100%";h.margin=0;h.padding=0;h.width="auto";h.height="auto";g.onload=function(){e(b)};a.appendChild(g);f<b._6971.length-1&&(g=
d.createElement("p"),g.style.pageBreakAfter="always",g.style.margin=0,g.className="pageBreak",a.appendChild(g))}}function e(b){b._ready++;b._ready===b._6971.length&&($(b).triggerHandler("beginPrint"),b._aborted||(b._frame.contentWindow.focus(),b._frame.contentWindow.print()),setTimeout(function(){$(b._frame).remove()},6E3),$(b).triggerHandler("endPrint"))}var g=mb.prototype;g.imagesPreparationFailed=function(b,d){};g.imagePrepared=function(b){};g.beginPrint=function(b){};g.endPrint=function(b){};
g.print=function(){for(var b=0;b<this._6971.length&&!this._aborted;b++){var d=this._3512(b);void 0!=d&&this._5282.push(d)}};g.abort=function(){this._5130()};g._3512=function(b){var d=this;return this._6971[b].getImageAsBase64String(function(b){d._1898(b.image.get_Guid(),b.fileId)},function(b){if("abort"!==b.statusText)if(void 0!=b.errorMessage)d._5130(b.errorMessage);else{var a;b.responseJSON&&(a=b.responseJSON.ExceptionMessage);d._5130(a)}})};g._5130=function(b){this._aborted=!0;for(var d=0;d<this._5282.length;d++){var a=
this._5282[d].object;1!==a.readyState&&2!==a.readyState||a.abort()}this._5282=[];$(this._frame).remove();void 0!=b&&$(this).triggerHandler("imagesPreparationFailed",b)};g._1898=function(b,d){$(this).triggerHandler("imagePrepared");if(!this._aborted){var a=$(this._frame).contents().find("#"+b)[0];void 0!=a&&(a.src=d)}};b.pv.ac(h,b.WebImageJS);var d=this;d._6971=h;d._ready=0;d._frame;d._aborted=!1;d._5282=[];h=document.createElement("iframe");h.id=b.WebImagingEnviromentJS.guid();h.src="";d._frame=h;
var f=h.style;f.position="absolute";f.width=1;f.height=1;f.margin=0;f.left="-1000px";f.top="-1000px";document.body.appendChild(h);setTimeout(function(){a(d)},0);delete g.imagesPreparationFailed;delete g.imagePrepared;delete g.beginPrint;delete g.endPrint};q.WebPrintManagerJS=mb;var kb=function(h,a){var e=kb.prototype;e.get_BackgroundStyle=function(){return this._1539};e.get_BorderStyle=function(){return this._2687};e.equals=function(a){return this===a?!0:b.pv.ic(a,kb)?a._2687===this._2687&&a._1539===
this._1539:!1};e._6213=function(){var b="background:"+this._1539+";",b=b+("border:"+this._2687+";"),b=b+("margin-left:-"+this._5389+"px;");return b+="margin-top:-"+this._5389+"px;"};b.pv.s(h,a);this._1539=h;this._2687=a;this._5389=function(b){b=b.split(" ");for(var d,a=0;a<b.length;a++)if(d=parseInt(b[a]),!isNaN(d))return 0<d?d:0;if(isNaN(d))return 0}(this._2687)};q.WebThumbnailAppearanceJS=kb;(function(h){(function(d){var a=function(){};a._421=function(d){b.pv.s(d);d=Raphael.getRGB(d);if(1===d.error)b.pv.tae();
else return"rgba("+d.r+","+d.g+","+d.b+","+(d.opacity?d.opacity:1)+")"};a._6498=function(b,d){b.transform(["m",d._1124,d._2011,d._6655,d._7589,d._7359,d._6648])};h._1059=a;var e=function(){var b=e.prototype;b._6099=function(){this._4748="";return this};b._1097=function(b){this._4748+="M"+b.x+","+b.y;return this};b._2209=function(b){this._4748+="L"+b.x+","+b.y;return this};b._3084=function(b,d,a,e,f,g,h){this._4748+="A"+b+","+d+","+a+","+ +e+","+ +f+","+g+","+h;return this};b._4826=function(b,d){this._1097(b[0]);
for(var a=1;a<b.length;a++)this._2209(b[a]);d&&(this._4748+="Z");return this};b._2882=function(b){this._1097(b[0]);this._4748+=" R ";for(var d=1;d<b.length;d++)this._4748+=","+b[d].x+","+b[d].y;return this};b._7555=function(b){b=v._1._7047(b);this._4826(b,!0);return this};b._3387=function(b){this._4748+=b;return this};b._418=function(){return this._4748};this._4748=""};h._3166=e;var g=function(d){var a=g.prototype;a.mouseDown=function(b,a){};a.mouseMove=function(b,a){};a.mouseUp=function(b,a){};a.mouseDoubleClick=
function(b,a){};a.initializationStarted=function(b,a){};a.initializationFinished=function(b,a){};a.initializationException=function(b,a){};a.get_Name=function(){return this._800};a.get_ActionButton=function(){return this._7652};a.set_ActionButton=function(a){b.pv.n(a);1!==a&&2!==a&3!==a&&b.pv.tae();this._7652=a};a.get_IsEnabled=function(){return this._3304};a.set_IsEnabled=function(a){this._5554&&(b.pv.b(a),this._3304!==a&&(this._3304=a,this._1988(this._3304)))};a.get_DisableContextMenu=function(){return this._1433};
a.set_DisableContextMenu=function(a){b.pv.b(a);this._1433=a};a.get_Cursor=function(){return this._3575};a.set_Cursor=function(a){b.pv.s(a);this._3575=a;this._1978()&&this._420&&this._546(a)};a.get_ActionCursor=function(){return this._5419};a.set_ActionCursor=function(a){b.pv.s(a);this._5419=a};a.get_MouseClicksDelta=function(){return this._5183};a.set_MouseClicksDelta=function(a){b.pv.n(a);0>a&&(a=10);this._5183=a};a.get_MouseClickCount=function(){return this._2150};a.get_IsMultipageModeSupported=
function(){return!1};a.reset=function(){};a._1467=function(b){return!this._3304||void 0!=this._908&&this._908._1645()&&(b=this._908.getImageIndexByLocation(b.pv),0<=b&&b!=this._908._261)?!1:!0};a._1978=function(b){return this._3304?void 0!=this._908&&void 0!=this._908.get_FocusedImage():this._3304};a._1651=function(b,a){};a._7424=function(b,a){};a._1988=function(b){(this._420=b)?(this._546(this._3575),this.set_ActionCursor(this._5419)):this._546("")};a._4136=function(){};a._5854=function(){this._7886();
this._7658();this.set_IsEnabled(!1);this._5554=!1;this._740()};a._263=function(){this._908&&(this._5554=!0,this.set_IsEnabled(!0),this._7252(),this._7886(),this._4164(),this._4886())};a._7658=function(){};a._1275=function(b){this._6053("initializationStarted",b)};a._4142=function(b){this._6053("initializationFinished",b)};a._6394=function(b){this._6053("initializationException",b)};a._7886=function(){void 0!=this._908&&$(this._908._2515).off("."+this._4649)};a._4164=function(){var b=this,a=b._4649,
d=b._908._2515;$(d).on("_6908."+a,function(a,d){b._1651(a,d)});$(d).on("_2975."+a,function(a,d){b._7424(a,d)})};a._5589=function(b){if(this._1978()){var a=Date.now();Math.abs(a-this._7277)>this._5183&&(this._2150=0);this._7277=a;this._6053("mouseDown",b.e)}};a._6583=function(b){this._1978()&&this._6053("mouseMove",b.e)};a._3473=function(b){if(this._1978()){var a=Date.now();Math.abs(a-this._7277)<this._5183?this._2150++:this._2150=1;this._6053("mouseUp",b.e)}};a._203=function(b){this._1978()&&this._6053("mouseDoubleClick",
b.e)};a._111=function(b){this._3194&&this._5554&&(void 0==b&&(b=this._908.get_FocusedImage()),this._908._566(b))};a._6053=function(b,a){$(this).triggerHandler(b,a)};a._7633=function(b,a,d){};a._546=function(b){void 0!=this._908&&this._908._5170(b)};a._7252=function(){var b=this._908;b&&(this._3194=b._3704);b=this._3194;if(void 0!=b){var a=b._308;if(void 0==a||void 0==a.node.parentNode)b._308=b.rect(0,0,b.width,b.height).attr({"fill-opacity":0,fill:"#f00",stroke:"none"}),b._308.toBack()}};a._4886=
function(){this._740();this._4667=this._3194.rect(-1E3,-1E3,0,0)};a._740=function(){this._4667&&(this._4667.remove(),this._4667=void 0)};this._800="VisualTool";this._908=d;this._4649=b.WebImagingEnviromentJS.guid();this._7652=1;this._1433=this._5554=this._3304=!1;this._5419=this._3575="default";this._420=!1;this._4667=this._308=void 0;this._2150=1;this._5183=250;this._7277=0;this._7252();delete this._308;delete this._4667;delete a.mouseDown;delete a.mouseMove;delete a.mouseUp;delete a.mouseDoubleClick;
delete a.initializationStarted;delete a.initializationFinished;delete a.initializationException},k=function(d){function e(b,a){b.attr({fill:"rgba(255,255,255,92)","fill-opacity":.2,stroke:"rgba(0,0,0,192)",cursor:a})}function f(b,a){var d=a._7571,e=b.x-d.x,d=b.y-d.y,g=a._908._4259(),h,u,k,n;switch(a._4623._2000){case "top_left":a._6276.x+e<a._6477[2].x?(a._hm=!1,h=a._6276.x+e,u=a._3373.width-e):(a._hm=!0,h=a._6477[2].x,u=a._6276.x+e-h);a._6276.y+d<a._6477[5].y?(a._vm=!1,k=a._6276.y+d,n=a._3373.height-
d):(a._vm=!0,k=a._6477[5].y,n=a._6276.y+d-k);break;case "top_middle":h=a._6477[0].x;u=a._3373.width;a._6276.y+d<a._6477[5].y?(a._vm=!1,k=a._6276.y+d,n=a._3373.height-d):(a._vm=!0,k=a._6477[5].y,n=a._6276.y+d-k);break;case "top_right":a._6276.x+e>a._6477[0].x?(a._hm=!1,h=a._6477[0].x,u=a._3373.width+e):(this._hm=!0,h=a._6276.x+e,u=a._6477[0].x-h);a._6276.y+d<a._6477[5].y?(a._vm=!1,k=a._6276.y+d,n=a._3373.height-d):(a._vm=!0,k=a._6477[5].y,n=a._6276.y+d-k);break;case "middle_left":k=a._6477[0].y;n=
a._3373.height;a._6276.x+e<a._6477[2].x?(a._hm=!1,h=a._6276.x+e,u=a._3373.width-e):(a._hm=!0,h=a._6477[2].x,u=a._6276.x+e-h);break;case "middle_right":k=a._6477[0].y;n=a._3373.height;a._6276.x+e>a._6477[0].x?(a._hm=!1,h=a._6477[0].x,u=a._3373.width+e):(a._hm=!0,h=a._6276.x+e,u=a._6477[0].x-h);break;case "bottom_left":a._6276.x+e<a._6477[2].x?(a._hm=!1,h=a._6276.x+e,u=a._3373.width-e):(a._hm=!0,h=a._6477[2].x,u=a._6276.x+e-h);a._6276.y+d>a._6477[1].y?(a._vm=!1,k=a._6477[1].y,n=a._3373.height+d):(a._vm=
!0,k=a._6276.y+d,n=a._6477[1].y-k);break;case "bottom_middle":h=a._6477[0].x;u=a._3373.width;a._6276.y+d>a._6477[1].y?(a._vm=!1,k=a._6477[1].y,n=a._3373.height+d):(a._vm=!0,k=a._6276.y+d,n=a._6477[1].y-k);break;case "bottom_right":a._6276.x+e>a._6477[0].x?(a._hm=!1,h=a._6477[0].x,u=a._3373.width+e):(a._hm=!0,h=a._6276.x+e,u=a._6477[0].x-h),a._6276.y+d>a._6477[1].y?(a._vm=!1,k=a._6477[1].y,n=a._3373.height+d):(a._vm=!0,k=a._6276.y+d,n=a._6477[1].y-k)}0>h&&(u+=h,h=0);h+u>g.width&&(u=g.width-h);0>k&&
(n+=k,k=0);k+n>g.height&&(n=g.height-k);0>u&&(u=0);0>n&&(n=0);a.set_Rectangle({x:h,y:k,width:u,height:n})}k.superclass.constructor.apply(this,arguments);var g=k.prototype;g.get_BackColor=function(){return this._4291};g.set_BackColor=function(b){b=a._421(b);this._4291!==b&&(this._4291=b,void 0!=this._798&&this._798.attr({fill:b}))};g.get_BorderColor=function(){return this._1243};g.set_BorderColor=function(b){b=a._421(b);this._1243!==b&&(this._1243=b,void 0!=this._798&&this._798.attr({stroke:b}))};
g.get_Rectangle=function(){return{x:this._1013.x,y:this._1013.y,width:this._1013.width,height:this._1013.height}};g.set_Rectangle=function(a){b.pv.r(a);var d=a.x,e=a.y,f=a.width,g=a.height;(0>d||0>e||0>f||0>g)&&b.pv.tae();if(!v._1._7484(this._1013,a)&&void 0!=this._908){var h=this._908._4259();a=h.width;h=h.height;if(d>a||e>h)d=e=f=g=0;d+f>a&&(f=a-d);e+g>h&&(g=h-e);this._1013={x:d,y:e,width:f,height:g};this._1978()&&this._111()}};g.set_ActionCursor=function(b){k.superclass.set_ActionCursor.apply(this,
arguments);this._1978()&&this._420&&void 0!=this._798&&this._1236&&this._798.attr("cursor",b)};g.set_IsEnabled=function(b){var a=this._3304;k.superclass.set_IsEnabled.apply(this,arguments);this._3304!==a&&(this._3304?this._1978()&&(this._111(),void 0!=this._798&&this._798.show(),void 0!=this._6157&&this._6157.show()):(void 0!=this._798&&this._798.hide(),void 0!=this._6157&&this._6157.hide()))};g.get_Movable=function(){return this._1236};g.set_Movable=function(a){b.pv.b(a);this._1236=a;a=this._798;
if(void 0!=a){var d="";this._1236&&(d=this._5419);a.attr("cursor",d)}};g.get_Resizable=function(){return this._4913};g.set_Resizable=function(a){b.pv.b(a);if(a!==this._4913){this._4913=a;var d=this._6157;a?(d.remove(),this._6157=void 0):this._1978()&&this._111()}};g.reset=function(){this._7658();this._546(this._3575)};g._7658=function(){this._7571=this._3373=this._6477=this._2123=this._4623=void 0;this.set_Rectangle(v._1._5146())};g._6357=function(b){b=this._3194.getElementByPoint(b.x-(document.body.scrollLeft||
document.documentElement.scrollLeft),b.y-(document.body.scrollTop||document.documentElement.scrollTop));if(void 0!=b){if(b==this._798)return this._4623=this._798;if(void 0!=this._6157)for(var a=0;a<this._6157.length;a++)if(b==this._6157[a])return this._4623=this._6157[a],this._6157[a]}};g._5589=function(b){k.superclass._5589.apply(this,arguments);if(b.b===this._7652&&this._1978()){var a=this._908._2693(),d=a.transformPoint(b.pv),e=this._908._4259(),f=this._798;if(void 0!=f&&null!=f.node){var g=this._6357(b.ps);
if(void 0==g)f.remove(),this._798=void 0,this.set_Rectangle(v._1._5146()),0>d.x||0>d.y||d.x>e.width||d.y>e.height||(this._7571=d,b.handled=!0,b.active=!0);else{this._3373={width:this._798.attr("width"),height:this._798.attr("height")};if(g==this._798){if(!this._1236)return{handled:!1};this._2123={x:this._1013.x,y:this._1013.y}}else for(this._6477=[],e=0;e<this._6157.length;e++)f=a.transformPoint({x:this._6157[e].attr("cx"),y:this._6157[e].attr("cy")}),this._6477.push(f),this._4623==this._6157[e]&&
(this._6276=this._6477[e]);this._7571=d;b.handled=!0;b.active=!0}}else 0>d.x||0>d.y||d.x>e.width||d.y>e.height||(this._7571=d,b.handled=!0,b.active=!0)}};g._6583=function(b){k.superclass._6583.apply(this,arguments);if(void 0!=this._7571){var a=this._908._2693().transformPoint(b.pv);if(void 0==this._4623){var d=a,a=this._7571;if(void 0!=a){var e=d.x-a.x,g=d.y-a.y;if(0!==e||0!==g){var h=this._908._4259(),u=a.x,n=a.y;0>e&&(e*=-1,u=d.x);0>g&&(g*=-1,n=d.y);0>u&&(u=0,e=a.x);0>n&&(n=0,g=a.y);u+e>h.width&&
(e=h.width-u);n+g>h.height&&(g=h.height-n);this.set_Rectangle({x:u,y:n,width:e,height:g})}}}else this._4623==this._798?(e=this._7571,d=a.x-e.x,h=a.y-e.y,a=this._908._4259(),e=this._3373.width,g=this._3373.height,d=this._2123.x+d,h=this._2123.y+h,0>d&&(d=0),0>h&&(h=0),d+e>a.width&&(d=a.width-e),h+g>a.height&&(h=a.height-g),this.set_Rectangle({x:d,y:h,width:e,height:g})):f(a,this);b.handled=!0;b.active=!0}else this._546(this._3575)};g._3473=function(b){k.superclass._3473.apply(this,arguments);if(void 0!=
this._798){var a=this._1013.height;1>this._1013.width&&1>a&&this.set_Rectangle(v._1._5146())}void 0!=this._7571&&(b.handled=!0);this._6276=this._3373=this._6477=this._2123=this._4623=this._7571=void 0};g._1988=function(b){var a=this._420;k.superclass._1988.apply(this,arguments);this._420!==a&&(this._420?void 0!=this._6157&&(e(this._6157[0],"nw-resize"),e(this._6157[1],"n-resize"),e(this._6157[2],"sw-resize"),e(this._6157[3],"e-resize"),e(this._6157[4],"e-resize"),e(this._6157[5],"ne-resize"),e(this._6157[6],
"n-resize"),e(this._6157[7],"nw-resize")):void 0!=this._798&&(this._798.attr({cursor:""}),void 0!=this._6157&&this._6157.attr({cursor:""})))};g._1978=function(b){if(this._3304){var a=this._908;return void 0!=a&&(a=a.get_FocusedImage(),void 0==b&&(b=a),void 0!=b&&b===a)?!b.get_IsBad():!1}return this._3304};g._1651=function(b,a){var d=this._908,e=d.get_FocusedImage(),d=d._3217(e);this._7633(d,e)};g._7633=function(b,d,f){if(this._1978(d))if(f=this._1013,v._1._5177(f))void 0!=this._798&&(this._798.remove(),
this._798=void 0),void 0!=this._6157&&(this._6157.remove(),this._6157=void 0);else{d=Math.max(Math.abs(b._1124),Math.abs(b._7589));0===d&&(d=Math.max(Math.abs(b._2011),Math.abs(b._6655)));d={"stroke-width":1/d};void 0==this._798?(this._798=this._3194.rect(f.x,f.y,f.width,f.height).attr({fill:this._4291,stroke:this._1243,"stroke-dasharray":"--"}),this._4667&&this._798.insertAfter(this._4667),this._1236&&this._798.attr("cursor",this._5419)):(d.x=f.x,d.y=f.y,d.width=f.width,d.height=f.height);if(this._4913){var g=
this.get_Rectangle();if(!v._1._5177(g)){f=g.x;var h=g.y,u=g.width,g=g.height;f=[{x:f,y:h},{x:f+u/2,y:h},{x:f+u,y:h},{x:f,y:h+g/2},{x:f+u,y:h+g/2},{x:f,y:h+g},{x:f+u/2,y:h+g},{x:f+u,y:h+g}];b.transformPoints(f);h=!1;if(void 0==this._6157){var h=!0,k=this._3194,m,F,D,E,p;this._6157=k.set();u=k.circle(f[0].x,f[0].y,4);u._2000="top_left";g=k.circle(f[1].x,f[1].y,4);g._2000="top_middle";m=k.circle(f[2].x,f[2].y,4);m._2000="top_right";F=k.circle(f[3].x,f[3].y,4);F._2000="middle_left";D=k.circle(f[4].x,
f[4].y,4);D._2000="middle_right";E=k.circle(f[5].x,f[5].y,4);E._2000="bottom_left";p=k.circle(f[6].x,f[6].y,4);p._2000="bottom_middle";k=k.circle(f[7].x,f[7].y,4);k._2000="bottom_right";this._6157.push(u);this._6157.push(g);this._6157.push(m);this._6157.push(F);this._6157.push(D);this._6157.push(E);this._6157.push(p);this._6157.push(k)}h||(this._6157[0].attr({cx:f[0].x,cy:f[0].y}),this._6157[1].attr({cx:f[1].x,cy:f[1].y}),this._6157[2].attr({cx:f[2].x,cy:f[2].y}),this._6157[3].attr({cx:f[3].x,cy:f[3].y}),
this._6157[4].attr({cx:f[4].x,cy:f[4].y}),this._6157[5].attr({cx:f[5].x,cy:f[5].y}),this._6157[6].attr({cx:f[6].x,cy:f[6].y}),this._6157[7].attr({cx:f[7].x,cy:f[7].y}));f=this._908._1329;0===f||180===f?(e(this._6157[0],"nw-resize"),e(this._6157[1],"n-resize"),e(this._6157[2],"sw-resize"),e(this._6157[3],"e-resize"),e(this._6157[4],"e-resize"),e(this._6157[5],"sw-resize"),e(this._6157[6],"n-resize"),e(this._6157[7],"nw-resize")):(e(this._6157[0],"sw-resize"),e(this._6157[1],"e-resize"),e(this._6157[2],
"nw-resize"),e(this._6157[3],"n-resize"),e(this._6157[4],"n-resize"),e(this._6157[5],"nw-resize"),e(this._6157[6],"e-resize"),e(this._6157[7],"sw-resize"));this._798&&this._6157.insertAfter(this._798)}}else void 0!=this._6157&&(this._6157.remove(),this._6157=void 0);this._798.attr(d);a._6498(this._798,b)}};this._800="RectangularSelection";this._5419="move";this._798=void 0;this._4291="rgba(0,200,255,0.5)";this._1243="rgba(0,0,0,1)";this._1013=v._1._5146();this._4913=this._1236=!0;this._6276=this._4623=
this._6157=this._3373=this._6477=this._2123=this._7571=void 0};b.extend(k,g);var x=function(d){function e(b){var a=b._380;if(void 0!=a){var d=b._4414[a.ci],f=b._7235(d);void 0!=f&&(a=f[a.ei],void 0!=a&&a.attr({fill:d._299,stroke:d._6931}))}b._380=void 0}function f(b){var a=b._380;if(void 0!=a){var d=b._7235(b._4414[a.ci]);void 0!=d&&(a=d[a.ei],void 0!=a&&a.attr({fill:b._7143,stroke:b._1926}))}}x.superclass.constructor.apply(this,arguments);var g=x.prototype;g.set_ActionCursor=function(b){x.superclass.set_ActionCursor.apply(this,
arguments);if(this._420)for(var a in this._7736)this._7736[a].attr({cursor:b})};g.get_SelectedItem=function(){if(void 0==this._380)return-1;for(var b=this._380.ci,a=0,d=0;d<b;d++)a+=this._4414[d].get_Count();return a+=this._380.ei};g.set_SelectedItem=function(a){b.pv.n(a);0>a&&b.pv.toe();for(var d=a,g=0,h=0;g<this._4414.length;g++){var u=this._4414[g].get_Count(),h=h+u;if(d>=u)d-=u;else break}a>=h&&b.pv.toe();e(this);this._380={ci:g,ei:d};f(this)};g.get_SelectedItemBrushColor=function(){return this._7143};
g.set_SelectedItemBrushColor=function(b){b=a._421(b);this._7143!==b&&(this._7143=b,f(this))};g.get_SelectedItemPenColor=function(){return this._1926};g.set_SelectedItemPenColor=function(b){b=a._421(b);this._1926!==b&&(this._1926=b,f(this))};g.set_IsEnabled=function(b){var a=this._3304;x.superclass.set_IsEnabled.apply(this,arguments);if(this._3304!==a)if(!this._3304)for(var d in this._7736)this._7736[d].hide();else if(this._1978())for(d in this._111(),this._7736)this._7736[d].show()};g.addItems=function(a){b.pv.c(a,
A);this._4414.push(a);this._1978()&&this._111()};g.removeItemAt=function(a){b.pv.n(a);0>a||a>=this._4414.length?b.pv.toe():this._374(a)};g.clearItems=function(){if(0!=this._4414.length){for(var b in this._7736)this._7736[b].remove();this._7736={};this._380=void 0;this._4414=[]}};g.findItem=function(a,d){b.pv.n(a,d);if(0<this._4414.length){var e=this._5902({x:a,y:d});if(void 0!=e)return this._4414[e._collect].get_Item(e._3410)}};g.reset=function(){this.clearItems()};g.selectItem=function(a){b.pv.c(a,
q);var d=this._380;if(void 0==d||this._4414[d.ci]._4865[d.ei]!==a){for(var d=0,g=-1;d<this._4414.length&&(g=this._4414[d]._4865.indexOf(a),-1===g);d++);-1===g&&b.pv.te("Item is not contained in tool regions.");e(this);this._380={ci:d,ei:g};f(this)}};g._1988=function(b){var a=this._420;x.superclass._1988.apply(this,arguments);if(this._420!==a&&!this._420)for(var d in this._7736)this._7736[d].attr({cursor:""})};g._5902=function(b){if(0<this._4414.length)return b=this._3194.getElementByPoint(b.x-(document.body.scrollLeft||
document.documentElement.scrollLeft),b.y-(document.body.scrollTop||document.documentElement.scrollTop)),void 0==b||void 0==b._collect?void 0:b};g._263=function(){x.superclass._263.apply(this,arguments);this._4136();this.set_ActionCursor(this._5419)};g._7658=function(){this.clearItems()};g._4136=function(){this._1978()&&this._111()};g._5589=function(b){x.superclass._5589.apply(this,arguments);if(b.b===this._7652&&this._1978()){var a=this._5902(b.ps);e(this);void 0!=a&&(this._380={ci:a._collect,ei:a._3410},
f(this))}};g._1651=function(b,a){var d=this._908,e=d.get_FocusedImage(),d=d._3217(e);this._7633(d,e)};g._7633=function(b,d,e){if(this._1978(d)){var f=this._4667;for(d=0;d<this._4414.length;d++){e=this._4414[d];var g=this._7235(e);if(void 0==g){for(var g=this._3194,h=e,u=d,k=g.set(),m=h._299,F=h._6931,D=0;D<h.get_Count();D++){var E,p=h.get_Item(D),x=m,r=F;E=u;var I=D,x=g.path(0,0," ").attr({path:p.get_Path(),fill:x,stroke:r}),p=p.get_ToolTip();null!=p&&x.attr({title:p});x._collect=E;x._3410=I;E=x;
void 0!=f&&(E.insertAfter(f),f=E);k.push(E)}g=k;g.attr("cursor",this._5419);this._974(e,g)}a._6498(g,b);f=g[g.length-1]}}};g._7235=function(b){return this._7736[b._4649]};g._974=function(b,a){this._7736[b._4649]=a};g._374=function(b){var a=this._4414[b];this._4414.splice(b,1);a=a._4649;this._7736[a].remove();for(delete this._7736[a];b<this._4414.length;b++)if(a=this._7235(this._4414[b]),void 0!=a)for(var d=0;d<a.length;d++)a[d]._collect=b};this._800="HighlightTool";this._4414=[];this._7736={};this._380=
void 0;this._7143="rgba(0,0,255,0.18)";this._1926="rgba(0,128,0,0.75)"};b.extend(x,g);var q=function(b){var a=q.prototype;a.get_Path=function(){return this._3632};a.get_ToolTip=function(){return this._1737};a.set_ToolTip=function(b){this._1737=b};this._3632=b;this._1737=""};q.createObjectFromRectangle=function(a){b.pv.r(a);var d=new e;d._7555(a);return new q(d._418())};q.createObjectFromPolygon=function(a){b.pv.ad(a,b.pv.p);var d=new e;d._4826(a,!0);return new q(d._418())};var A=function(d,e,f){var g=
A.prototype;g.get_Count=function(){return this._4865.length};g.get_Item=function(a){b.pv.n(a);(0>a||a>this._4865.length)&&b.pv.toe();return this._4865[a]};this._299=a._421(e);this._6931=f=void 0!=f?a._421(f):"rgba(0,0,0,1)";b.pv.ac(d,q);this._4865=d;this._4649=b.WebImagingEnviromentJS.guid()},r=function(a){r.superclass.constructor.apply(this,arguments);var d=r.prototype;d.get_ZoomButton=function(){return this._7216};d.set_ZoomButton=function(a){b.pv.n(a);this._7216=a};d.set_Rectangle=function(b){r.superclass.set_Rectangle.apply(this,
arguments);this.set_ActionCursor(this._5419)};d._5589=function(b){r.superclass._5589.apply(this,arguments);if(this._7216===b.b){var a=this._6357(b.ps);if(void 0!=a&&a==this._798){var a=this._908,d=this.get_Rectangle(),d=v._1._6969(d),e=a._5488(),f=a._3511._6350(d),e=Math.min(e.width/f.width,e.height/f.height);this._4161=v._1._4234(d);this.reset();a.beginInit();a.set_ImageSizeMode(new t.WebImageSizeModeEnumJS(6));d=a._4837*e;1>d&&(d=1);1E3<d&&(d=1E3);a.set_Zoom(d);a.endInit();b.handled=!0}}};d._1651=
function(b,a){var d=this._908,e=d._3217();if(void 0!=this._4161){var f=d._5488(),e=e.transformPoint(this._4161);d._1143(e.x-f.width/2,e.y-f.height/2);this._4161=void 0}else r.superclass._1651.apply(this,arguments)};this._800="ZoomSelection";this._7216=1;this._4161};b.extend(r,k);var u=function(b){u.superclass.constructor.apply(this,arguments);var a=u.prototype;a.set_ActionCursor=function(b){u.superclass.set_ActionCursor.apply(this,arguments);void 0!=this._7571&&this._546(b)};a.reset=function(){u.superclass.reset.apply(this);
this._5635=this._7571=void 0;this._546(this._3575)};a._5589=function(b){u.superclass._5589.apply(this,arguments);b.b===this._7652&&this._1978()&&(this._7571=b.ps,this._5635=this._908._7454(),this.set_ActionCursor(this._5419),b.handled=!0,b.active=!0)};a._6583=function(b){u.superclass._6583.apply(this,arguments);if(void 0!=this._7571){this._546(this._5419);var a=this._908._5299(!0),d=this._908._5488(),e=parseInt(d.width),d=parseInt(d.height),f=this._908._6352(),g=b.ps,h=this._7571.x-g.x,g=this._7571.y-
g.y,k=0,n=0;void 0!=this._5635&&(k=this._5635.x,n=this._5635.y);e=Math.max(0,Math.min(a.width-e+f,k+h));a=Math.max(0,Math.min(a.height-d+f,n+g));this._908._4654(e,a);b.handled=!0;b.active=!0}else this._546(this._3575)};a._3473=function(b){u.superclass._3473.apply(this,arguments);this.reset()};this._800="Pan";this._7571=this._5635=void 0;this._3575=this._5419="pointer"};b.extend(u,g);var F=function(a){F.superclass.constructor.apply(this,arguments);var d=F.prototype;d.get_ZoomInButton=function(){return this._3057};
d.set_ZoomInButton=function(a){b.pv.n(a);this._3057=a};d.get_ZoomOutButton=function(){return this._5948};d.set_ZoomOutButton=function(a){b.pv.n(a);this._5948=a};d.get_ZoomStep=function(){return this._7382};d.set_ZoomStep=function(a){b.pv.n(a);this._7382=a};d.reset=function(){F.superclass.reset.apply(this);this._2629=this._2102=void 0};d._5589=function(b){F.superclass._5589.apply(this,arguments);this._908._7454();var a=this._908.get_Zoom(),d=0;this._5948===b.b&&(d-=this._7382);this._3057===b.b&&(d+=
this._7382);d=a*(1+d/100);1>d&&(d=1);1E3<d&&(d=1E3);d!==a&&(this._2102=a=b.pv,this._2629=this._908._600(a),this._908.beginInit(),this._908.set_ImageSizeMode(6),this._908.set_Zoom(d),this._908.endInit(),b.handled=!0)};d._1651=function(b,a){if(void 0!=this._2629){var d=this._908._1670(this._2629),e=d.x-this._2102.x,d=d.y-this._2102.y,f=this._908._7454();this._908._1143(f.x+e,f.y+d);this._2629=this._2102=void 0}};this._800="Zoom";this._3057=1;this._5948=3;this._7382=10;this._2629=this._2102=void 0;this._1433=
!0};b.extend(F,g);var E=function(a){function d(b){if(b._1978()){var a=b._908._107[0],f=b._908.get_FocusedImage();if(void 0!=a&&void 0==b._6995){b._6995=$("<div>").insertBefore(a);var a=b._2893.width,g=b._2893.height,u=h(b),u={width:a,height:g,cursor:"none",overflow:"hidden",display:"none","z-index":"100",border:"1px ridge black","background-color":u,position:"absolute","pointer-events":"none"};$(b._6995).css(u);b._6995[0].oncontextmenu=function(b){return!1};b._5313=Raphael(b._6995[0],a,g);b._5313.renderfix();
void 0!=f&&e(b,f)}}}function e(b,a){if(void 0==b._5313)d(b);else{var g=new sb._6080(b._5313,a,b._908._1965);b._762=g;g._4721();f(b);g._777(b._908._1329);g._3581(1024,1024);g._6522();g._6209()}}function f(b){var a=b._762,d=b._908._3511,g=d._2085;if(void 0==a)e(b,g);else{a._4721();var h=b._7852/100;a._687(d._1104*h,d._4719*h);a._777(d._1329);h=g.gi();h!==b._1174&&(a._681(g).remove(),a._5689(d),b._1174=h);b={x:0,y:0,width:b._2893.width,height:b._2893.height};a._4819(b);a._4739(b);d=d._57();void 0!=d&&
(d=d.clone(),d.set_BorderWidth(0));a._2689(d);a._6209()}}function g(b,a){var d=a.x,e=a.y,f=b._908._1844(),h=b._908._2226(),u=b._908._7454(),f=v._1._814(f,h),k=b._762._7677(!0),h=Math.round(Math.max(k.width,b._2893.width)),k=Math.round(Math.max(k.height,b._2893.height));b._5313.setSize(h,k);k=b._7852/100;h=b._2893.width/(2*k);k=b._2893.height/(2*k);d<h+f.x&&(d=h+f.x+1);e<k+f.y&&(e=k+f.y+1);var n=f.width;d+h>n+f.x&&(d=n-Math.ceil(h)-1+f.x);h=f.height;e+k>h+f.y&&(e=h-Math.ceil(k)-1+f.y);$(b._6995).css({"margin-left":d-
b._2893.width/2-u.x,"margin-top":e-b._2893.height/2-u.y});u=b._908._600(d,e);d=b._762;f=d._4935();e=u.x*f.x;f=u.y*f.y;h=b._2893.width/2;k=b._2893.height/2;n=d._7677();u={x:e-h,y:f-k,width:b._2893.width,height:b._2893.height};switch(d._5163()){case 90:u={x:n.height-f-h,y:e-k,width:b._2893.height,height:b._2893.width};break;case 180:u={x:n.width-e-h,y:n.height-f-k,width:b._2893.width,height:b._2893.height};break;case 270:u={x:f-h,y:n.width-e-k,width:b._2893.height,height:b._2893.width}}0>u.x&&(u.x=
0);0>u.y&&(u.y=0);e=b._6995[0];e.scrollLeft=u.x;e.scrollTop=u.y;d._4819(u)}function h(b){var a="inherit";if(void 0!=b._6995)for(b=b._6995.parent();0!==b.length&&b[0]!=document;){var d=b.css("background-color");if("rgba(0, 0, 0, 0)"!==d&&"transparent"!==d){a=d;break}b=b.parent()}return a}E.superclass.constructor.apply(this,arguments);var u=E.prototype;u.get_Size=function(){return{width:this._2893.width,height:this._2893.height}};u.set_Size=function(a){b.pv.sz(a);var d=a.width;a=a.height;(0>d||0>a)&&
b.pv.tae();if(this._2893.width!==d||this._2893.height!==a)this._2893={width:d,height:a},void 0!=this._6995&&($(this._6995).css({width:d,height:a}),this._5313.width=d,this._5313.height=a,void 0!=this._762&&(f(this),void 0!=this._124&&g(this,this._124)))};u.get_Zoom=function(){return this._7852};u.set_Zoom=function(a){b.pv.n(a);100>a&&(a=100);500<a&&(a=500);a!==this._7852&&(this._7852=a,void 0!=this._762&&(f(this),void 0!=this._124&&g(this,this._124)))};u.set_ActionCursor=function(b){E.superclass.set_ActionCursor.apply(this,
arguments);this._1978()&&this._420&&this._7320&&this._546(b)};u.set_IsEnabled=function(b){var a=this._3304;E.superclass.set_IsEnabled.apply(this,arguments);this._3304!==a&&(this._3304||this._1641())};u.reset=function(){this._2195()};u._5589=function(b){E.superclass._5589.apply(this,arguments);if(b.b===this._7652&&this._1978()){var a=b.pv,d=!1,e=this._908._3511;void 0!=e&&(d=e._3329(a));d&&(f(this),this._7043(a),g(this,a),b.handled=!0,b.active=!0)}};u._6583=function(b){E.superclass._6583.apply(this,
arguments);if(this._7320){var a=b.pv;this._546(this._5419);this._124=a;g(this,a);b.handled=!0;b.active=!0}else this._546(this._3575)};u._3473=function(b){E.superclass._3473.apply(this,arguments);this._7320&&this._2195()};u._263=function(){E.superclass._263.apply(this,arguments);void 0==this._6995&&d(this)};u._5854=function(){E.superclass._5854.apply(this,arguments);this._7658();this._1641()};u._7658=function(){this._124=void 0;this._7320=!1};u._1988=function(b){(this._420=b)?this._546(this._3575):
this._546("")};u._1978=function(b){if(this._3304){var a=this._908;return void 0!=a&&(a=a.get_FocusedImage(),void 0==b&&(b=a),void 0!=b&&b===a)?!b.get_IsBad():!1}return this._3304};u._1641=function(){void 0!=this._762&&(this._762=void 0);$(this._6995).remove();this._1174=this._6995=this._5313=void 0;this._7320=!1};u._7043=function(b){if(void 0!=this._6995){this._7320=!0;var a=h(this);$(this._6995).css({display:"block","background-color":a});this._124=b;this.set_ActionCursor(this._5419)}};u._2195=function(){$(this._6995).css("display",
"none");this._7658();this.set_Cursor(this._3575)};this._800="Magnifier";this._2893={width:200,height:200};this._7852=250;this._6995;this._5313;this._762;this._1174;this._124=void 0;this._7320=!1;this._5419="none"};b.extend(E,g);var D=function(a,d){function e(b,a){var d=b._4649;$(a).on("initializationStarted."+d+" initializationFinished."+d+" initializationException."+d,function(a,d){b._6053(a.type,d)})}D.superclass.constructor.apply(this,arguments);var f=D.prototype;f.get_VisualTools=function(){return[].concat(this._5222)};
f.get_Tool=function(a){b.pv.n(a);0>a&&a>this._5222.length&&b.pv.toe();return this._5222[a]};f.get_ActiveVisualTool=function(){return this._929};f.set_ActiveVisualTool=function(a){if(0!=this._5222.length){if(void 0!=a&&(b.pv.c(a,g),-1===this._5222.indexOf(a)&&b.pv.te("Composite visual tool does not contain specified visual tool."),this._929==a))return;var d=void 0==a?!0:!1;this._929=a;for(a=this._5222.length-1;0<=a;a--)this._5222[a]._1988(d);void 0!=this._929&&this._929._1988(!0)}};f.set_IsEnabled=
function(b){D.superclass.set_IsEnabled.apply(this,arguments);for(var a=this._5222.length-1;0<=a;a--)this._5222[a].set_IsEnabled(b)};f.get_IsMultipageModeSupported=function(){for(var b=0;b<this._5222.length;b++)if(this._5222[b].get_IsMultipageModeSupported())return!0;return!1};f.get_DisableContextMenu=function(){if(void 0!=this._929)return this._929._1433;for(var b=0;b<this._5222.length;b++)if(this._5222[b]._1433)return!0;return!1};f.set_DisableContextMenu=function(a){b.pv.b(a);var d=this._5222;if(0!==
d.length)if(void 0!=this._929)this._929._1433=a;else if(1===d.length)d[0]._1433=a;else for(var e=0;e<d.length;e++)d[e]._1433!=a&&b.pv.te("The property cannot be set for composite visual tool.")};f.reset=function(){for(var b=this._5222.length-1;0<=b;b--)this._5222[b].reset()};f._1467=function(b){if(this._3304){if(void 0!=this._929)return this._929._1467(b);for(var a=0;a<this._5222.length;a++)if(this._5222[a]._1467(b))return!0}return!1};f._263=function(){this._420=this._5554=!0;this.set_IsEnabled(!0);
for(var b=this._5222.length-1;0<=b;b--){var a=this._5222[b];a._908=this._908;a._263();a._7886();e(this,a)}this._4164();b=this._929;void 0!=b&&(b=this._5222.indexOf(b),-1!==b&&this._5222[b]._1988(!0));this._3194=this._5222[0]._3194};f._5854=function(){D.superclass._5854.apply(this,arguments);for(var b=this._5222.length-1;0<=b;b--){var a=this._5222[b];a._5854();var d=this._4649;$(a).off("initializationStarted."+d+" initializationFinished."+d+" initializationException."+d)}};f._5589=function(b){D.superclass._5589.apply(this,
arguments);if(void 0!=this._929)this._929._1978()&&this._929._5589(b);else for(var a=0;a<this._5222.length;a++){var d=this._5222[a];if(d._1978()&&(d._5589(b),b.handled))break}};f._6583=function(b){D.superclass._6583.apply(this,arguments);if(void 0!=this._929)this._929._1978()&&this._929._6583(b);else for(var a=0;a<this._5222.length;a++){var d=this._5222[a];if(d._1978()&&(d._6583(b),b.handled))break}};f._3473=function(b){D.superclass._3473.apply(this,arguments);if(void 0!=this._929)this._929._1978()&&
this._929._3473(b);else for(var a=0;a<this._5222.length;a++){var d=this._5222[a];if(d._1978()&&(d._3473(b),b.handled))break}};f._203=function(b){D.superclass._203.apply(this,arguments);if(void 0!=this._929)this._929._1978()&&this._929._203(b);else for(var a=0;a<this._5222.length;a++){var d=this._5222[a];if(d._1978()&&(d._203(b),b.handled))break}};f._1651=function(b,a){for(var d=this._5222.length-1;0<=d;d--)this._5222[d]._1651(b,a)};f._7424=function(b,a){for(var d=this._5222.length-1;0<=d;d--)this._5222[d]._7424(b,
a)};f._7633=function(b,a,d){for(var e=this._5222.length-1;0<=e;e--){var f=this._5222[e];f._1978(a)&&f._7633(b,a,d)}};f._7252=function(){D.superclass._7252.apply(this,arguments);if(void 0!=this._5222)for(var b=0;b<this._5222.length;b++)this._5222[b]._7252()};this._5222=[];this._800="Composite:";var h=this;b.pv.ad(d,function(a){b.pv.c(a,g);h._5222.push(a);h._800+=a._800+","});this._800[this._800.length-1]=".";this._929=void 0};b.extend(D,g);var I=function(b){I.superclass.constructor.apply(this,arguments);
var a=I.prototype;a._4715=function(b){};a.set_ActionButton=function(b){};a._5589=function(b){this._3304&&(I.superclass._5589.apply(this,arguments),b.handled&&$(this._908._2515).triggerHandler("_4715"))};a._6583=function(b){this._5448||($(this._3194.canvas).css("z-index",30),this._5448=!0);I.superclass._6583.apply(this,arguments)};a._3473=function(b){I.superclass._3473.apply(this,arguments);var a=this._798;if(void 0!=a){var d=this._908,e=a.matrix.x(a.attr("x"),a.attr("y")),f=a.matrix.y(a.attr("x"),
a.attr("y")),g=a.attr("width"),h=a.attr("height"),u=d._2620(),k=u.width,u=u.height,n=[];void 0!=d._1465&&(n=d._1465.find("div.border"));for(var m=$(this._3194.canvas).offset(),F=[],D=0;D<n.length;D++){var E=$(n[D]).offset(),p=E.top-m.top,E=E.left-m.left;if(!(e>=E+k||e+g<=E||f>=p+u||f+h<=p||(F.push(D),this._908.get_MultiSelect())))break}d.set_SelectedIndices(F);a.remove();delete this._798;this.set_Rectangle(v._1._5146())}$(this._3194.canvas).css("z-index",1);this._5448=!1};a._111=function(b){this._3194&&
this._5554&&this._908.invalidate()};a._1978=function(b){return this._3304};a._546=function(b){};this._800="ThumbnailSelection";this._5448=!1;$("#"+this._908._1182+" svg").css("z-index",1);this.set_Resizable(!1);this.set_Movable(!1);delete a._4715};b.extend(I,k);d.WebHighlightToolJS=x;d.WebVisualToolJS=g;d.WebRectangularSelectionToolJS=k;d.WebHighlightObjectJS=q;d.WebHighlightObjectsJS=A;d.WebZoomSelectionToolJS=r;d.WebPanToolJS=u;d.WebZoomToolJS=F;d.WebMagnifierToolJS=E;d.WebCompositeVisualToolJS=
D;d._3172=I})(h.VisualTools);var a=function(d,e,g,h){var k=a.prototype;k.changed=function(b){};k.get_BackColor=function(){return this._4291};k.set_BackColor=function(a){b.pv.s(a);this._4291!==a&&(this._4291=a,this._1241())};k.get_BorderColor=function(){return this._1243};k.set_BorderColor=function(a){b.pv.s(a);this._1243!==a&&(this._1243=a,this._1241())};k.get_BorderWidth=function(){return this._7313};k.set_BorderWidth=function(a){b.pv.n(a);0>a&&b.pv.toe();this._7313!==a&&(this._7313=a,this._1241())};
k.equals=function(d){return b.pv.ic(d,a)?this._4291===d._4291&&this._1243===d._1243&&this._7313===d._7313&&this._2687===d._2687:!1};k.clone=function(){return new a(this._4291,this._1243,this._7313,this._2687)};k._1241=function(b){$(this._2460).triggerHandler("changed",b);$(this).triggerHandler("changed",b)};this._4291="rgba(255,255,255,0)";this._1243="rgba(0,0,0,1)";this._7313=0;this._2687="solid";this._2460={};void 0!=d&&(b.pv.s(d,e),this._4291=d,this._1243=e,b.pv.n(g),0>g&&b.pv.toe(),this._7313=
g,this._2687=h);delete k.changed},e=function(a,d,g){function m(b,a){var d=0;if(0===a.length)for(var e=0;e<b.length;e++)a.push(e);for(e=0;e<a.length;e++)a[e]<b.length&&3===b[a[e]].data("info").s&&d++;return d}function k(b){if(b._1108){var a=b._3127();if(0===a.length)return!1;for(var d=0;d<a.length;d++){var e=b._1108[a[d]];if(void 0==e||3!==e.data("info").s)return!1}return!0}return!1}function x(b,a,d,e){b="tlL"+b.x+","+b.y;b+="S"+d.x+","+d.y+"Sz"+a.width+","+a.height;if(!1!==e.get_IsVector()){var f=
e.get_RenderingSettings();a=f.get_Resolution();d=f.get_InterpolationMode();f=f.get_SmoothingMode();b+="Rs"+a.x+","+a.y+","+d.valueOf()+","+f.valueOf()}e=e.get_DecodingSettings();void 0!=e&&e.get_IsColorManagementEnabled()&&(b+="Cm");return b}function q(b,a){if(a.image!==b._2085||a.scale.x!==b._1104||a.scale.y!==b._4719||b._5930!==a.size.width||b._3061!==a.size.height)return!1;var d=b._2085.get_RenderingSettings(),e=b._2085.get_DecodingSettings();return d.equals(a.renderingSettings)&&(void 0!=e&&e.equals(a.decodingSettings)||
void 0==e&&e==a.decodingSettings)}function A(b,a){var d,e=-1;if(q(b,a))for(var f=a.pos,g=0;g<b._1108.length;g++){var h=b._1108[g].data("info").loc;if(h.x===f.x&&h.y===f.y){d=b._1108[g];e=g;break}}return{t:d,i:e}}var r=e.prototype;r._1437=function(b,a){};r._5163=function(){return this._1329};r._777=function(b){this._1329!==b&&(this._1329=b,this._6199=!0,this._4733())};r._5425=function(){return this._6504};r._390=function(b){this._6504=b};r._4935=function(){return{x:this._1104,y:this._4719}};r._687=
function(b,a){if(this._1104!==b||this._4719!==a)this._1104=b,this._4719=a,this._6199=!0,this._3593()};r._7705=function(){return{width:this._5930,height:this._3061}};r._3581=function(b,a){if(this._3061!==a||this._5930!==b)this._5930=b,this._3061=a,this._3593()};r._5191=function(){return this._1029};r._2457=function(b){this._1029=b};r._5834=function(){return this._7425};r._4848=function(b){this._7425=b};r._3559=function(){(void 0==this._6194||this._6199)&&this._692();return{x:this._6194.x,y:this._6194.y}};
r._4739=function(b){v._1._7484(this._2430,b)||(this._2430=b,this._6199=!0,this._4733())};r._4819=function(b){v._1._7484(this._5324,b)||(this._5324=b,this._7109())};r._57=function(){return this._1605};r._2689=function(b){b===this._1605||void 0!=b&&b.equals(this._1605)||(this._1605=b,this._7109())};r._3299=function(b){this._3976.equals(b)||(this._3976=b,this._6199=!0,this._4733())};r._681=function(b){this._2085=b;this._6199=!0;this._2335=0;this._5832=3;this._2747(!1);return this._3260()};r._1571=function(){return this._2085.get_IsBad()};
r._3837=function(){return this._2781&&!this._1571()};r._2747=function(b){this._2781!==b&&(this._2781=b)&&(b={rect:this._774(),image:this._2085},this._6053("_1437",b))};r._3012=function(){return void 0==this._6230&&0===this._2335};r._692=function(){var b=this._7677(!0),a=b.width,b=b.height,d=this._2430.x,e=this._2430.y,f=this._2430.width,g=this._2430.height,a=a<f?this._3976.contains(4)?d:this._3976.contains(8)?d+f-a:d+(f-a)/2:d,b=b<g?this._3976.contains(1)?e:this._3976.contains(2)?e+g-b:e+(g-b)/2:
e;this._6194={x:Math.round(a),y:Math.round(b)}};r._4721=function(){this._2205++};r._6209=function(b){void 0==b&&(b=!1);b?this._2205=0:this._2205--;0===this._2205?this._7109():0>this._2205&&(this._2205=0)};r._119=function(){return 0!==this._2205};r._3329=function(b){var a=this._774();return v._1._6540(a,b)};r._321=function(){this._7789=!1;var b=this._774();return v._1._7760(b,this._5324)?this._7789=!0:!1};r._7109=function(){if(!this._685&&void 0!=this._2085.get_Size()&&0===this._2205){var b=this._5324;
if(0!==b.width&&0!==b.height){this._5747=this._7743=!1;var a=this._1571();if(this._6199||a)this._692(),this._6199=!1;b=this._321();if(a&&void 0!=this._1108){b&&this._2913();var d=this._7677(),a=d.width,d=d.height,e=this._1108[0];void 0!=e&&e.attr({width:a,height:d});a=this._5409();h._1059._6498(this._1108,a);this._4375();b&&(this._2747(!0),this._3994())}else 1===this._5832?(d=this._3012(),b&&!d&&this._2913(),a=this._5409(),void 0!=this._1108&&h._1059._6498(this._1108,a),void 0!=this._6230&&h._1059._6498(this._6230,
a),b&&!d&&this._2747(!0)):2<=this._5832&&(2===this._5832&&this._4315(),this._2630()),this._4375(),b&&(b=this._2752(),this._6281(),!b&&k(this)&&(this._2913(),this._3994()));this._5832=0}else this._7789=!1}};r._3859=function(b){void 0==b&&(b=!1);var a=0,d=0,e=this._2085.get_Size();void 0!=e&&(a=e.width,d=e.height,this._2085.get_IsBad()||0===a||0===d)&&(d=this._1965.height,e=this._2430.height,a=Math.min(this._1965.width,this._2430.width),d=Math.min(d,e));!b||90!==this._1329&&270!==this._1329||(b=a,a=
d,d=b);return{width:a,height:d}};r._7677=function(b){void 0==b&&(b=!1);var a=0,d=0,e=this._2085.get_Size();void 0!=e&&(a=e.width,d=e.height,this._2085.get_IsBad()||0===a||0===d?(d=this._1965.height*this._4719,e=this._2430.height,a=Math.min(this._1965.width*this._1104,this._2430.width),d=Math.min(d,e)):(a*=this._1104,d*=this._4719));!b||90!==this._1329&&270!==this._1329||(b=a,a=d,d=b);return{width:a,height:d}};r._774=function(){var b=this._7677(!0),a=this._3559();return{x:a.x,y:a.y,width:b.width,height:b.height}};
r._6350=function(b){if(!this._7789)return v._1._5146();var a=this._6577(b);return{x:a.x,y:a.y,width:b.width*this._1104,height:b.height*this._1104}};r._6577=function(b){if(!this._7789)return{x:0,y:0};var a=this._3559();return{x:a.x+(b.x-this._5324.x)*this._1104,y:a.y+(b.y-this._5324.y)*this._4719}};r._2630=function(){var b=this._5930,a=this._3061,d=this._1104,e=this._4719,f=this._7677(),g=f.width,k=f.height,f=b/d,n=a/e,m=Math.floor(k/a),p=Math.floor(g/b),r=p,t=m,g=Math.round(g-b*p);Math.round(g/d);
0<g&&r++;k=Math.round(k-a*m);Math.round(k/e);0<k&&t++;this._5370=r;this._5452=t;var x=t*r,q=this._3617;this._1108=q.set();var v=0,A=0,C=this._5409();void 0==this._1294&&(this._1294=q.rect(0,0,0,0));void 0==this._4546&&(this._4546=q.rect(0,0,0,0));for(var za=this._4546;A<t;){for(var G=A*n,H=A*a,Z=r+v;v<Z&&v<x;){var N=(v-A*r)*f,O=q.image(" ",(v-A*r)*b,H,v!=p+A*r?b:g,A!=m?a:k);O.node.removeAttribute("href");this._1108.push(O);h._1059._6498(O,C);O.data({info:{loc:{x:N,y:G},s:0}});O.insertBefore(za);v++}A++}this._1108.s=
{x:d,y:e};this._2335=0};r._4315=function(){this._7677();var b=this._3127();if(void 0!=this._1108){if(void 0==this._6230){var a=m(this._1108,b);0<a?this._6230=this._1108:this._1108.remove()}else{var a=m(this._1108,b),d=m(this._6230,b),e=this._1104;a>d?(this._6230.remove(),this._6230=this._1108):a===d&&0!==a&&Math.abs(this._1108.s.x-e)<Math.abs(this._6230.s.x-e)?(this._6230.remove(),this._6230=this._1108):this._1108.remove()}void 0!=this._6230&&this._7150(b)}else this._6993()};r._7150=function(b){var a=
this._6230;if(0!==a.length){var d=this._4935(),e=this._7677(),f=d.x/a.s.x,g=d.y/a.s.y;this._2913();for(var k=this._5409(),n=0,m=0;n<a.length;){var p=a[n];if(-1!=b.indexOf(m)&&void 0!=p.attrs&&" "!==p.attrs.src){var r=p.attr("width"),t=p.attr("height"),q=p.attr("x"),x=p.attr("y"),r=r*f,t=t*g;r>e.width&&(r=e.width);t>e.height&&(t=e.height);p.attr({x:Math.floor(q*f),y:Math.floor(x*g),width:Math.ceil(r),height:Math.ceil(t)});h._1059._6498(p,k);n++}else p.remove(),a.splice(n,1);m++}a.s=d;this._2747(!0)}};
r._5409=function(){var b=new v.WebMatrixJS,a=this._7677(),d=this._3559(),e=d.x,d=d.y,f=a.width,a=a.height;b.rotate(this._1329);switch(this._1329){case 0:b.translate(e,d);break;case 90:b.translate(a+e,d);break;case 180:b.translate(f+e,a+d);break;case 270:b.translate(e,f+d)}b._7359=Math.round(b._7359);b._6648=Math.round(b._6648);return b};r._3217=function(){var b=this._5409(),a=b._7359,d=b._6648,e=this._1104,f=this._4719;if(90===this._1329||270===this._1329)var g=e,e=f,f=g;b.scale(e,f);b._7359=Math.round(a);
b._6648=Math.round(d);return b};r._6281=function(){if(!this._685){for(var b=this._3127(),a=-1,d=0;d<b.length;d++){var e=this._1108[b[d]];if(void 0!=e&&0===e.data("info").s){a=b[d];break}}-1===a||this._5774||this._1735(a)}};r._3127=function(){if(void 0==this._1108)return[];var b=this._5370,a=this._5452,d=this._5930,e=this._3061,f={x:this._5324.x,y:this._5324.y,width:this._5324.width,height:this._5324.height};if(0===f.width||0===f.height||!v._1._7760(f,this._2430))return[];var g=this._5409();g.invert();
g.transformRectangle(f);f=v._1._6969(f);0>f.x&&(f.x=0);0>f.y&&(f.y=0);var g=Math.floor(f.y/e),h=e-f.y%e;0==f.y&&(h=0);var k=0;0<h&&h<=e&&0!=f.y&&(k=1);f.height-=h;0>f.height&&(f.height=0);k+=Math.floor(f.height/e);0<f.height%e&&k++;k>a&&(k=a);a=Math.floor(f.x/d);h=d-f.x%d;0==f.x&&(h=0);e=0;0<h&&h<=d&&0!=f.x&&(e=1);f.width-=h;0>f.width&&(f.width=0);e+=Math.floor(f.width/d);0<f.width%d&&e++;e>b&&(e=b);d=g+k;f=a+e;k=this._1108.length;for(e=[];g<d;g++)for(h=a;h<f;h++){var n=g*b+h;n<=k&&e.push(n)}return e};
r._1735=function(b){function a(b,d,e){p._78(b)}function d(b,a,f){if(b.blocked)p._5774=!1,e.s=0,p._6281();else if(a=p,void 0==A(a,b).t)a._5774=!1,a._6281();else if(void 0!=a._6230&&(a._6230=void 0),f=a._774(),v._1._1640(f),a._6194=a._692(),a._5774=!1,f=a._1108,a._1108=a._3617.set(),f.remove(),a._5370=1,a._5452=1,a._2335=1,a._6053("imagePaintingException",b),void 0!=b.fileId){f=a._5409();var g=a._7677(),k=g.width,g=g.height;a._2913();b=a._3617.image(b.fileId,0,0,k,g);a._1108.push(b);b.data("info",{loc:{x:0,
y:0},s:3});h._1059._6498(b,f);void 0!=a._4546&&b.insertBefore(a._4546);a._2747(!0);a._3994()}}var e=this._1108[b].data("info"),f=e.loc;b=this._2085;var g=f.x,f=f.y,k=this._5930,n=this._3061,m=this._4935(),p=this;e.s=1;this._1029?b.renderTileWithNeighbours(g,f,k,n,m,this._7425,a,d):b.renderTile(g,f,k,n,m,this._1029,this._7425,a,d);this._5774=!0};r._78=function(b){var a=void 0==b.a;if(a){var d=this._6504;if(void 0!=d){var e=b.image,f=x(b.pos,b.size,b.scale,e);d.containsImageData(e,f)||d.addImageData(e,
f,b.fileId)}}if(this._685)this._5774=!1;else{var d=A(this,b),g=d.t,h=d.i;if(void 0!=g){var n=this,m=b.fileId;/^data:image\/[a-zA-Z]+;base64,/.test(m)||(m+="?"+b.image.gi());var p=0;g.attr({src:m});var r=new Image;r.onerror=function(b){10>p&&(setTimeout(function(){g.attr({src:m});r.src=m},250),p++)};r.onload=function(d){function e(){if(!n._685&&void 0!=n._1108)if(q(n,b)){var d=r.height;0!==r.width&&0!==d&&n._2747(!0);n._685||(n._3012()&&n._2913(),g.data("info").s=3,d=n._1108.length,n._2335++,n._6053("imageTilePainted",
{tileCount:d,renderedTileCount:n._2335,tileIndex:h,image:n._2085}),n._2335===d&&n._6993(),k(n)&&n._3994())}else a&&n._6281()}this.onerror=this.onload=null;if(void 0!=window.requestAnimationFrame){var f=function(){requestAnimationFrame(e)};requestAnimationFrame(function(){requestAnimationFrame(f)})}else e()};r.src=m;g.image=r;g.data("info").s=2}this._5774=!1;a&&this._6281()}};r._6993=function(){void 0!=this._6230&&(this._6230.remove(),this._6230=void 0)};r._2752=function(){var b=this._6504,a=!1;if(void 0!=
b){var d=this._2085;if(void 0!=d&&void 0!=this._1108)for(var e=0;e<this._1108.length;e++){var f=this._1108[e].data("info");if(0===f.s){var f=f.loc,g=this._4935(),h={width:this._5930,height:this._3061},k=x(f,h,g,d),k=b.getImageData(d,k);void 0!=k&&(a={fileId:k,image:d,pos:f,scale:g,size:h,renderingSettings:d.get_RenderingSettings().clone(),a:!1},f=d.get_DecodingSettings(),void 0!=f&&(a.decodingSettings=f.clone()),this._78(a),a=!0)}else 3===f.s&&this._2747(!0)}}return a};r._2913=function(){this._7743||
(this._6053("imagePainting",{image:this._2085}),this._7743=!0)};r._3994=function(){this._5747||(this._6053("imagePainted",{image:this._2085}),this._5747=!0)};r._6053=function(b,a){$(this).triggerHandler(b,a)};r._5689=function(a){b.pv.c(a,e);if(void 0!=a._1108&&!a._2085.get_IsBad()){for(var d=this._1104/a._1104,f=this._4719/a._4719,g=this._3617.set(),k=0;k<a._1108.length;k++){var n=a._1108[k],m=g.paper.image(n.attr("src"),n.attr("x")*d,n.attr("y")*f,n.attr("width")*d,n.attr("height")*f);m.toBack();
m.data("info",n.data("info"));g.push(m)}g.s={x:a._1104,y:a._4719};d=this._5409();h._1059._6498(g,d);a._2085.get_IsBad()?(this._6230=void 0,this._1108=g):this._6230=g}};r._4733=function(){0===this._5832&&(this._5832=1);this._7109()};r._3593=function(){this._2747(!1);3!==this._5832&&(this._5832=2);this._2335=0;this._7109()};r._6650=function(){var b=this._1294,a;void 0!=this._1605?(a=this._774(),a.fill=this._1605._4291,a.stroke="none"):a={width:0,height:0};void 0!=b&&b.attr(a)};r._567=function(){var b=
this._4546,a,d=this._1605;if(void 0!=d){var e=d._7313;if(0!==e){a=this._774();var f=e/2,g={x:a.x+f,y:a.y+f,width:Math.ceil(a.width-e),height:Math.ceil(a.height-e)},f=!0;if(0>g.width||0>g.height)f=!1,g=a;a=g;f?(a.fill="none",a.stroke=d._1243):(a.fill=d._1243,a.stroke="none")}else a={};a["stroke-width"]=e}else a={width:0,height:0};void 0!=b&&b.attr(a)};r._4375=function(){this._6650();this._567()};r._3260=function(){var b=this._3617.set();void 0!=this._1108&&(b.push(this._1108),this._1108=void 0);void 0!=
this._6230&&(b.push(this._6230),this._6230=void 0);void 0!=this._1294&&(b.push(this._1294),this._1294=void 0);void 0!=this._4546&&(b.push(this._4546),this._4546=void 0);return b};r._6006=function(){$(this).off();this._5324=v._1._5146();this._6199=!0;this._5832=0;this._7789=!1;this._5832=2;this._685=!0;this._2747(!1);return this._3260()};r._6522=function(){this._685=!1};this._3617=a;this._2085=d;this._6194;this._3061=this._5930=this._4719=this._1104=0;this._1029=!0;this._7425=new b.WebImageTypeEnumJS(1);
this._6504;this._5969;this._5452=this._5370=this._1329=0;this._1108;this._6230;this._5774=!1;this._2335=0;this._2430=v._1._5146();this._5324=v._1._5146();this._3976=new t.WebImageAnchorTypeEnumJS(0);this._5832=this._2205=0;this._1605;this._1965=g;this._2781=!1;this._685=!0;this._7789=this._6199=!1;this._1294;this._4546;this._4649=b.WebImagingEnviromentJS.guid();this._5747=this._7743=!0;delete r._1437},g=function(d){function n(b,a){var d={x:a.pageX,y:a.pageY},e=b._4971(d),f=b._1007(e),g=-1;a.which?
g=a.which:a.button&&(a.button&1?g=1:a.button&4?g=2:a.button&2&&(g=3));-1==g&&void 0!=a.sourceEvent&&"touchstart"===a.sourceEvent.type&&(g=1);return{ps:d,pc:e,pv:f,e:a,b:g,handled:!1,active:!1}}function p(b,a){var d=b.data.v,e;e=void 0!=a?a.get_Images():d.get_Images();for(var f=0;f<e.get_Count();f++)C(d,e.get_Image(f));d._6053("_6393",a)}function m(b,a){var d=b.data.v,e;e=void 0!=a?a.get_Images():d.get_Images();for(var f=0;f<e.get_Count();f++)q(d,e.get_Image(f));f=-1;void 0!=a?(f=a._261,-1===f&&0<
e.get_Count()&&(f=0)):0<e.get_Count()&&(f=0);d._261=f;d._6053("_1403",a);d._7169()}function k(b,a){var d=b.data.v,e=[],f=[];switch(a.actionName){case "set":e.push(a.previousImage);case "insert":f.push(a.image);break;case "insertRange":f=a.images;break;case "removeAt":e.push(a.image);break;case "clear":case "removeRange":e=a.images}for(var g=0;g<f.length;g++){var w=f[g];void 0!=d._5969&&w.set_RenderingSettings(d._5969);q(d,w)}for(var f=d.get_ImageCacheManager(),h=void 0!=f&&d.get_SyncCacheWithImages(),
g=0;g<e.length;g++)w=e[g],C(d,w),h&&f.contains(w)&&f.clearImageCache(w);d._6053("_355",a)}function q(b,a){if(void 0==b._3541)$(a.evm).on("icd."+b._1182,{v:b},A);b._7884[a.get_Guid()]=new e(b._1187,a,b._1965)}function C(b,a){var d=a.get_Guid(),e=b._7884[d];void 0==b._743&&(b._743=[]);e=e._6006();b._743.push(e);delete b._7884[d];$(a.evm).off("icd."+b._1182);R(b,a)}function A(b,a){var d=b.data.v,e=a.i,f=d.get_ImageCacheManager();void 0!=f&&f.contains(e)&&f.clearImageCache(e);f=d.get_FocusedImage();e===
f&&I(d);f=d._7884[e.get_Guid()];void 0!=f&&(void 0==d._743&&(d._743=[]),e=f._681(e),d._743.push(e),-1!==d._3533.indexOf(f)&&d._7169());d._6053("_3965",a)}function r(b,a){var d=b.data.v,e=d._261,f=d._1318(a);d._6053("_2975",a);f&&d._7169();d._261!==e&&d._6053("focusedIndexChanged",{newFocusedIndex:d._261,previouslyFocusedIndex:e})}function u(b){b=b.data.v;b.get_Images().setRenderingSettings(b._5969)}function F(b,a){var d=b.data.v,e=a.newFocusedIndex;-1!==e&&e!==d._261&&d.set_FocusedIndex(e)}function E(b,
a){b.data.v.set_ImageRotationAngle(a)}function D(b,a){var d=b.data.v,e;for(e in d._7884)d._7884[e]._390(a);d._6053("_1454",a)}function I(b,a){var d;void 0!=b._3511&&(d=b._3511._2085);d!==a&&void 0!=b._7023&&b._7023.reset()}function G(b,a){var d=b._125;if(void 0==d||"fi"===d){if(b.get_IsAutoScrollToFocusedImageEnabled()&&void 0!=b._3511){var d=b._3511._774(),e=0,f=0;b._2826?(void 0==a&&(a=b._2226()),f=(d.height-a.height)/2,e=d.x+(d.width-a.width)/2,f=d.y+f):(e=d.x,f=d.y);return{x:e,y:f}}return b._7454()}return d}
function H(b,a){var d=b._4058(a);b._7454();var e=b._2816,f=d.b,g=b._4642(),w=Math.max(g.width,f.width),f=Math.max(g.height,f.height);if(e.width!==w||e.height!==f)e=b._6999,void 0!=e&&(g={width:w,height:f},b._2816=g,e.css(g),b._1187.setSize(w,f),b._1187.renderfix(),b._3704.setSize(w,f),$(b._3704.canvas).parent().css(g),e=b._107,b._2589&&$(e).css("overflow-x","auto"),b._2609&&$(e).css("overflow-y","auto"),g=b._4642(),w<=g.width&&b._2589&&(e[0].scrollLeft=0,$(e).css("overflow-x","hidden")),f<=g.height&&
b._2609&&(e[0].scrollTop=0,$(e).css("overflow-y","hidden")));return d.r}function Ya(b,a){void 0==b._743&&(b._743=[]);for(var d=0;d<b._3533.length;d++){var e=b._3533[d];$(e).off();-1===a.indexOf(e._2085)&&(e=e._6006(),b._743.push(e))}0===b._743.length&&(b._743=void 0);b._3511=void 0;b._3533=[]}function X(b,a){K(b);var d=b._4154;if(void 0!=d)for(var e=d.width,f=d.width,g=b._6999,w=0;w<b._3533.length;w++){var h=b._3533[w],B=h._2085.get_Guid();if(h._3012()){var k=a[w];void 0==b._171[B]?(d=$(b._4154).clone(),
h={position:"absolute","pointer-events":"none"},$(d).css(h),$(d).insertAfter(g),b._171[B]=d):d=b._171[B];h=e;B=f;h>k.width&&(h=k.width);B>k.height&&(B=k.height);h={top:k.y+(k.height-B)/2,left:k.x+(k.width-h)/2,width:h,height:B};$(d).css(h)}}}function R(b,a){var d;d="string"===typeof a?a:a.get_Guid();var e=b._171[d];void 0!=e&&($(e).remove(),delete b._171[d])}function K(b){var a=[];if(void 0!=b._4154)for(var d=0;d<b._3533.length;d++)a.push(b._3533[d]._2085.get_Guid());for(var e in b._171)-1===a.indexOf(e)&&
R(b,e)}function ba(b,a,d,e,f){a._4721();a._777(b._1329);a._390(b.get_ImageCacheManager());a._3581(b._5930,b._3061);a._2457(b._1029);a._4848(b._7425);var g=a._2085;void 0!=g&&(g=S(b,g),a._687(g.x,g.y));a._4739(d);void 0==e&&(e=b._2226());a._4819(e);a._3299(b._3976);a._2689(f);a._6522();a._6209()}function S(b,a){var d=b._4837/100,e=1,f=1,g=b._4191(a),w=96/g.rx,g=96/g.ry,h=b._5637/96,B=b._184/96;switch(b._962.valueOf()){case 5:f=e=1;break;case 2:case 3:case 1:e=d*w*h;f=d*g*h;break;case 4:e=w*h;f=g*B;
break;case 6:e=d*w*h,f=d*g*B}return{x:e,y:f}}function Y(b,a){var d={v:b};$(a).on("imagePainting imageTilePainted imagePainted imagePaintingException",d,V);$(a).on("_1437",d,ca)}function V(b,a){var d=b.data.v,e=b.type;"imagePainting"!==e&&"imagePaintingException"!==e||R(d,this._2085);d._6053(e,a)}function ca(b,a){var d=b.data.v;d._2891();d._566(this._2085)}function J(b,a){a.active?b._7368||(b._7911(b._6999),b._2514(document),b._7368=!0):b._7368&&(b._7911(document),b._2514(b._6999),b._7368=!1)}function Za(b){var a=
"";window.PointerEvent?a+=" pointerdown."+b+" MSPointerDown."+b:("ontouchstart"in window&&(a+=" touchstart."+b),a+=" mousedown."+b);return a}function Aa(b){var a="";window.PointerEvent?a+=" pointermove."+b+" MSPointerMove."+b:("ontouchstart"in window&&(a+=" touchmove."+b),a+=" mousemove."+b);return a}function ha(b){var a="";window.PointerEvent?a+=" pointerup."+b+" MSPointerUp."+b:("ontouchstart"in window&&(a+=" touchend."+b),a+=" mouseup."+b);return a}function Z(b){var a=document.getElementById(b._1182);
b._2375.width!=a.clientWidth||b._2375.height!=a.clientHeight?(b._2375={width:a.clientWidth,height:a.clientHeight},b._1593=1):(0<b._1593&&4>b._1593&&b._1593++,4===b._1593&&(b._1593=0,b.update()))}function N(b){b._2375=b._4642();b._7169()}function O(b){b=b.data.v;var a=b._2226();if(void 0!=b._3511&&!v._1._7484(a,b._3511._5324)){for(var d=0;d<b._3533.length;d++)b._3533[d]._4721(),b._3533[d]._4819(a);if(0===b._2205)for(d=0;d<b._3533.length;d++)b._3533[d]._6209()}}function ia(b,a){$(a._2460).on("changed."+
b._4649,function(){if(b._1645()||b._2020){var a=b._3511;void 0!=a&&(0===b._2205?a._7109():b._6874())}})}function da(b,a){$(a._2460).on("changed."+b._4649,function(){if(b._1645())if(0===b._2205)for(var a=0;a<b._3533.length;a++){var d=b._3533[a];d!==b._3511&&d._7109()}else b._6874()})}var l=g.prototype;l.focusedIndexChanged=function(b,a){};l.imageInfoLoading=function(b,a){};l.imageInfoLoaded=function(b,a){};l.imageInfoLoadingException=function(b,a){};l.imagePainting=function(b,a){};l.imageTilePainted=
function(b,a){};l.imagePainted=function(b,a){};l.imagePaintingException=function(b,a){};l.zoomChanged=function(b,a){};l.visualToolChanged=function(b,a){};l.imageRotating=function(b,a){};l.imageRotated=function(b,a){};l._355=function(b,a){};l._2975=function(b,a){};l._3965=function(b,a){};l._6393=function(b,a){};l._1403=function(b,a){};l._6908=function(b,a){};l._1454=function(b,a){};l.get_Images=function(){var b=this._3541;return void 0==b?this._6971:b.get_Images()};l.get_VisualTool=function(){return this._7023};
l.set_VisualTool=function(a){void 0!=a&&b.pv.c(a,lb.WebVisualToolJS);if(this._7023!==a){var d=this._7023;void 0!=this._7023&&(this._7023._5854(),this._7023=void 0);void 0!==a&&(this._7023=a,a.reset(),a._263(),0!==this._2205&&a.set_IsEnabled(!1));this._6053("visualToolChanged",{visualTool:a,previousVisualTool:d})}};l.get_MasterViewer=function(){return this._3541};l.set_MasterViewer=function(a){if(a!==this&&this._3541!==a){if(void 0!=a){b.pv.ic(a,g)||b.pv.ic(a,h.WebThumbnailViewerJS)||b.pv.tae();a._3541===
this&&a.set_MasterViewer();for(var d=a;void 0!=(d=d._3541);)d===this&&b.pv.te("MasterViewer cannot refers to itself.")}this._6014();this._3541=a;this._1650()}};l.get_CenterImage=function(){return this._2826};l.set_CenterImage=function(a){b.pv.b(a);this._2826!==a&&(this._2826=a)&&(this._125="fi",0===this._2205&&void 0!=this._3511&&(a=G(this),this._4654(a.x,a.y)))};l.get_TileWidth=function(){return this._5930};l.get_TileHeight=function(){return this._3061};l.set_TileSize=function(a,d){b.pv.n(a,d);32>
a&&(a=32);2048<a&&(a=2048);32>d&&(d=32);2048<d&&(d=2048);if(a!==this._5930||d!==this._3061)this._5930=a,this._3061=d,this._6874()};l.get_FocusedIndex=function(){return this._261};l.set_FocusedIndex=function(a){b.pv.n(a);(0>a||a>this.get_Images().get_Count()-1)&&b.pv.toe();var d=this._261;if(a!==d){this._261=a;if(null!=this._3541)try{this._3541.set_FocusedIndex(a)}catch(e){}this._7169();this._6053("focusedIndexChanged",{newFocusedIndex:a,previouslyFocusedIndex:d})}};l.get_Zoom=function(){return this._4837};
l.set_Zoom=function(a){6===this.get_ImageSizeMode().valueOf()&&(b.pv.n(a),(1>a||1E3<a)&&b.pv.te("Zoom must be from 1% to 1000%."),9E-4>Math.abs(a-this._4837)||(this._4837=a,this._6874()))};l.get_ImageSizeMode=function(){return this._962};l.set_ImageSizeMode=function(a){a=b.pv.e(a,t.WebImageSizeModeEnumJS);a.equals(this._962)||(this._962=a,this._6874())};l.get_ImageRotationAngle=function(){return this._1329};l.set_ImageRotationAngle=function(a){b.pv.n(a);a=v._1._5547(a);0!==a&&90!==a&&180!==a&&270!==
a&&b.pv.te("Argument value exception.");var d=this._1329;a!==d&&(this._6053("imageRotating",{currentAngle:d,newAngle:a}),this._1329=a,this._6874(),void 0!=this._3541&&this._3541.set_ImageRotationAngle(a),this._6053("imageRotated",a))};l.get_ImageInfo=function(b){var a=this.get_Images().get_Image(b);b=a.get_Size();a=a.get_Resolution();return void 0==b||void 0==a?void 0:{size:b,resolution:a}};l.get_UseCache=function(){return this._1029};l.set_UseCache=function(a){b.pv.b(a);if(a!==this._1029){this._1029=
a;for(var d in this._7884)this._7884[d]._2457(a)}};l.get_TilesFormat=function(){return this._7425};l.set_TilesFormat=function(a){a=b.pv.e(a,b.WebImageTypeEnumJS);if(!this._7425.equals(a)){this._7425=a;for(var d in this._7884)this._7884[d]._4848(a)}};l.get_FocusedImage=function(){var b=this.get_Images();if(0<=this._261&&this._261<b.get_Count())return b.get_Image(this._261)};l.get_HScroll=function(){return this._2589};l.set_HScroll=function(a){b.pv.b(a);this._2589!==a&&(a=(this._2589=a)?"auto":"hidden",
$(this._107).css("overflow-x",a),N(this))};l.get_VScroll=function(){return this._2609};l.set_VScroll=function(a){b.pv.b(a);this._2609!==a&&(a=(this._2609=a)?"auto":"hidden",$(this._107).css("overflow-y",a),N(this))};l.get_RenderingSettings=function(){return this._5969};l.set_RenderingSettings=function(a){void 0!=a&&b.pv.c(a,b.WebRenderingSettingsJS);if(!(this._5969==a||void 0!=this._5969&&this._5969.equals(a))){var d=this._1182;void 0!=this._5969&&$(this._5969.evm).off("changed."+d);this._5969=a;
void 0!=this._5969&&($(this._5969.evm).on("changed."+d,{v:this},u),this.get_Images().setRenderingSettings(this._5969))}};l.get_ImageCacheManager=function(){var b=this._3541;return void 0==b?this._6504:b.get_ImageCacheManager()};l.set_ImageCacheManager=function(a){void 0!=a&&b.pv.c(a,v.WebImageCacheManagerJS);void 0!=this._3541&&b.pv.te("Can not change cache manager of slave viewer.");if(this._6504!==a){this._6504=a;for(var d in this._7884)this._7884[d]._390(a);this._6053("_1454",a)}};l.get_SyncCacheWithImages=
function(){var b=this._3541;return void 0!=b?b.get_SyncCacheWithImages():this._1205};l.set_SyncCacheWithImages=function(a){b.pv.b(a);void 0!=this._3541&&b.pv.te("Can not change cache property of slave viewer.");this._1205=a};l.get_ControlId=function(){return this._1182};l.get_DisplayMode=function(){var b=12,a=this._2.valueOf(),d=this._5987.valueOf();if(2===a)if(1===this._2520)b=1;else if(2===d)switch(this._2520){case 2:b=4;break;case 3:b=8}else{if(1===d)switch(this._2520){case 2:b=5;break;case 3:b=
9}}else if(1===a)if(2===d)switch(this._2520){case 1:b=2;break;case 2:b=6;break;case 3:b=10}else if(1===d)switch(this._2520){case 1:b=3;break;case 2:b=7;break;case 3:b=11}return new t.WebImageViewerDisplayModeEnumJS(b)};l.set_DisplayMode=function(a){a=b.pv.e(a,t.WebImageViewerDisplayModeEnumJS);if(!a.equals(this.get_DisplayMode())){var d=this._936;switch(a.valueOf()){case 1:this._4919(d,1,2,2);break;case 2:this._4919(d,1,2,1);break;case 3:this._4919(d,1,1,1);break;case 4:this._4919(d,2,2,2);break;
case 5:this._4919(d,2,1,2);break;case 6:this._4919(d,2,2,1);break;case 7:this._4919(d,2,1,1);break;case 8:this._4919(d,3,2,2);break;case 9:this._4919(d,3,1,2);break;case 10:this._4919(d,3,2,1);break;case 11:this._4919(d,3,1,1)}}};l.get_MultipageDisplayImagePadding=function(){return[].concat(this._936)};l.set_MultipageDisplayImagePadding=function(a,d,e,f){void 0==f&&("object"===typeof a?(f=a.bottom,d=a.top,e=a.right,a=a.left):f=d=e=a);b.pv.n(a,d,e,f);(0>a||0>d||0>e||0>f)&&b.pv.toe();var g=this._936;
if(g[0]!==a||g[1]!==d||g[2]!==e||g[3]!==f)this._936=[a,d,e,f],this._1645()&&(this._125="fi",this._6874())};l.get_MultipageDisplayLayoutDirection=function(){return this._5987};l.set_MultipageDisplayLayoutDirection=function(a){a=b.pv.e(a,t.WebImageLayoutDirectionEnumJS);a.equals(this._5987)||(this._5987=a,this._1645()&&(this._125="fi",this._6874()))};l.get_MultipageDisplayRowCount=function(){return this._2520};l.set_MultipageDisplayRowCount=function(a){b.pv.n(a);a!==this._2520&&(1>a&&b.pv.toe(),this._2520=
a,this._125="fi",this._6874())};l.get_MultipageDisplayMode=function(){return this._2};l.set_MultipageDisplayMode=function(a){a=b.pv.e(a,t.WebImageViewerMultipageDisplayModeEnumJS);a.equals(this._2)||(this._2=a,this._125="fi",this._6874())};l.get_IsMultipageDisplayMode=function(){return this._1645()};l.get_IsAutoScrollToFocusedImageEnabled=function(){return 0===this._519};l.get_FocusedImageAppearance=function(){return this._2576};l.set_FocusedImageAppearance=function(d){b.pv.c(d,a);this._2576.equals(d)||
($(this._2576._2460).off("changed."+this._1182),this._2576=d,ia(this,d),(this._1645()||this._2020)&&this._6874())};l.get_ImageAppearance=function(){return this._1605};l.set_ImageAppearance=function(d){b.pv.c(d,a);this._1605.equals(d)||($(this._1605._2460).off("changed."+this._1182),this._1605=d,da(this,d),this._1645()&&this._6874())};l.get_UseImageAppearancesInSinglePageMode=function(){return this._2020};l.set_UseImageAppearancesInSinglePageMode=function(a){b.pv.b(a);this._2020!==a&&(this._2020=a,
this._1645()||this._6874())};l.get_ImageAnchor=function(){return this._3976};l.set_ImageAnchor=function(a){a=b.pv.e(a,t.WebImageAnchorTypeEnumJS);a.equals(this._3976)||(this._3976=a,this._6874())};l.get_ProgressImage=function(){return this._4154};l.set_ProgressImage=function(a){void 0!=a&&b.pv.c(a,Image);var d=this._4154;if(d!==a){var e=!1;if(void 0!=a){e=a.src;if(void 0!=d&&e===d.src)return;e=!0}this._4154=a;if(e){a=[];for(d=0;d<this._3533.length;d++)a[d]=this._3533[d]._2430;X(this,a)}else K(this)}};
l.get_ContextMenuFunc=function(){return this._3093};l.set_ContextMenuFunc=function(a){void 0!=a&&b.pv.f(a);this._3093=a;if(void 0!=this._6999){var d=this;this._6999[0].oncontextmenu=function(b){b.cancelable=!0;b.preventDefault?b.preventDefault():b.returnValue=!1;b.stopPropagation();var a=d._7023;if(void 0!=a&&a.get_DisableContextMenu())return!1;var e;void 0!=d._3093&&(e=d._3093(b));return void 0!=e?e:!1}}};l._1645=function(){return 2!==this._2.valueOf()||1!==this._2520};l._6352=function(){return this._154};
l._7454=function(){var b=this._107[0];return void 0!=b?{x:b.scrollLeft,y:b.scrollTop}:{x:0,y:0}};l._4654=function(b,a){var d=this._107[0];if(void 0!=d){var e=this._4642();this._2816.width<=e.width&&(b=0);this._2816.height<=e.height&&(a=0);d.scrollTop=a;d.scrollLeft=b}};l._5488=function(){var b=this._107[0];return void 0!=b?{width:b.clientWidth,height:b.clientHeight}:{width:0,height:0}};l._4642=function(){var b=document.getElementById(this._1182);return void 0!=b?{width:b.clientWidth,height:b.clientHeight}:
{width:0,height:0}};l._2226=function(){var b=this._7454(),a=this._5488();return{x:b.x,y:b.y,width:a.width,height:a.height}};l._5299=function(){return{width:this._2816.width,height:this._2816.height}};l._4259=function(){var b=this.get_FocusedImage();if(void 0==b)return v._1._5146();b=this._4191(b);return{width:b.w,height:b.h}};l._5170=function(b){this._4767!==b&&(this._4767=b,this._1242||this._107.css("cursor",b))};l._4356=function(b){this._107.attr("title",b)};l._946=function(){return{width:this._1965.width,
height:this._1965.height}};l._3683=function(a,d){void 0==d&&(d=a.height,a=a.width);b.pv.n(a,d);this._1965={width:a,height:d}};l._4823=function(){return{x:this._5236.x,y:this._5236.y}};l._2983=function(a,d){void 0==d&&(d=a.y,a=a.x);b.pv.n(a,d);this._5236={x:a,y:d}};l.renderImages=function(a,d,e,f,g){function h(){var b=n[p],a=b.get_Size(),d=b.get_Resolution();void 0!=a&&void 0!=d?(a=S(B,b),r.cancelRendering||b.renderTiles(B._5930,B._3061,a,B._7425,w,z)):b.getImageInfo(h,z)}function w(b,a,e){p++;p===
l?d&&d():(r.rendered=p,f&&f(r),r.cancelRendering?g&&g():h())}function z(b,a,d){e&&e(b.errorMessage)}0!==this._2205&&b.pv.te("Method cannot be executed because initialization is not finished.");b.pv.ad(a,b.pv.n);if(this._1029){var B=this,k=this.get_Images(),n=[];if(0===a.length)n=k.toArray();else for(var m=0;m<a.length;m++)n.push(k.get_Image(a[m]));var l=n.length,p=0,r={rendered:0,total:l,cancelRendering:!1};h()}};l.beginInit=function(){this._2205++;void 0==this._7664&&this._7327();1===this._2205&&
void 0!=this._7023&&this._7023.set_IsEnabled(!1)};l.endInit=function(){this._2205--;0===this._2205?(this._4423(),void 0!=this._7023&&this._7023.set_IsEnabled(!0)):0>this._2205&&(this._2205=0)};l.update=function(){N(this)};l.invalidate=function(){this._566(this.get_FocusedImage())};l.transformPointFromScreenToControl=function(b,a){return this._4971(b,a)};l.transformPointFromControlToScreen=function(b,a){return this._7647(b,a)};l.transformPointFromScreenToViewer=function(b,a){var d=this._4971(b,a);
return this._1007(d)};l.transformPointFromViewerToScreen=function(b,a){var d=this._6702(b,a);return this._7647(d)};l.transformPointFromControlToViewer=function(b,a){return this._1007(b,a)};l.transformPointFromViewerToControl=function(b,a){return this._6702(b,a)};l.transformPointFromControlToImage=function(b,a){var d=this._1007(b,a);return this._600(d)};l.transformPointFromImageToControl=function(b,a){var d=this._1670(b,a);return this._6702(d)};l.transformPointFromViewerToImage=function(b,a){return this._600(b,
a)};l.transformPointFromImageToViewer=function(b,a){return this._1670(b,a)};l.scrollTo=function(a,d){b.pv.n(a,d);0>d&&(d=0);0>a&&(a=0);this._4654(a,d)};l.scrollToImagePoint=function(a,d){b.pv.n(a,d);var e=this._5488(),f=this._3217().transformPoint({x:a,y:d});this._4654(f.x-e.width/2,f.y-e.height/2)};l.focus=function(){var b=$("#"+this._1182);b.blur();b.focus()};l.disableAutoScrollToFocusedImage=function(){this._519++};l.enableAutoScrollToFocusedImage=function(){this._519--};l.getImageIndexByLocation=
function(b){for(var a,d=0;d<this._3533.length;d++)if(this._3533[d]._3329(b)){a=this._3533[d]._2085;break}return void 0!=a?this.get_Images().indexOf(a):-1};l.getImageByLocation=function(b){b=this.getImageIndexByLocation(b);var a=this.get_Images();if(0<=b&&b<a.get_Count())return a.get_Image(b)};l.setFocusedIndexByLocation=function(b,a){var d=this.getImageIndexByLocation(b);if(0<=d&&d!==this._261)try{return a&&this.disableAutoScrollToFocusedImage(),this.set_FocusedIndex(d),!0}finally{a&&this.enableAutoScrollToFocusedImage()}return!1};
l.setFocusedIndexAsync=function(a,d){0===this._2205&&this._7610||b.pv.te("Invalid operation exception.");b.pv.n(a);void 0!=d&&b.pv.f(d);if(this._261!==a){if(void 0!=d){var e=function(){g._7610=!0;void 0!=d&&d()},f=this.get_Images().get_Image(a),f=this._1034(f),g=this,h=this._4642();if(0!==h.width&&0!==h.height)$(f).one("_1437",e);else $(this).one("focusedIndexChanged",e);this._7610=!1}this.set_FocusedIndex(a)}else void 0!=d&&d()};l.getNearestImage=function(b){if(0!=this.get_Images().get_Count()){if(!this._1645())return this.get_FocusedImage();
for(var a=this._7095(),d,e=0,f,g=0;g<a.length;g++){f=a[g];var w=this._1844(f);if(g==a.length-1&&b.x>=w.x&&b.y>=w.y||v._1._6540(w,b))return f;w=v._1._4234(w);w=v._1._2297(w,b);if(void 0==d||e>w)e=w,d=f}return d}};l.zoomToRectangle=function(a){b.pv.r(a);0>=a.width||0>=a.height?this.scrollToImagePoint(a.x,a.y):this._660(a)};l._660=function(b,a){var d={x:b.x,y:b.y,width:b.width,height:b.height};this._3217(a).transformRectangle(d);var d=v._1._1640(d),e=this._5488(),d=Math.min(e.width/d.width,e.height/
d.height);this.set_ImageSizeMode(6);d*=this._4837;1>d&&(d=1);1E3<d&&(d=1E3);this.set_Zoom(d);d=v._1._4234(b);this.scrollToImagePoint(d.x,d.y)};l._1844=function(b,a){var d=this.get_FocusedImage();void 0==b?b=d:"boolean"===typeof b&&(a=b,b=d);d=this._1034(b);if(void 0!=d){d=d._774();if(a){var e=this._2226(),d=v._1._814(d,e);d.x-=e.x;d.y-=e.y}return d}return v._1._5146()};l._6961=function(){var b=this.get_FocusedImage();if(void 0==b)return v._1._5146();var a=this._2693(b),d=this._5488(),d={x:0,y:0,width:d.width,
height:d.height};a.transformRectangle(d);d=v._1._1640(d);b=b.get_Size();return v._1._814(d,{x:0,y:0,width:b.width,height:b.height})};l._5589=function(b){if(!(0>this._261)){var a=b;"mousedown"!=b.type&&(b="touchstart"==b.type?b.originalEvent.touches[0]:b.originalEvent,b.sourceEvent=a);b=n(this,b);b.t="mouseDown";var d=this._7023;this._1645()&&(void 0!=d&&d._1467(b)||this.setFocusedIndexByLocation(b.pv,!0));void 0!=d&&d._1978()&&(this._3191(),d._5589(b),this._116(),b.handled&&(a.cancelable=!0,a.preventDefault?
a.preventDefault():a.returnValue=!1),J(this,b))}};l._6583=function(b){if(!(0>this._261)){if("mousemove"!=b.type){var a=b;b="touchmove"==b.type?b.originalEvent.touches[0]:b.originalEvent;b.sourceEvent=a}b=n(this,b);b.t="mouseMove";a=this._7023;void 0!=a&&a._1978()&&(this._3191(),a._6583(b),this._116(),J(this,b))}};l._3473=function(b){if(!(0>this._261)){var a=this._7023;if(void 0!=a&&a._1978()){if("mouseup"!=b.type){var d=b;b="touchend"==b.type?b.originalEvent.changedTouches[0]:b.originalEvent;b.sourceEvent=
d}b=n(this,b);this._3191();var d=b.ps,e=(new Date).getTime(),f=this._4556?e-this._4556:0,g=this._3028?v._1._2297(this._3028,d):100;250>f&&30<f&&10>g?(d=this._5488(),d.x=0,d.y=0,v._1._6540(d,b.pc)&&(b.t="doubleClick",a._203(b),b.handled=!1,b.active=!1)):(this._3028=d,this._4556=e);b.t="mouseUp";a._3473(b);this._116();J(this,b)}}};l._4971=function(b,a){var d=this._2539(b,a),e=$("#"+this._1182).offset();return{x:d.x-e.left,y:d.y-e.top}};l._7647=function(b,a){var d=this._2539(b,a),e=$("#"+this._1182).offset();
return{x:d.x+e.left,y:d.y+e.top}};l._1007=function(b,a){var d=this._2539(b,a),e=this._7454();return{x:d.x+e.x,y:d.y+e.y}};l._6702=function(b,a){var d=this._2539(b,a),e=this._7454();return{x:d.x-e.x,y:d.y-e.y}};l._600=function(b,a){var d=this._5947(b,a);return this._2693().transformPoint(d)};l._1670=function(b,a){var d=this._5947(b,a);return this._3217().transformPoint(d)};l._3217=function(b){void 0==b&&(b=this.get_FocusedImage());b=this._1034(b);return void 0!=b?b._3217():new v.WebMatrixJS};l._2693=
function(b){return this._3217(b).invert()};l._3929=function(b,a){if(b===a||void 0==b||void 0==a)return new v.WebMatrixJS;var d=this._3217(b),e=this._2693(a);return v.WebMatrixJS.multiplyMatrix(d,e)};l._2539=function(a,d){void 0==d&&(d=a.y,a=a.x);b.pv.n(a,d);return{x:a,y:d}};l._5947=function(a,d){-1===this._261&&b.pv.te("ImageViewer does not have image.");return this._2539(a,d)};l._7095=function(b){void 0==b&&(b=!1);for(var a=[],d=0;d<this._3533.length;d++){var e=this._3533[d];b?e._321()&&a.push(e._2085):
a.push(e._2085)}return a};l._2886=function(b){b=this._1034(b);if(void 0!=b)return b._321()};l._1034=function(b){if(void 0!=b)return this._7884[b.get_Guid()]};l._7169=function(){this._4895=2;this._4423()};l._6874=function(){0===this._4895&&(this._4895=1);this._4423()};l._4423=function(){if(0===this._2205)if(1!==this._4895||this._2738()||(this._4895=0),this._7664=void 0,0<this._4895)this._1218(),this._4895=0;else{if(void 0!=this._3511&&this._3511._119())for(var b=0;b<this._3533.length;b++)this._3533[b]._6209(!0);
void 0!=this._125&&(b=G(this),this._4654(b.x,b.y),this._125=void 0)}};l._3191=function(){this._4339=this._4767;this._1242=!0};l._116=function(){this._1242=!1;this._4339!==this._4767&&this._107.css("cursor",this._4767);this._4339=""};l._6014=function(){var b=this._3541;p({data:{v:this}},b);void 0!=b&&$(b._2515).off("."+this._1182);this.set_VisualTool()};l._1650=function(){var b=this._3541;if(void 0!=b){var a=this._1182,d={v:this},e=b._2515;$(e).on("_355."+a,d,k);$(e).on("_2975."+a,d,r);$(e).on("_3965."+
a,d,A);$(e).on("focusedIndexChanged."+a,d,F);$(e).on("imageRotated."+a,d,E);$(e).on("_1454."+a,d,D);$(e).on("_6393."+a,d,p);$(e).on("_1403."+a,d,m)}m({data:{v:this}},b)};l._1318=function(b){var a=!1;1===this._2.valueOf()&&(a=!0);switch(b.actionName){case "clear":this._261=-1;a=!0;break;case "insert":case "insertRange":var d=b.imageIndex,e=1;"insertRange"===b.actionName&&(e=b.images.length);this._2795(d,e);break;case "removeAt":case "removeRange":d=[],"removeRange"===b.actionName?d=b.imagesIndexes:
d.push(b.imageIndex),this._6095(d)}if(!a){b=this._7095();d=this._3357();if(b.length!==d.length)return!0;for(e=0;e<d.length;e++)if(d[e]!==b[e])return!0}return a};l._2795=function(b,a){var d=this.get_Images().get_Count();a===d?this._261=0:this._261>=b&&(this._261+=a)};l._6095=function(b){var a=this.get_Images().get_Count();if(0===a)this._261=-1;else{for(var d=!1,e=0;this._261>=b[e];){if(this._261===b[e]){d=!0;break}e++}this._261-=e;d&&a==this._261&&this._261--}};l._4919=function(a,d,e,f){this._936=
a;this._2520=d;this._5987=b.pv.e(e,t.WebImageLayoutDirectionEnumJS);this._2=b.pv.e(f,t.WebImageViewerMultipageDisplayModeEnumJS);this._125="fi";this._6874()};l._1218=function(){this.get_Images();var a=this.get_FocusedImage();I(this,a);var d=this._3357();this._1645();for(var e=[],a=0;a<d.length;a++){var f=d[a];void 0!=f&&void 0==f.get_Size()&&e.push(f)}var g=b.WebImagingEnviromentJS.guid();this._2276=g;if(0===e.length)this._6521(d,g);else{for(var f=function(b){l?m._1218():m._6521(d,g)},h=function(b){b.blocked?
l=!0:m._6053("imageInfoLoadingException",b)},w=function(b){m._6053("imageInfoLoaded",{image:b.image})},z=[],a=0;a<e.length;a++){for(var B=e[a].get_Source(),k=!0,n=0;n<z.length;n++)if(B.equals(z[n])){k=!1;break}k&&z.push(B)}for(var m=this,l=!1,a=0;a<z.length;a++)z[a].get_ImageService().bi();for(a=0;a<e.length;a++)e[a].getImageInfo(w,h),this._6053("imageInfoLoading",{image:e[a]});for(a=0;a<z.length;a++)if(e=z[a].get_ImageService().ei(),void 0!=e)for(n=0;n<e.length;n++)if(h=e[n].request,b.pv.ic(h,b.WebCompositeRequestJS)&&
"GetImagesInfo"===h.get_ActionName())$(h).one("compositeError compositeSuccess",f)}};l._6521=function(b,a){if(this._2276===a&&0===this._2205)if(this._1645()){if(!(0<this._2205)){var d=this._3511,e=!1;if(0<b.length){var f=this._165,g=this._7454(),w=H(this,b),h=1;this._4837!==f&&(h=this._4837/f,this._6053("zoomChanged",{zoom:this._4837,differenceScale:h,scroll:g}),void 0!=d&&this._1143(g.x*h,g.y*h));var f=this._2226(),B=this.get_FocusedImage(),k;b:if(this._3533.length!==b.length)k=!1;else{for(k=0;k<
b.length;k++)if(this._3533[k]._2085!==b[k]){k=!1;break b}k=!0}if(!k){Ya(this,b);for(k=0;k<b.length;k++)e=b[k],void 0!=e&&(e=this._7884[e.get_Guid()],Y(this,e),this._3533[k]=e);e=!0}X(this,w);var n=this._1605;for(k=0;k<this._3533.length;k++){var m=n,l=this._3533[k];l._2085===B&&(this._3511=l,m=this._2576);l._4721();ba(this,l,w[k],f,m)}this._6053("_6908",{dz:h,sp:g,ic:e});this._3511===d&&void 0==this._125&&this._1143(g);d=G(this,f);d.x=Math.floor(d.x);d.y=Math.floor(d.y);if(d.x!==g.x||d.y!==g.y)for(f.x=
d.x,f.y=d.y,k=0;k<this._3533.length;k++)this._3533[k]._4819(f);g=!0;for(k=0;k<this._3533.length;k++)l=this._3533[k],g&&(g=l._2781),l._6209(!0);this._4654(d.x,d.y);g&&this._2891()}else H(this,b),Ya(this,b),this._2891(),this._6053("_6908",{dz:this._4837/this._165,sp:this._7454(),ic:!0});this._125=void 0}}else if(!(0<this._2205)){d=!1;w=this._3511;if(0<b.length){k=this._165;g=this._7454();h=H(this,b);f=1;this._4837!==k&&(f=this._4837/k,k=this._7454(),this._6053("zoomChanged",{zoom:this._4837,differenceScale:f,
scroll:k}),void 0!=w&&this._1143(k.x*f,k.y*f));e=b[0];if(1!==this._3533.length||this._3533[0]._2085!==e)d=!0,Ya(this,b);k=this._2226();0===this._3533.length&&(e=this._1034(e),Y(this,e),this._3533[0]=e);this._3511=this._3533[0];X(this,h);this._2020&&(B=this._2576);this._3511._4721();ba(this,this._3511,h[0],k,B);this._6053("_6908",{dz:f,sp:g,ic:d});this._3511===w&&void 0==this._125&&this._1143(g);d=G(this,k);d.x=Math.floor(d.x);d.y=Math.floor(d.y);if(d.x!==g.x||d.y!==g.y)k.x=d.x,k.y=d.y,this._3511._4819(k);
g=this._3511._2781;this._3511._6209(!0);this._4654(d.x,d.y);g&&this._2891()}else H(this,b),Ya(this,b),this._2891(),this._6053("_6908",{dz:this._4837/this._165,sp:this._7454(),ic:!0});this._125=void 0}};l._1143=function(b,a){"fi"!==this._125&&(this._125=void 0!=a?{x:b,y:a}:b)};l._3357=function(){var b=this.get_Images(),a=b.get_Count();if(0===a)return[];var d=this._1645();if(!d)return b=b.get_Image(this._261),void 0!=b?[b]:[];var e=this._2.valueOf();if(1===e)return b.toArray();var f=this._2520,g=0;
d&&1!==e&&(g=Math.floor(this._261/f));d=Array(f);for(e=0;e<f;e++){var w=g*f+e;if(w>=a)break;d[e]=b.get_Image(w)}return d};l._4058=function(a){var d=[],e=v._1._5146();if(0===a.length)return{b:e,r:d};var f=this._936;this._1645()||(f=[0,0,0,0]);var g=this._2.valueOf(),h=this._4642(),w=h.width,z=h.height,e={x:0,y:0,width:w,height:z},g=1===g?Math.min(a.length,this._2520):a.length,B=this._4837,k=this._962.valueOf(),n=this._5987.valueOf();if(2===n){var d=this._3484(a,g,f,w,z),w=d.w,z=d.h,B=d.z,d=d.r,n=w>
h.width,m=z>h.height;if(m){if(w=h.width-this._154,z=h.height,d=this._3484(a,g,f,w,z),w=d.w,z=d.h,B=d.z,d=d.r,n=w>h.width-this._154)w=h.width-this._154,z=h.height-this._154,d=this._3484(a,g,f,w,z),w=d.w,z=d.h,B=d.z,d=d.r}else!n||2!==k&&6!==k&&4!==k||(z=h.height-this._154,w=h.width,d=this._3484(a,g,f,w,z),w=d.w,z=d.h,B=d.z,d=d.r)}else if(1===n)if(d=this._2107(a,g,f,w,z),w=d.w,z=d.h,B=d.z,d=d.r,n=w>h.width,m=z>h.height,n){if(z=h.height-this._154,w=h.width,d=this._2107(a,g,f,w,z),w=d.w,z=d.h,B=d.z,d=
d.r,m=z>h.height-this._154)w=h.width-this._154,z=h.height-this._154,d=this._2107(a,g,f,w,z),w=d.w,z=d.h,B=d.z,d=d.r}else!m||3!==k&&6!==k&&4!==k||(w=h.width-this._154,z=h.height,d=this._2107(a,g,f,w,z),w=d.w,z=d.h,B=d.z,d=d.r);else b.pv.te("Invalid operation");0>=B?(e.width=0,e.height=0):(e.width=w,e.height=z);this._165=this._4837=B;return{b:e,r:d}};l._3484=function(a,d,e,f,g){var h=this._962.valueOf(),w=5===h,z=this._2574(a,0,a.length,!w),B=z.w,k=z.h,n=e[0]+e[2],m=e[1]+e[3],l=B*d,p;switch(h){case 1:p=
Math.min((f-n*d)/l,(g-m)/k);break;case 2:p=(g-m)/k;break;case 3:p=(f-n*d)/l;break;case 6:p=this._4837/100;break;case 4:case 5:p=1;break;default:b.pv.te("Invalid operation")}0>p&&(p=0);var r=1,u=1;if(6===h||4===h)r=this._5637/96,u=this._184/96;for(var t=[],l=Math.round(l*p*r+n*d),q=0,x=0;x<a.length;x+=d){for(var z=this._2574(a,x,d,!w),k=z.h,z=Math.round(B*p*r)+n,k=Math.round(k*p*u)+m,v=0;v<d&&x+v<a.length;v++){var A={x:v*z,y:q,width:z,height:k};A.x+=e[0];A.y+=e[1];A.width-=n;0>A.width&&(A.width=0);
A.height-=m;0>A.height&&(A.height=0);t[x+v]=A}q+=k}a=Math.ceil(q);this._1645()?this._1015(f,g,l,a,t):t[0]={x:0,y:0,width:Math.max(f,l),height:Math.max(g,a)};f=100*p;6!==h&&4!==h&&(f/=this._5637/96);return{w:l,h:a,z:f,r:t}};l._2107=function(a,d,e,f,g){var h=this._962.valueOf(),w=5===h,z=this._2574(a,0,a.length,!w),B=z.w,k=z.h,n=e[0]+e[2],m=e[1]+e[3],l=k*d,p;switch(h){case 1:p=Math.min((f-n)/B,(g-m*d)/l);break;case 2:p=(g-m*d)/l;break;case 3:p=(f-n)/B;break;case 6:p=this._4837/100;break;case 4:case 5:p=
1;break;default:b.pv.te("Invalid operation")}0>p&&(p=0);var r=1,u=1;if(6===h||4===h)r=this._5637/96,u=this._184/96;for(var t=[],q=0,l=Math.round(l*p*u+m*d),x=0;x<a.length;x+=d){for(var z=this._2574(a,x,d,!w),B=z.w,B=Math.round(B*p*r)+n,z=Math.round(k*p*u)+m,A=0;A<d&&x+A<a.length;A++){var v={x:q,y:A*z,width:B,height:z};v.x+=e[0];v.y+=e[1];v.width-=n;0>v.width&&(v.width=0);v.height-=m;0>v.height&&(v.height=0);t[x+A]=v}q+=B}a=Math.ceil(q);this._1645()?this._1015(f,g,a,l,t):t[0]={x:0,y:0,width:Math.max(f,
a),height:Math.max(g,l)};f=100*p;6!==h&&4!==h&&(f/=this._5637/96);return{w:a,h:l,z:f,r:t}};l._2574=function(b,a,d,e){for(var f=0,g=0,w=0;w<d&&a+w<b.length;w++){var h=b[a+w];if(void 0!=h){var h=this._4191(h),B=h.w,k=h.h;e&&(B*=this._5637/h.rx,k*=this._184/h.ry);B>f&&(f=B);k>g&&(g=k)}}if(90===this._1329||270===this._1329)b=f,f=g,g=b;return{w:f,h:g}};l._4191=function(b){var a=b.get_Resolution(),d=b.get_Size(),e;void 0==a||0===a.x||0===a.y?(b=this._5236.x,a=this._5236.y):(b=a.x,a=a.y);void 0==d||0===
d.width||0===d.height?(e=this._1965.width,d=this._1965.height):(e=d.width,d=d.height);return{rx:b,ry:a,w:e,h:d}};l._1015=function(b,a,d,e,f){switch(this._3976.valueOf()){case 4:case 7:b=0;a=Math.max(0,(a-e)/2);break;case 6:b=0;a=Math.max(0,a-e);break;case 5:a=b=0;break;case 8:case 11:b=Math.max(0,b-d);a=Math.max(0,(a-e)/2);break;case 10:b=Math.max(0,b-d);a=Math.max(0,a-e);break;case 9:b=Math.max(0,b-d);a=0;break;case 1:case 13:b=Math.max(0,(b-d)/2);a=0;break;case 2:case 14:b=Math.max(0,(b-d)/2);a=
Math.max(0,a-e);break;default:b=Math.max(0,(b-d)/2),a=Math.max(0,(a-e)/2)}if(0!=b||0!=a)for(e=0;e<f.length;e++)f[e].x+=b,f[e].y+=a};l._2891=function(){var b=this._743;if(void 0!=b){for(var a=b.length-1;0<=a;a--)b[a].remove();this._743=void 0}};l._566=function(b){var a=this._7023;if(0!==this._3533.length&&void 0!=a){var a=this.get_FocusedImage(),d;b!==a&&(d=this._1844(b));this._4063(b,d)}};l._4063=function(b,a){if(void 0!=b){var d=this._1034(b);if(void 0!=d&&d._3837())return this._7023._7633(d._3217(),
b,a)}};l._4593=function(b){var a=this;$(b).on(Za(a._1182),function(b){a._5589(b)})};l._4380=function(b){$(b).off(Za(this._1182))};l._2514=function(b){var a=this._1182,d=this;$(b).on(Aa(a),function(b){d._6583(b)});$(b).on(ha(a),function(b){d._3473(b)})};l._7911=function(b){var a=this._1182;$(b).off(Aa(a));$(b).off(ha(a))};l._6053=function(b,a){$(this._2515).triggerHandler(b,a);$(this).triggerHandler(b,a)};l._7327=function(){var b={};b._5930=this._5930;b._3061=this._3061;b._4837=this._4837;b._962=this._962.valueOf();
b._1329=this._1329;b._936=[].concat(this._936);b._5987=this._5987.valueOf();b._2520=this._2520;b._2=this._2.valueOf();b._3976=this._3976.valueOf();b._2020=this._2020;b._2576=this._2576.clone();b._1605=this._1605.clone();b._isMultipage=this._1645();this._7664=b};l._2738=function(){var b=this._7664;if(void 0==b)return!0;var a=this._1645(),d=!b._2576.equals(this._2576),e=b._2020!==this._2020;return b._5930!==this._5930||b._3061!==this._3061||b._1329!==this._1329||a!==b._isMultipage||b._3976!==this._3976.valueOf()||
b._962!==this._962.valueOf()||b._4837!==this._4837||!a&&(e||d&&this._2020)||a&&(a=this._936,e=b._936,a=a[0]!==e[0]||a[1]!==e[1]||a[2]!==e[2]||a[3]!==e[3],e=!b._1605.equals(this._1605),a||b._5987!==this._5987.valueOf()||b._2!==this._2.valueOf()||b._2520!==this._2520||d||e)?!0:!1};var P=document.getElementById(d);void 0==P&&b.pv.te("The parent DOM element for viewer is not found.");"DIV"!==P.tagName&&b.pv.te("The parent DOM element for viewer must be a DIV element.");this._1182=d;this._2816;this._2375=
{width:P.clientWidth,height:P.clientHeight};this._154=b.WebImagingEnviromentJS.get_ScrollSize();this._5637=b.WebImagingEnviromentJS.getScreenDpi().dpiX;0===this._5637&&(this._5637=96);this._184=b.WebImagingEnviromentJS.getScreenDpi().dpiY;0===this._184&&(this._184=96);this._4895=this._2205=0;this._3573="WebImageViewer";this._6971=new b.WebImageCollectionJS;this._3541=this._7023=void 0;this._2826=!1;this._3061=this._5930=1024;this._261=-1;this._165=this._4837=100;this._962=new t.WebImageSizeModeEnumJS(4);
this._743=this._3704=this._1187=this._125=void 0;this._1593=0;this._1011=void 0;this._2931=250;this._1329=0;this._2609=this._2589=!0;this._5969;this._1029=!0;this._7425=new b.WebImageTypeEnumJS(1);this._4339=this._4767="";this._1242=!1;this._2515={};this._6504;this._1205=!0;this.set_ImageCacheManager(new v.WebImageCacheManagerJS);this._3511;this._3533=[];this._7884={};this._2276="";this._7610=!0;this._2576=new a("rgba(255,255,255,0)","rgba(0,0,0,1)",1,"solid");this._1605=new a("rgba(255,255,255,0)",
"rgba(255,255,255,0)",0,"solid");this._2020=!1;this._936=[4,4,4,4];this._5987=new t.WebImageLayoutDirectionEnumJS(2);this._2520=1;this._2=new t.WebImageViewerMultipageDisplayModeEnumJS(2);this._519=0;this._3976=new t.WebImageAnchorTypeEnumJS(0);this._1965={width:100,height:100};this._5236={x:96,y:96};this._7664;this._107;this._6999;this._4154=void 0;this._171={};this._3093;P={v:this};$(this._6971.evm).on("changing."+d,P,k);$(this._6971.evm).on("changed."+d,P,r);ia(this,this._2576);da(this,this._1605);
(function(b){var a=document.getElementById(b._1182),d=a.clientWidth,e=a.clientHeight,a=$("<div>").appendTo(a),f={width:"100%",height:"100%",position:"relative"};f["overflow-x"]=b._2589?"auto":"hidden";f["overflow-y"]=b._2609?"auto":"hidden";a.css(f);$(a).on("scroll",{v:b},O);b._107=a;f=$("<div>").appendTo(a);b._6999=f;$(f).css("touch-action","none");b._2816={width:d,height:e};b._4593(f);b._2514(f);a=Raphael(a[0],d,e);$(a.canvas).css({position:"absolute",left:0,top:0});b._1187=a;a.renderfix();a=$("<div>").appendTo(f);
$(a).css({overflow:"hidden",width:d,height:e});a=Raphael(a[0],d,e);$(a.canvas).css({left:0,top:0,"touch-action":"none"});b._3704=a;void 0!=b._7023&&b._7023._7252();b._2375={width:d,height:e};b._1011=setInterval(Z,b._2931,b)})(this);this.set_ContextMenuFunc();this._7368=!1;this._3028;this._4556;delete l.focusedIndexChanged;delete l.imageRotating;delete l.imageRotated;delete l.zoomChanged;delete l.imageInfoLoaded;delete l.imageTilePainted;delete l.imagePainted;delete l.visualToolChanged;delete l.imageInfoLoadingException;
delete l.imagePaintingException;delete l.imagePainting;delete l.imageInfoLoading;delete l._355;delete l._2975;delete l._3965;delete l._6393;delete l._1403;delete l._6908;delete l._1454};h.WebImageAppearanceJS=a;h._6080=e;h.WebImageViewerJS=g;var d=function(a){function e(b,a){var d=$(b._3704.canvas.parentNode).offset(),d={x:a.pageX-d.left,y:a.pageY-d.top};return{pv:d,ps:d,e:a,b:g(a)}}function g(b){var a=-1;b.which?a=b.which:b.button&&(b.button&1?a=1:b.button&4?a=2:b.button&2&&(a=3));-1==a&&void 0!=
b.sourceEvent&&"touchstart"===b.sourceEvent.type&&(a=1);return a}function m(b,a){var d=b.data.v,e;e=void 0!=a?a.get_Images():d.get_Images();A(d,e.toArray());d._6947();d._6053("_6393",a)}function k(b,a){var d=b.data.v,e=(void 0!=a?a.get_Images():d.get_Images()).toArray();r(d,e);d._6053("_1403",a);d._3486(0,e);e=-1;void 0!=a&&(e=a._261);d._261=e;-1!==e&&d.scrollTo(e);d._4810||J(d)}function q(b,a){b.data.v._6053("_1454",a)}function C(b,a){var d=b.data.v,e=[],f=[];switch(a.actionName){case "set":e.push(a.previousImage);
case "insert":f.push(a.image);break;case "insertRange":f=a.images;break;case "removeAt":e.push(a.image);break;case "clear":case "removeRange":e=a.images}if(0!==e.length){A(d,e);for(var g=d.get_ImageCacheManager(),h=void 0!=g&&d.get_SyncCacheWithImages(),k=0;k<e.length;k++){var n=e[k];h&&g.contains(n)&&g.clearImageCache(n)}}r(d,f);d._6053("_355",a)}function A(b,a){for(var d=0;d<a.length;d++)$(a[d].evm).off("."+b._1182)}function r(b,a){if(void 0==b._3541)for(var d=0;d<a.length;d++)$(a[d].evm).on("icd."+
b._1182,{v:b},u)}function u(b,a){var d=b.data.v,e=a.i,f=d.get_ImageCacheManager();void 0!=f&&f.contains(e)&&f.clearImageCache(e);f=d.get_Images().indexOf(e.get_Guid());d._920(f,e,e);J(d);d._6053("_3965",a)}function F(b,a,d){b=document.getElementById(d._1182+"_ThumbnailStyleSheet").sheet.cssRules[b];void 0!=b&&(b.style.background=a._1539,b.style.border=a._2687,b.style.marginLeft=-a._5389+"px",b.style.marginTop=-a._5389+"px")}function E(b,a){var d=b.data.v,e=d._261;d._1318(a);d._4810||J(d);d._6053("_2975",
a);d._261!==e&&d._6053("focusedIndexChanged",{newFocusedIndex:d._261,previouslyFocusedIndex:e})}function D(b,a){var d=b.data.v,e=a.newFocusedIndex;-1!=e&&d.set_FocusedIndex(e)}function I(b){b._107.find(".selected").removeClass("selected")}function G(b,a){for(var d=0;d<b._1502.length;d++)if(b._1502[d]===a)return!0;return!1}function H(b){var a="";window.PointerEvent?a+=" pointerdown."+b+" MSPointerDown."+b:("ontouchstart"in window&&(a+=" touchstart."+b),a+=" mousedown."+b);return a}function K(b){var a=
"";window.PointerEvent?a+=" pointermove."+b+" MSPointerMove."+b:("ontouchstart"in window&&(a+=" touchmove."+b),a+=" mousemove."+b);return a}function X(b){var a="";window.PointerEvent?a+=" pointerup."+b+" MSPointerUp."+b:("ontouchstart"in window&&(a+=" touchend."+b),a+=" mouseup."+b);return a}function R(b,a,d,e){var f=$("<div>");f.css("float","left");f.css("position","relative");f.css("margin-top",b);f.css("margin-left",b);f.css("width",a);f.css("height",d);b=$("<div>",{id:e}).appendTo(f);$(b).css("width",
a);$(b).css("height",d);$(b).addClass("border");$(b).addClass("notready");return{border:b,main:f}}function L(b){var a=document.getElementById(b._1182);if(a.clientWidth!=b._2375.width||a.clientHeight!=b._2375.height){0!==b._2375.width&&0!==b._2375.height||ha(b);var d=b.get_Images().get_Count();b._2375={width:a.clientWidth,height:a.clientHeight};Y(b,d);V(b);b._4810||J(b);4===b._6835.valueOf()&&S(b,d)}}function ba(b,a){if(void 0==b._3704){var d=b._107[0],d=$("<div>").appendTo(d);$(d).css({top:"0px",
left:"0px",position:"absolute",width:a.width,height:a.height,overflow:"hidden","pointer-events":"none",display:"none"});b._3704=Raphael(d[0],a.width,a.height);$(b._3704.canvas).css({top:0,left:0,"pointer-events":"none"})}else b._3704.setSize(a.width,a.height),$(b._3704.canvas).parent().css({width:a.width,height:a.height})}function S(b,a){var d=b._1465,e=b._2620(),f=e.width,e=e.height,g=b._1660,h=b._6835.valueOf(),k=-1,n=-1;Y(b,a);switch(h){case 1:k=f;n=e*a+g*a;d.css("left","50%");d.css("top","0px");
d.css("margin-left",-k/2-g);d.css("margin-top",0);d.css("margin-bottom",g);break;case 2:n=e;k=(f+g)*a;d.css("top","50%");d.css("left","0px");d.css("margin-top",-n/2-g);d.css("margin-left",0);d.css("margin-right",0);break;case 4:h=document.getElementById(b._1182);k=(f+g)*b._3769+g;n=(e+g)*b._3652;d.css("top","0px");k>h.clientWidth?(d.css("left","0px"),d.css("margin-left",g)):(h.clientWidth-k)/2<g?(d.css("left","0px"),d.css("margin-left",g)):(d.css("left","50%"),d.css("margin-left",-k/2));d.css("margin-top",
0);d.css("margin-bottom",g);break;case 3:d.css({"margin-left":g,left:"0px",top:"0px","margin-top":0,"margin-bottom":g})}-1!=k?d.css({width:k,height:n}):d.css({width:"",height:""})}function Y(b,a){if(0===a)b._3652=b._3769=0;else{var d;switch(b.get_ThumbnailFlowStyle().valueOf()){case 1:d=1;break;case 2:d=a;break;case 4:d=Math.min(b.get_ThumbnailFixedColumnCount(),a);break;case 3:d=document.getElementById(b._1182);var e=b._2620().width,f=0;ca(b,"y")&&(f=b._154);d=Math.floor((d.clientWidth-b.get_ThumbnailMargin()-
f)/(e+b.get_ThumbnailMargin()));d=0<d?Math.min(d,a):1}b._3769=d;b._3652=Math.ceil(a/d)}}function V(b){var a=b._5299(),d=document.getElementById(b._1182),e=d.clientHeight,d=d.clientWidth,f=0,g=0;switch(b._1329){case 0:f=b._7026;g=b._3793;break;case 90:f=b._4247;g=b._7026;break;case 180:f=b._69;g=b._4247;break;case 270:f=b._3793,g=b._69}3===b._6835.valueOf()&&(f*=-1);b=b._107;a.width+f>d?b.css("overflow-x","auto"):b.css("overflow-x","hidden");a.height+g>e?b.css("overflow-y","auto"):b.css("overflow-y",
"hidden")}function ca(b,a){var d=b._107,e=d.css("overflow"),f;f="undefined"==typeof a||"y"==a?d.css("overflow-y"):d.css("overflow-x");return(d="undefined"==typeof a||"y"==a?d.get(0).scrollHeight>d.innerHeight():d.get(0).scrollWidth>d.innerWidth())&&("auto"==e||"visible"==e||"auto"==f||"visible"==f)||"scroll"==e||"scroll"==f}function J(b){var a=b.get_GenerateOnlyVisibleThumbnails(),d=b.get_ImageCacheManager();if(void 0!=d){for(var e=[],f=0;f<b._1026.length;f++)1!==b._1026[f]&&e.push(f);for(var g=b._4577,
h=b._5353,k=b.get_Images(),f=0;f<e.length;f++){var n=k.get_Image(e[f]),m=Aa(g,h,n),m=d.getImageData(n,m);void 0!=m&&(m={fileId:m,image:n,width:g,height:h,renderingSettings:n.get_RenderingSettings().clone()},n=n.get_DecodingSettings(),void 0!=n&&(m.decodingSettings=n.clone()),b._727(m))}}d=Za(b);if(0!=d.length)for(e=b.get_Images(),f=0;f<d.length;f++)g=d[f],h=e.get_Image(g).get_Guid(),h=$("#"+b._1182+" #"+h),0==b._1026[g]&&(Z(b,h,g),g=b,m=h,void 0!=g._4154&&(h=g._4154.width,k=g._4154.height,n=g._2620(),
g=$($(g._4154).clone()).appendTo(m),$(g).css({position:"absolute","pointer-events":"none",top:(n.height-k)/2,left:(n.width-h)/2}),$(g).addClass("indicator")));if(!b._4810)if(a)0==d.length?b._6053("visibleThumbnailsPainted"):N(d,b);else if(a=b._107[0],d=a.clientHeight,0!==a.clientWidth&&0!==d){a=[];for(d=0;d<b._1026.length;d++)1!==b._1026[d]&&a.push(d);0===a.length&&b._6053("visibleThumbnailsPainted");N(a,b)}}function Za(b){var a=b.get_Images().get_Count();if(0===a)return[];var d=b.get_ThumbnailMargin(),
e=b.get_ThumbnailPadding(),f=b._2620(),g=f.width,f=f.height,h=b._107[0],k=h.clientWidth,n=h.clientHeight;if(0===k||0===n)return[];var m=h.scrollTop,h=h.scrollLeft,l=g+d,p=b._3769,r=h+k,s=m+n,u;u=m<d+e[0]?0:Math.floor(m/(f+d));n=Math.ceil(n/f)+u+1;n>b._3652&&(n=b._3652);l=h<d+e[3]?0:Math.floor(h/l);k=Math.ceil(k/g)+l+1;k>b._3769&&(k=b._3769);var t=b._1465.find("div:not(.border)");if(0===t.length)return[];for(var q=$(t[u*p+l]).position(),t=q.left,q=q.top,x=0,v=0,A=0,F=0,D=[],E=u;E<n;E++){E!=u?(A+=f+
d,F=A+f+e[2]):(A=q,F=A+f+e[0]+e[2]);for(var C=l;C<k;C++){var x=C!=l?x+(g+d):t,v=x+g+e[1],za=E*p+C;za<a&&(1<h-v||1>r-x||1<m-F||1>s-A||1==b._1026[za]||D.push(za))}}return D}function Aa(b,a,d){b="thS"+b+","+a;if(!1!==d.get_IsVector()){var e=d.get_RenderingSettings();a=e.get_Resolution();var f=e.get_InterpolationMode(),e=e.get_SmoothingMode();b+="Rs"+a.x+","+a.y+","+f.valueOf()+","+e.valueOf()}d=d.get_DecodingSettings();void 0!=d&&d.get_IsColorManagementEnabled()&&(b+="Cm");return b}function ha(b){if(0!==
b._1621){for(var a=0;a<b._1026.length;a++)0!==b._1026[a]&&(b._6053("thumbnailPainting",a),2===b._1621&&b._6053("thumbnailPainted",a));b._1621=0}}function Z(b,a,d){currentImage=$("<img>").appendTo(a);currentImage.css({width:b._4577*b._4728.valueOf()/100,height:b._5353*b._4728.valueOf()/100,display:"block",position:"absolute","margin-left":b._7026,"margin-top":b._3793,"margin-right":b._69,"margin-bottom":b._4247,"user-select":"none","-webkit-user-select":"none","-moz-user-select":"none"});0!==b._1329&&
currentImage.css(b._3183());a={v:b};currentImage.on("click",a,ia);currentImage.contextmenu(a,l);currentImage.mouseover(a,da);currentImage.mouseout(a,M);currentImage.on(H(b._1182),a,P);b._1026[d]=2;b._6053("thumbnailPainting",d);return currentImage}function N(a,d){function e(b){d._727(b)}function f(b){if(!b.blocked){null!=b.fileId&&d._727(b);var a=d.get_Images().indexOf(b.image);d._6053("imageRenderingException",{response:b,thumbnailIndex:a})}}function g(b){d._4810=!1;J(d)}if(0!==d._2205)d._4895=!0;
else{for(var h=d._4577,k=d._5353,n=d.get_Images(),m=[],l=[],p=0;p<a.length;p++){var r=n.get_Image(a[p]);m.push(r);for(var s=r.get_Source(),u=!0,r=0;r<l.length;r++)if(s.equals(l[r])){u=!1;break}u&&l.push(s)}for(p=0;p<l.length;p++)l[p].get_ImageService().bi();0!==l.length&&(d._4810=!0);for(p=0;p<m.length;p++)m[p].renderThumbnail(h,k,d._1029,d._2129,e,f);for(p=0;p<l.length;p++)if(h=l[p].get_ImageService().ei(),void 0!=h)for(r=0;r<h.length;r++)if(k=h[r].request,b.pv.ic(k,b.WebCompositeRequestJS)&&"RenderThumbnails"===
k.get_ActionName())$(k).one("compositeError compositeSuccess",g)}}function O(b){var a=b.data.v;J(a);a._6053("scrollChanged",b)}function ia(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);a._261!=d?a.set_FocusedIndex(d):a.set_SelectedIndices(d);a._6053("thumbnailClick",{thumbnailIndex:d,originalEvent:b})}function da(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);G(a,d)||(a.get_FocusOnHover()?a.set_FocusedIndex(d):a._6054(d,"hovered"));a._6053("thumbnailMouseover",
{thumbnailIndex:d,originalEvent:b})}function l(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);a._6053("thumbnailContextMenu",{thumbnailIndex:d,originalEvent:b})}function P(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d),e=g(b);0===e||1===e?(a._1673=!0,a.set_SelectedIndices([d])):0===a._1502.length&&a.set_SelectedIndices([d]);a._6053("thumbnailMousedown",{thumbnailIndex:d,originalEvent:b})}function M(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d),
e="",e=d==a._261?e+"focused":1===a._1026[d]?e+"normal":e+"notready";G(a,d)&&(e+=" selected");a._6054(d,e);a._6053("thumbnailMouseout",{thumbnailIndex:d,originalEvent:b})}function Q(b,a){b.data.v.set_ImageRotationAngle(a)}function qa(b){b._4577=b._3796.width;b._5353=b._3796.height;b._6835=b._3340;b._6090=b._4582;b._4728=b._5944;b._3793=b._6174[0];b._69=b._6174[1];b._4247=b._6174[2];b._7026=b._6174[3];b._1660=b._4306;b._1329=b._4961}function ea(b){b.cancelable=!0;b.preventDefault?b.preventDefault():
b.returnValue=!1}var s=d.prototype;s.focusedIndexChanged=function(b,a){};s.imageRotating=function(b,a){};s.imageRotated=function(b,a){};s.thumbnailRendered=function(b,a){};s.thumbnailPainting=function(b,a){};s.thumbnailPainted=function(b,a){};s.visibleThumbnailsPainted=function(b){};s.imageRenderingException=function(b,a){};s.scrollChanged=function(b,a){};s.thumbnailClick=function(b,a){};s.thumbnailMouseover=function(b,a){};s.thumbnailContextMenu=function(b,a){};s.thumbnailMousedown=function(b,a){};
s.thumbnailMouseout=function(b,a){};s._355=function(b,a){};s._2975=function(b,a){};s._3965=function(b,a){};s._6393=function(b,a){};s._1403=function(b,a){};s._6758=function(b){};s._1454=function(b,a){};s.get_Images=function(){var b=this._3541;return void 0==b?this._6971:b.get_Images()};s.get_FocusedIndex=function(){return this._261};s.set_FocusedIndex=function(a){b.pv.n(a);(-1>a||a>this.get_Images().get_Count()-1)&&b.pv.toe();var d=this._261;if(a!==d&&(-1!==d&&(1===this._1026[d]?this._6054(d,"normal"):
this._6054(d,"notready")),this._261=a,-1!==a&&(this._6054(a,"focused"),this.scrollTo(a),this.set_SelectedIndices(a)),this._6053("focusedIndexChanged",{newFocusedIndex:a,previouslyFocusedIndex:d}),null!=this._3541))try{this._3541.set_FocusedIndex(a)}catch(e){}};s.get_MasterViewer=function(){return this._3541};s.set_MasterViewer=function(a){if(a!=this&&this._3541!==a){if(void 0!=a){b.pv.ic(a,h.WebImageViewerJS)||b.pv.ic(a,d)||b.pv.tae();a._3541===this&&a.set_MasterViewer();for(var e=a;void 0!=(e=e._3541);)e===
this&&b.pv.te("MasterViewer cannot refers to itself.")}this._6014();this._3541=a;this._1650()}};s.get_ProgressImage=function(){return this._4154};s.set_ProgressImage=function(a){void 0!=a&&b.pv.c(a,Image);this._4154=a};s.get_ProgressIndicatorUrl=function(){return this._4154};s.set_ProgressIndicatorUrl=function(b){var a=new Image;a.src=b;this.set_ProgressImage(a)};s.get_ThumbnailWidth=function(){return 0!==this._2205?this._3796.width:this._4577};s.get_ThumbnailHeight=function(){return 0!==this._2205?
this._3796.height:this._5353};s.get_ThumbnailSize=function(){var b=this._4577,a=this._5353;0!==this._2205&&(b=this._3796.width,a=this._3796.height);return{width:b,height:a}};s.set_ThumbnailSize=function(a,d){b.pv.n(a,d);32>a&&(a=32);32>d&&(d=32);1024<a&&(a=1024);1024<d&&(d=1024);var e=this.get_ThumbnailSize();if(e.width!==a||e.height!==d)this._4895=!0,this._3796={width:a,height:d},0===this._2205&&this.update()};s.get_ThumbnailFlowStyle=function(){return 0!==this._2205?this._3340:this._6835};s.set_ThumbnailFlowStyle=
function(a){a=b.pv.e(a,t.WebThumbnailFlowStyleEnumJS);a.equals(this.get_ThumbnailFlowStyle())||(this._4895=!0,this._3340=a,0===this._2205&&this.update())};s.get_ThumbnailColumnCount=function(){return this._3769};s.get_ThumbnailFixedColumnCount=function(){return 0!==this._2205?this._4582:this._6090};s.set_ThumbnailFixedColumnCount=function(a){b.pv.n(a);0>=a&&b.pv.toe();a!==this.get_ThumbnailFixedColumnCount()&&(this._4895=!0,this._4582=a,0===this._2205&&this.update())};s.get_ThumbnailScale=function(){return 0!==
this._2205?this._5944:this._4728};s.set_ThumbnailScale=function(a){a=b.pv.e(a,t.WebThumbnailScaleEnumJS);a.equals(this.get_ThumbnailScale())||(this._4895=!0,this._5944=a,0===this._2205&&this.update())};s.get_GenerateOnlyVisibleThumbnails=function(){return this._656};s.set_GenerateOnlyVisibleThumbnails=function(a){b.pv.b(a);if(this._656!==a)if(this._656=a)this._107.on("scroll",{v:this},O);else this._107.off("scroll"),0<this.get_Images().get_Count()&&J(this)};s.get_FocusOnHover=function(){return this._2540};
s.set_FocusOnHover=function(a){b.pv.b(a);this._2540=a};s.get_ThumbnailMargin=function(){return 0!==this._2205?this._4306:this._1660};s.set_ThumbnailMargin=function(a){b.pv.n(a);0>a&&(a=0);a!==this.get_ThumbnailMargin()&&(this._4895=!0,this._4306=a,0===this._2205&&this.update())};s.get_ThumbnailPadding=function(){var b=[this._3793,this._69,this._4247,this._7026];0!==this._2205&&(b=[].concat(this._6174));return b};s.set_ThumbnailPadding=function(a){var d=[];void 0!=a.length?(b.pv.ad(a,b.pv.n),4!==a.length&&
b.pv.tae(),d[0]=0<=a[0]?a[0]:0,d[1]=0<=a[1]?a[1]:0,d[2]=0<=a[2]?a[2]:0,d[3]=0<=a[3]?a[3]:0):(b.pv.n(a),0>a&&(a=0),d[0]=d[1]=d[2]=d[3]=a);a=this.get_ThumbnailPadding();if(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3])this._4895=!0,this._6174=d,0===this._2205&&this.update()};s.get_SelectedIndices=function(){return this._1502};s.set_SelectedIndices=function(b){if(void 0==b)I(this),this._1502=[];else if(void 0!=b.length?this._4828?this._1502=b:(this._1502=[],this._1502.push(b[0])):"number"==typeof b&&
(this._1502=[],this._1502.push(b)),void 0!=this._1502)for(I(this),b=0;b<this._1502.length;b++)this._6054(this._1502[b],"selected")};s.get_MultiSelect=function(){return this._4828};s.set_MultiSelect=function(a){b.pv.b(a);this._4828=a};s.get_ImageInfo=function(b){var a=this.get_Images().get_Image(b);b=a.get_Size();a=a.get_Resolution();return void 0==b||void 0==a?void 0:{size:b,resolution:a}};s.get_ImageRotationAngle=function(){return 0!==this._2205?this._4961:this._1329};s.set_ImageRotationAngle=function(a){b.pv.n(a);
a=v._1._5547(a);0!==a&&90!==a&&180!==a&&270!==a&&b.pv.te("Argument value exception.");var d=this.get_ImageRotationAngle();a!==d&&(this._6053("imageRotating",{currentAngle:d,newAngle:a}),this._4895=!0,this._4961=a,0===this._2205&&this.update(),void 0!=this._3541&&this._3541.set_ImageRotationAngle(a),this._6053("imageRotated",a))};s.get_ThumbnailCanvas=function(a){b.pv.n(a);var d=this.get_Images();(0>a||a>d.get_Count())&&b.pv.toe();a=d.get_Image(a).get_Guid();a=$("#"+a).parent();d=$(a).children("svg");
0===d.length?(d=this._2620(),a=Raphael(a[0],d.width,d.height),$(a.canvas).css({"pointer-events":"none",position:"absolute",left:0,top:0,"z-index":10}),a.canvas._raphael=a):a=d[0]._raphael;return a};s.get_UseCache=function(){return this._1029};s.set_UseCache=function(a){b.pv.b(a);this._1029=a};s.get_ThumbnailsFormat=function(){return this._2129};s.set_ThumbnailsFormat=function(a){this._2129=b.pv.e(a,b.WebImageTypeEnumJS)};s.get_NormalThumbnailAppearance=function(){return this._5440};s.set_NormalThumbnailAppearance=
function(a){b.pv.c(a,t.WebThumbnailAppearanceJS);this._5440.equals(a)||(this._5440=a,F(0,this._5440,this))};s.get_FocusedThumbnailAppearance=function(){return this._3116};s.set_FocusedThumbnailAppearance=function(a){b.pv.c(a,t.WebThumbnailAppearanceJS);this._3116.equals(a)||(this._3116=a,F(1,this._3116,this))};s.get_HoveredThumbnailAppearance=function(){return this._7807};s.set_HoveredThumbnailAppearance=function(a){b.pv.c(a,t.WebThumbnailAppearanceJS);this._7807.equals(a)||(this._7807=a,F(2,this._7807,
this))};s.get_NotReadyThumbnailAppearance=function(){return this._7500};s.set_NotReadyThumbnailAppearance=function(a){b.pv.c(a,t.WebThumbnailAppearanceJS);this._7500.equals(a)||(this._7500=a,F(3,this._7500,this))};s.get_SelectedThumbnailAppearance=function(){return this._1195};s.set_SelectedThumbnailAppearance=function(a){b.pv.c(a,t.WebThumbnailAppearanceJS);this._1195.equals(a)||(this._1195=a,F(4,this._1195,this))};s.get_ImageCacheManager=function(){var b=this._3541;return void 0==b?this._6504:b.get_ImageCacheManager()};
s.set_ImageCacheManager=function(a){void 0!=a&&b.pv.c(a,v.WebImageCacheManagerJS);void 0!=this._3541&&b.pv.te("Cannot change cache manager of slave viewer.");this._6504!==a&&(this._6504=a,this._6053("_1454",a))};s.get_SyncCacheWithImages=function(){var b=this._3541;return void 0!=b?b.get_SyncCacheWithImages():this._1205};s.set_SyncCacheWithImages=function(a){b.pv.b(a);void 0!=this._3541&&b.pv.te("Can not change cache property of slave viewer.");this._1205=a};s.get_ControlId=function(){return this._1182};
s.get_ContextMenuFunc=function(){return this._3093};s.set_ContextMenuFunc=function(a){void 0!=a&&b.pv.f(a);this._3093=a;var d=this;document.getElementById(this._1182).oncontextmenu=function(b){ea(b);b.stopPropagation();var a;void 0!=d._3093&&(a=d._3093(b));return void 0!=a?a:!1}};s._2786=function(){return this._1182};s._7454=function(){var b=this._107[0];return{y:b.scrollTop,x:b.scrollLeft}};s._4654=function(b,a){var d=this._107[0];d.scrollTop=a;d.scrollLeft=b};s.beginInit=function(){this._2205++};
s.endInit=function(){this._2205--;0===this._2205?(this._4895&&this.update(),this._4895=!1):0>this._2205&&(this._2205=0)};s.scrollTo=function(a){b.pv.n(a);var d=this.get_Images();if(!(0>a||a>d.get_Count())){var e=!1;try{var f=d.get_Image(a).get_Guid(),g=$("#"+f).parent(),h=$(g).position(),k=this._107[0],n=this._2620(),m=h.top+this._3793,l=m+n.height,p=k.scrollTop,r=p+k.clientHeight;a=0;if(l<=r&&m>=p)a=p;else{if(l>r||m>r)a=l-r+p+2*this._1660+this._3793+this._4247;m<p&&(a=m-this._1660+this._3793)}var s=
k.scrollLeft,u=s+k.clientWidth,t=h.left+this._7026,q=t+n.width,h=0;if(q<=u&&t>=s)h=s;else{if(q>u||t>u)h=q-u+s+2*this._1660+this._7026+this._69;t<s&&(h=t-this._1660+this._7026)}k.scrollTop=a;k.scrollLeft=h}catch(x){e=!0}this._4810||e||J(this)}};s.update=function(){var b=this.get_Images().get_Count();if(0<b){if(0===this._2205&&this._4895){var a=this._3796.width!==this._4577||this._3796.height!==this._5353,d=!this._4728.equals(this._5944),e=this._4306!==this._1660,f=this._6174[0]!==this._3793||this._6174[1]!==
this._69||this._6174[2]!==this._4247||this._6174[3]!==this._7026,g=this._4961!==this._1329,h=!1;if(a||d)var d=this._5944.valueOf()/100,h=this._3796.height*d,k=this._4728.valueOf()/100,n=this._5353*k,h=this._3796.width*d!==this._4577*k||h!==n;d=this._2620();qa(this);k=this._2620();d=d.width!==k.width||d.height!==k.height;S(this,b);b=h;h=this._1465;if(void 0!=h&&(h=h.find("div:not(.border)"),k=$(h).children("div"),n=this._1660,e&&h.css({"margin-left":n,"margin-top":n}),d||b||f||g)&&(e=this._2620(),
d&&this._340(h,k,e.width,e.height),k=$(k).children("img:not(.indicator)"),0!==k.length&&(f&&this._5037(k,this._3793,this._69,this._4247,this._7026),b&&(f=this._4728.valueOf()/100,this._2745(k,this._4577*f,this._5353*f)),0!==this._1329?this._1731(k):g&&this._1276(k)),d))for(g=$(h).children("svg"),f=0;f<g.length;f++)g[f]._raphael.clear(),g[f]._raphael.setSize(e.width,e.height);g=0;a?g=1:d&&(g=2);this._1621=g;d&&(g=this._1465,void 0!=g&&(g=g.find("img.indicator"),0!=g.length&&(f=this._2620(),e=$(g[0]).width(),
d=$(g[0]).height(),g.css({top:(f.height-d)/2,left:(f.width-e)/2}))));if(a)for(a=0;a<this.get_Images().get_Count();a++)1==this._1026[a]&&(this._1026[a]=2);this._4895=!1}a=this._107[0];0!==a.clientHeight&&0!==a.clientWidth&&ha(this);V(this);this._6053("_6758");this._4810||J(this)}else 0===this._2205&&(qa(this),this._4895=!1)};s.invalidate=function(b){this._2263&&this._2263._7633(this._3217())};s.focus=function(){$("#"+this._1182).focus()};s._5299=function(){var b=this._107[0];return{width:b.scrollWidth,
height:b.scrollHeight}};s._4259=function(){return this._5299()};s._5866=function(){try{void 0==this._2263&&(this._2263=new lb._3172(this),this._107.find("img").css("z-index",2),this._2263._263(),0!=this._1502.length&&this.set_SelectedIndices(this._1502))}catch(b){}};s._727=function(b){var a=b.image,d=a.get_Guid(),e=this.get_Images().indexOf(a),f;if(!(f=-1===e)){if(b.width!==this._4577||b.height!==this._5353)f=!1;else{var g=this.get_Images().get_Image(e);f=g.get_RenderingSettings();g=g.get_DecodingSettings();
f=f.equals(b.renderingSettings)&&(void 0!=g&&g.equals(b.decodingSettings)||void 0==g&&g==b.decodingSettings)}f=!f}f||(1===this._1026[e]?J(this):(g=$("#"+this._1182+" #"+d)[0],$(g).children(".indicator").remove(),f=$(g).children("img"),0==f.length&&(f=Z(this,g,e)),g=b.fileId,/^data:image\/[a-zA-Z]+;base64,/.test(g)||(g+="?"+b.image.gi()),f[0].src=g,f=this.get_ImageCacheManager(),void 0!=f&&(g=Aa(this._4577,this._5353,b.image),f.containsImageData(a,g)||f.addImageData(a,g,b.fileId)),this._261==e?this._6054(e,
"focused"):this._6054(e,"normal"),G(this,e)&&this._6054(e,"selected"),this._6053("thumbnailRendered",{thumbnailId:d,thumbnailIndex:e}),this._6053("thumbnailPainted",e),this._1026[e]=1))};s._5589=function(b){var a=this._2263;if(void 0!=a&&a._3304){var d=b;"mousedown"!=b.type&&(b="touchstart"==b.type?b.originalEvent.touches[0]:b.originalEvent,b.sourceEvent=d);var d=this._107,f=b,g=this._107,h=ca(this,"y"),k=ca(this,"x"),m=f.pageX,f=f.pageY,l=$(g).offset(),p,r,s,u;r=p=!1;h&&(h=l.top,s=l.left+$(g).width(),
u=h+$(g).height(),r=s-this._154,r=f>=h&&f<=u&&m>=r&&m<s);k&&(k=l.top+$(g).height(),l=l.left,p=k-this._154,g=l+$(g).width(),p=f>=p&&f<=k&&m>=l&&m<g);p||r?d.css("touch-action","pan-x pan-y"):(ea(b),d.css("touch-action","none"),ba(this,this._5299()),$(this._3704.canvas).parent().css("display","block"),this._3497(),b=e(this,b),a._5589(b));this.focus()}};s._6583=function(b){ea(b);var a=this._2263;if(void 0!=a&&a._3304){if("mousemove"!=b.type){var d=b;b="touchmove"==b.type?b.originalEvent.touches[0]:b.originalEvent;
b.sourceEvent=d}b=e(this,b);a._6583(b)}};s._3473=function(b){var a=this._2263;if(void 0!=a&&a._3304){if("mouseup"!=b.type){var d=b;b="touchend"==b.type?b.originalEvent.changedTouches[0]:b.originalEvent;b.sourceEvent=d}b=e(this,b);a._3473(b);$(this._3704.canvas).parent().css("display","none");ba(this,{width:0,height:0});this._1472()}};s._203=function(b){ea(b)};s._3217=function(b){return new v.WebMatrixJS};s._2693=function(b){return this._3217(b).invert()};s._6053=function(b,a){$(this._2515).triggerHandler(b,
a);$(this).triggerHandler(b,a)};s._6014=function(){var b=this._3541;m({data:{v:this}},b);void 0!=b&&$(b._2515).off("."+this._1182)};s._1650=function(){var b=this._3541;if(void 0!=b){var a=this._1182,d={v:this},e=b._2515;$(e).on("_355."+a,d,C);$(e).on("_2975."+a,d,E);$(e).on("_3965."+a,d,u);$(e).on("focusedIndexChanged."+a,d,D);$(e).on("imageRotated."+a,d,Q);$(e).on("_1454."+a,d,q);$(e).on("_6393."+a,d,m);$(e).on("_1403."+a,d,k)}k({data:{v:this}},b)};s._1318=function(b){switch(b.actionName){case "clear":this._6947();
break;case "set":this._920(b.imageIndex,b.image,b.previousImage);break;case "removeAt":case "removeRange":var a=[],d=[];"removeRange"===b.actionName?(a=b.imagesIndexes,d=b.images):(a.push(b.imageIndex),d.push(b.image));this._2829(a,d);break;case "insert":case "insertRange":a=b.imageIndex,d=[],"insert"===b.actionName?d.push(b.image):d=b.images,this._3486(a,d)}};s._6947=function(){this._261=-1;this._1465.children().remove();this._1026=[];this._1502=[];S(this,0)};s._920=function(b,a,d){var e=d.get_Guid();
a!==d&&$("#"+e).attr("id",a.get_Guid());1==this._1026[b]&&(this._1026[b]=2)};s._2829=function(b,a){for(var d=0;d<a.length;d++){var e=a[d].get_Guid();$("#"+e).parent().remove()}for(d=b.length-1;0<=d;d--)this._1026.splice(b[d],1);for(d=0;d<this._1502.length;){for(var f=!1,e=0;e<b.length;e++)if(this._1502[d]===b[e]){this._1502.splice(d,1);f=!0;break}f||d++}for(var f=!1,g=0,h=[],d=0;d<this._1502.length;d++)h.push(0);for(d=0;d<b.length;d++){for(e=0;e<this._1502.length;e++)this._1502[e]>b[d]&&(h[e]+=1);
this._261>b[d]?g++:this._261===b[d]&&(f=!0)}for(d=0;d<this._1502.length;d++)this._1502[d]-=h[d];this._261-=g;f&&(0===this.get_Images().get_Count()?this._261=-1:(this._261==this.get_Images().get_Count()&&this._261--,this._6054(this._261,"focused"),-1!=this._1502.indexOf(this._261)&&this._6054(this._261,"selected")));S(this,this.get_Images().get_Count())};s._3486=function(b,a){for(var d=this._2620(),e=d.width,f=d.height,d=[],g=0;g<a.length;g++){var h=a[g].get_Guid();d.push(R(this._1660,e,f,h))}g=this.get_Images();
e=g.get_Count();if(e==a.length)for(g=0;g<d.length;g++)$(d[g].main).appendTo(this._1465);else for(b<e-a.length?(g=g.get_Image(b+a.length).get_Guid(),g=$("#"+g).parent(),$(d[0].main).insertBefore(g)):(g=g.get_Image(b-1).get_Guid(),g=$("#"+g).parent(),$(d[0].main).insertAfter(g)),g=1;g<d.length;g++)$(d[g].main).insertAfter(d[g-1].main);for(g=0;g<d.length;g++)this._1026.splice(b+g,0,0);this._261>=b&&(this._261+=a.length);for(g=0;g<this._1502.length;g++)this._1502[g]>=b&&(this._1502[g]+=a.length);-1==
this._261&&0===b&&(this._261=b,this._6054(b,"focused"));S(this,e);V(this);e!==a.length&&this.scrollTo(this._261)};s._6054=function(b,a){var d=this.get_Images();0<=b&&b<d.get_Count()&&(d=d.get_Image(b).get_Guid(),d=$("#"+this._1182+" #"+d),0!=d.length&&(d=d[0],"selected"!==a?($(d).removeClass(),$(d).addClass("border "+a)):($(d).addClass("border"),b===this._261&&$(d).addClass("focused"),$(d).addClass(a))))};s._6900=function(){var b=this,a=b._1182,d=document.getElementById(a);$(d).on(H(a),function(a){b._5589(a)})};
s._1543=function(){var b=this._1182,a=document.getElementById(b);$(a).off(H(b))};s._3497=function(){var b=this,a=b._1182;$(document).on(K(a),function(a){b._6583(a)});$(document).on(X(a),function(a){b._3473(a)})};s._1472=function(){var b=this._1182;$(document).off(K(b));$(document).off(X(b))};s._340=function(b,a,d,e){d={width:d,height:e};b.css(d);a.css(d)};s._5037=function(b,a,d,e,f){b.css({"margin-top":a,"margin-right":d,"margin-bottom":e,"margin-left":f})};s._2745=function(b,a,d){b.css({width:a,
height:d})};s._1731=function(b){var a=this._3183();b.css(a);return a};s._1276=function(b){var a=this._7306();b.css(a);return a};s._3183=function(){var b=this._1329,a=this._4577*this._4728.valueOf()/100+this._69+this._7026,d=this._5353*this._4728.valueOf()/100+this._3793+this._4247,e=0,f=0;switch(b){case 90:e=d;break;case 180:e=a;f=d;break;case 270:f=a}b="translate("+e+"px,"+f+"px) rotate("+b+"deg)";a=-this._7026+"px "+-this._3793+"px";return{transform:b,"-moz-transform":b,"-webkit-transform":b,"-o-transform":b,
"-ms-transform":b,"transform-origin":a,"-moz-transform-origin":a,"-webkit-transform-origin":a,"-o-transform-origin":a,"-ms-transform-origin":a}};s._7306=function(){return{transform:"","-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":"","transform-origin":"","-moz-transform-origin":"","-webkit-transform-origin":"","-o-transform-origin":"","-ms-transform-origin":""}};s._2620=function(){var b=this._4577*this._4728.valueOf()/100+this._69+this._7026,a=this._5353*this._4728.valueOf()/
100+this._3793+this._4247;if(90===this._1329||270===this._1329)var d=b,b=a,a=d;return{width:b,height:a}};var fa=document.getElementById(a);void 0==fa&&b.pv.te("The parent DOM element for viewer is not found.");"DIV"!==fa.tagName&&b.pv.te("The parent DOM element for viewer must be a DIV element.");this._1182=a;this._154=b.WebImagingEnviromentJS.get_ScrollSize();this._2087=this._3652=this._3769=void 0;this._1026=[];this._2205=0;this._4895=!1;this._1621=0;this._2263=void 0;this._4810=!1;this._3573="WebThumbnailViewer";
this._3541=void 0;this._6971=new b.WebImageCollectionJS;this._5353=this._4577=100;this._6835=new t.WebThumbnailFlowStyleEnumJS(1);this._6090=2;this._4728=new t.WebThumbnailScaleEnumJS(100);this._261=-1;this._656=!0;this._2540=!1;this._1660=20;this._7026=this._4247=this._69=this._3793=5;this._1502=[];this._4828=!0;this._1673=!1;this._4154=this._3704=void 0;this._1329=0;this._1029=!0;this._2129=new b.WebImageTypeEnumJS(1);this._6504;this._1205=!0;this.set_ImageCacheManager(new v.WebImageCacheManagerJS);
this._107;this._1465;this._2515={};this._3796={width:this._4577,height:this._5353};this._3340=this._6835;this._4582=this._6090;this._5944=this._4728;this._6174=[this._3793,this._69,this._4247,this._7026];this._4306=this._1660;this._4961=this._1329;this._5440=new t.WebThumbnailAppearanceJS("white","1px solid #eeeeee");this._3116=new t.WebThumbnailAppearanceJS("white","1px dotted gray");this._7807=new t.WebThumbnailAppearanceJS("#BAD2EB","2px solid #BAD2EB");this._7500=new t.WebThumbnailAppearanceJS("black",
"0px solid black");this._1195=new t.WebThumbnailAppearanceJS("#AAEEFD","1px solid #99DEFD");this._3093;this.set_ContextMenuFunc();(function(b){var a=document.createElement("style"),d=b._1182;a.type="text/css";a.id=d+"_ThumbnailStyleSheet";var e=b._5440._6213(),f=b._3116._6213(),g=b._7807._6213(),h=b._7500._6213();b=b._1195._6213();a.innerHTML+="#"+d+" .border.normal{"+e+"}";a.innerHTML+="#"+d+" .border.focused{"+f+"}";a.innerHTML+="#"+d+" .border.hovered{"+g+"}";a.innerHTML+="#"+d+" .border.notready{"+
h+"}";a.innerHTML+="#"+d+" .border.selected{"+b+"}";document.getElementsByTagName("head")[0].appendChild(a)})(this);fa={v:this};$(this._6971.evm).on("changing."+a,fa,C);$(this._6971.evm).on("changed."+a,fa,E);$(this._2515).on("_4715",fa,function(b){b=b.data.v;b._1673?b._1673=!1:(I(b),b._1502=[])});(function(b){var a=document.getElementById(b._1182);b._1543();b._6900();var d=$("<div>").appendTo(a);d.css({width:"100%",height:"100%",position:"relative",overflow:"hidden","touch-action":"none"});b._107=
d;var e=$("<div>").appendTo(d);e.css("position","relative");b._1465=e;if(b._656)$(d).on("scroll",{v:b},O);ba(b,b._5299());V(b);b._5866();b._2375={width:a.clientWidth,height:a.clientHeight};setInterval(L,500,b)})(this);delete s.focusedIndexChanged;delete s.imageRotating;delete s.imageRotated;delete s.thumbnailRendered;delete s.thumbnailPainting;delete s.thumbnailPainted;delete s.visibleThumbnailsPainted;delete s.imageRenderingException;delete s.scrollChanged;delete s.thumbnailClick;delete s.thumbnailMouseover;
delete s.thumbnailContextMenu;delete s.thumbnailMousedown;delete s.thumbnailMouseout;delete s._355;delete s._2975;delete s._3965;delete s._6393;delete s._1403;delete s._6758;delete s._1454};h.WebThumbnailViewerJS=d})(q.Svg);(function(h){b.WebServiceJS.defaultImageProcessingService=-1;var a=function(){var d=a.prototype;d._2149=function(b,a){};d._4430=function(b,a){};d.get_Type=function(){return this._3573};d.set_Type=function(a){a=b.pv.e(a,t.WebColorBaseJSTypeEnumJS);if(a.valueOf()!==this._3573.valueOf()){$(this._4099).triggerHandler("_2149",
{oldValue:this._3573,newValue:a});var d=this._3573;this._3573=a;switch(a.valueOf()){case 0:this._3410=0;this._4065=this._963=this._4352=this._4843=this._6519=void 0;break;case 1:this._6519=0;this._4065=this._963=this._4352=this._4843=this._3410=void 0;break;case 2:case 3:case 4:case 6:this._963=this._4352=this._4843=0;this._4065=this._3410=this._6519=void 0;break;case 5:case 7:this._4065=this._963=this._4352=this._4843=0,this._3410=this._6519=void 0}$(this._4099).triggerHandler("_4430",{oldValue:d,
newValue:a})}};d.get_Index=function(){return this._3410};d.set_Index=function(a){0===this._3573.valueOf()&&(a=parseInt(a),b.pv.n(a),0>a&&(a=0),255<a&&(a=255),this._3410=a)};d.get_Luminance=function(){return this._6519};d.set_Luminance=function(a){1===this._3573.valueOf()&&(a=parseInt(a),b.pv.n(a),0>a&&(a=0),65535<a&&(a=65535),this._6519=a)};d.get_Red=function(){return this._4843};d.set_Red=function(a){var d=this._3573.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 2:case 3:31<
a&&(a=31);break;case 4:case 5:255<a&&(a=255);break;case 6:case 7:65535<a&&(a=65535)}this._4843=a}};d.get_Green=function(){return this._4352};d.set_Green=function(a){var d=this._3573.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 2:case 3:31<a&&(a=31);break;case 4:case 5:255<a&&(a=255);break;case 6:case 7:65535<a&&(a=65535)}this._4352=a}};d.get_Blue=function(){return this._963};d.set_Blue=function(a){var d=this._3573.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);
0>a&&(a=0);switch(d){case 2:case 3:31<a&&(a=31);break;case 4:case 5:255<a&&(a=255);break;case 6:case 7:65535<a&&(a=65535)}this._963=a}};d.get_Alpha=function(){return this._4065};d.set_Alpha=function(a){var d=this._3573.valueOf();if(5===d||7===d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 5:255<a&&(a=255);break;case 7:65535<a&&(a=65535)}this._4065=a}};d.toString=function(){var b=this._3573.toString();switch(b){case "Indexed":b+="("+this._3410+")";break;case "Gray16":b+="("+this._6519+")";break;
case "RGB555":case "RGB565":case "RGB24":case "RGB48":b+="("+this._4843+","+this._4352+","+this._963+")";break;case "ARGB32":case "ARGB64":b+="("+this._4843+","+this._4352+","+this._963+","+this._4065+")"}return b};d.clone=function(){var b=new a;b._3573=this._3573;b._3410=this._3410;b._6519=this._6519;b._4843=this._4843;b._4352=this._4352;b._963=this._963;b._4065=this._4065;return b};d.getParams=function(){return{type:this._3573.toString(),index:this._3410,luminance:this._6519,red:this._4843,green:this._4352,
blue:this._963,alpha:this._4065}};this._3573=new t.WebColorBaseJSTypeEnumJS(4);this._3410;this._6519;this._963=this._4352=this._4843=0;this._4065;this._4099={};delete d._2149;delete d._4430},e=function(d,f,g,y){function h(a,d){var e=d.newValue.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.")}var k=e.prototype;k.get_Radius=function(){return this._6171};k.set_Radius=function(a){b.pv.n(a);0>a&&(a=0);this._6171=a};k.get_Center=function(){return this._61};k.set_Center=function(d){b.pv.c(d,a);
var e=d._3573.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.");$(this._61._4099).off();this._61=d;$(d._4099).on("_2149",h)};k.toString=function(){return"Center="+this._61.toString()+"; Radius="+this._6171};k.clone=function(){var b=new e;b.set_Center(this._61.clone());b._6171=this._6171;return b};k.getParams=function(){return{center:this._61.getParams(),radius:this._6171}};k=new a;k.set_Type("RGB24");void 0!=d&&void 0!=f&&void 0!=g&&(k.set_Red(d),k.set_Green(f),k.set_Blue(g));this._61=k;
try{this.set_Radius(y)}catch(n){this._6171=0}$(this._61._4099).on("_2149",h)},g=function(d,e,f,y){function h(a,d){var e=d.newValue.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.")}g.superclass.constructor.apply(this,arguments);var k=g.prototype;k.get_InterpolationRadius=function(){return this._7192};k.set_InterpolationRadius=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._7192=a};k.get_NewColor=function(){return this._65};k.set_NewColor=function(d){b.pv.c(d,a);var e=d._3573.valueOf();
4!==e&&5!==e&&b.pv.te("Unsupported color type.");$(this._65._4099).off();this._65=d;$(d._4099).on("_2149",h)};k.toString=function(){return g.superclass.toString.apply(this,arguments)+"; NewColor="+this._65.toString()+"; InterpolationRadius="+this._7192};k.clone=function(){var b=new g;b.set_Center(this._61.clone());b._6171=this._6171;b.set_NewColor(this._65.clone());b._7192=this._7192;return b};k.getParams=function(){var b=g.superclass.getParams.apply(this,arguments);b.newColor=this._65.getParams();
b.interpolationRadius=this._7192;return b};k=new a;k.set_Type("RGB24");this._65=k;$(this._65._4099).on("_2149",h);this._7192=.5};b.extend(g,e);var d=function(a,e,f,y,g){var h=d.prototype;h.get_Gamma=function(){return this._gamma};h.set_Gamma=function(a){b.pv.n(a);0>a&&(a=0);this._gamma=a};h.get_InputMax=function(){return this._inputMax};h.set_InputMax=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._inputMax=a};h.get_InputMin=function(){return this._inputMin};h.set_InputMin=function(a){a=
parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._inputMin=a};h.get_OutputMax=function(){return this._outputMax};h.set_OutputMax=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._outputMax=a};h.get_OutputMin=function(){return this._outputMin};h.set_OutputMin=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._outputMin=a};h.getParams=function(){return{gamma:this._gamma,inputMax:this._inputMax,inputMin:this._inputMin,outputMax:this._outputMax,outputMin:this._outputMin}};
void 0==a&&(a=1);this.set_Gamma(a);void 0==e&&(e=255);this.set_InputMax(e);void 0==f&&(f=0);this.set_InputMin(f);void 0==y&&(y=255);this.set_OutputMax(y);void 0==g&&(g=0);this.set_OutputMin(g)},f=function(a,d){function e(a,d){var y=a;b.pv.ic(y,b.WebEnumItemBase)&&(y=y.valueOf());if(-1===d.indexOf(y))switch(d.push(y),y){case 4:e(2,d);e(1,d);break;case 8:e(2,d);e(1,d);e(4,d);e(9,d);break;case 9:e(2,d);e(1,d);e(4,d);e(8,d);break;case 16:e(9,d);break;case 24:e(8,d);e(9,d);e(14,d);e(15,d);e(32,d);break;
case 32:e(24,d);break;case 33:e(8,d);e(24,d);break;case 48:e(16,d);e(24,d);break;case 64:e(33,d),e(48,d)}}void 0!=a&&b.pv.f(a,"Success callback must be defined as function.");void 0!=d&&b.pv.f(d,"Error callback must be defined as function.");this._5384=a;this._1758=d;this._3193=[];this._7108=this._245=this._6214=!1;var y=f.prototype;y.get_ActionName=function(){b.pv.tne()};y.get_CanModifyImage=function(){return this._6214};y.get_SupportedNativePixelFormats=function(){return[].concat(this._3193)};y.get_SupportedPixelFormats=
function(){var b=this.get_SupportedNativePixelFormats();return this._245?b.length===b[0].getAllAvailableNames().length?b:this._3020(b):b};y.get_ExpandSupportedPixelFormats=function(){return this._245};y.set_ExpandSupportedPixelFormats=function(a){b.pv.b(a);this._245=a};y.get_RestoreSourcePixelFormat=function(){return this._7108};y.set_RestoreSourcePixelFormat=function(a){b.pv.b(a);!this._6214&&a&&b.pv.te("Command does not support this property because command cannot modify image.");this._7108=a};
y.getParams=function(){return{}};y.checkCommandParams=function(b){return!0};y.execute=function(a,d){b.pv.c(a,b.WebImageJS);var e=a.get_PixelFormat(),y=this.get_SupportedPixelFormats();if(void 0!==e){for(var f=!1,g=0;g<y.length;g++)if(e.equals(y[g])){f=!0;break}if(!f){e=this.get_ActionName()+": unsupported pixel format - "+e.toString()+". Processing command supports only the following pixel formats:";for(g=0;g<y.length;g++)e+=" "+y[g].toString();b.pv.te(e+".")}}void 0==d&&(d=this._7127());b.pv.c(d,
b.WebServiceJS);return this.checkCommandParams(a)?(this._5937(a,d),!0):!1};y._2021=function(b){this._3193=this._7837(b)};y._5937=function(a,d){var e=this,y=this.getParams();y.expandSupportedPixelFormats=e._245;y.restoreSourcePixelFormat=e._7108;y.imageInfo=a.cto();y.applicationUrl=window.location.href;var f=a.csto(),g;for(g in f)y[g]=f[g];y={type:"POST",data:y};y=new b.WebRequestJS(this.get_ActionName(),function(b,d,y){e._4079(a,b);e._5384&&e._5384(b,d,y)},function(b,d,y){e._4079(a,b);e._1758&&e._1758(b,
d,y)},y);return d.sendRequest(y)};y._7127=function(){return b.WebServiceJS.defaultImageProcessingService};y._4079=function(b,a){a.sourceImage=b};y._3020=function(b){for(var a=[],d=0;d<b.length;d++)e(b[d],a);return this._7837(a)};y._7837=function(a){a.sort(v._1._4730);for(var d=[],e=0;e<a.length;e++)d.push(new b.WebPixelFormatEnumJS(a[e]));return d}},n=function(a,d){n.superclass.constructor.apply(this,arguments);var e=n.prototype;this._6214=this._2413=!0;e.get_ChangeSource=function(){return this._2413};
e.set_ChangeSource=function(a){b.pv.b(a);this._2413=a};e.getParams=function(){return{changeSource:this._2413}};e._4079=function(a,d){n.superclass._4079.apply(this,arguments);if(!0===d.success){var e=d.imageInfo.imageId,f=d.imageInfo.pageIndex,g=a.get_PageIndex(),h=a.get_ImageId();if(e===h&&f===g)d.processedImage=a,a.ci("dc");else{var g=a.get_Source(),nb,k;try{nb=g.get_ImageService(),k=g.get_AnnotationService()}catch(m){}e=new b.WebImageSourceJS(e,nb,k);f=new b.WebImageJS(e,f);d.processedImage=f}}}};
b.extend(n,f);var p=function(a,d){p.superclass.constructor.apply(this,arguments);var e=p.prototype;this._1416=v._1._5146();e.get_Region=function(){return $.extend(!0,{},this._1416)};e.set_Region=function(a,d,e,f){a=void 0==d?{x:parseInt(a.x),y:parseInt(a.y),width:parseInt(a.width),height:parseInt(a.height)}:{x:parseInt(a),y:parseInt(d),width:parseInt(e),height:parseInt(f)};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._1416=a};e.getParams=function(){return{region:this._1416}};
e.checkCommandParams=function(b){b=b.get_Size();return void 0==b?!0:this._1416.x<=b.width&&this._1416.y<=b.height}};b.extend(p,f);var m=function(a,d){m.superclass.constructor.apply(this,arguments);var e=m.prototype;this._1416=v._1._5146();e.get_Region=function(){return $.extend(!0,{},this._1416)};e.set_Region=function(a,d,e,f){a=void 0==d?{x:parseInt(a.x),y:parseInt(a.y),width:parseInt(a.width),height:parseInt(a.height)}:{x:parseInt(a),y:parseInt(d),width:parseInt(e),height:parseInt(f)};b.pv.r(a);
0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._1416=a};e.getParams=function(){var b=m.superclass.getParams.apply(this,arguments);b.region=this._1416;return b};e.checkCommandParams=function(b){b=b.get_Size();return void 0==b?!0:this._1416.x<=b.width&&this._1416.y<=b.height}};b.extend(m,n);var k=function(a,d){k.superclass.constructor.apply(this,arguments);this._5086=new t.WebBinarizationModeEnumJS(0);this._3160=0;this._4928=1;this._182=-115;this._3682=0;this._266=
384;this._5901=15;this._568=new t.WebLuminanceComputationModeEnumJS(1);this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=k.prototype;e.get_ActionName=function(){return"Binarize"};e.get_BinarizationMode=function(){return this._5086};e.set_BinarizationMode=function(a){this._5086=b.pv.e(a,t.WebBinarizationModeEnumJS)};e.get_ConvertToBlackLevel=function(){return this._3160};e.set_ConvertToBlackLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._3160=a};e.get_ConvertToWhiteLevel=function(){return this._4928};
e.set_ConvertToWhiteLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._4928=a};e.get_MaxLevelDifference=function(){return this._182};e.set_MaxLevelDifference=function(a){a=parseInt(a);b.pv.n(a);-765>a&&(a=-765);765<a&&(a=765);this._182=a};e.get_MinLevelDifference=function(){return this._3682};e.set_MinLevelDifference=function(a){a=parseInt(a);b.pv.n(a);-765>a&&(a=-765);765<a&&(a=765);this._3682=a};e.get_Threshold=function(){return this._266};e.set_Threshold=function(a){a=parseInt(a);b.pv.n(a);
0>a&&(a=0);765<a&&(a=765);this._266=a};e.get_WindowRadius=function(){return this._5901};e.set_WindowRadius=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);256<a&&(a=256);this._5901=a};e.get_LuminanceComputationMode=function(){return this._568};e.set_LuminanceComputationMode=function(a){this._568=b.pv.e(a,t.WebLuminanceComputationModeEnumJS)};e.getParams=function(){var b=k.superclass.getParams.apply(this,arguments);b.binarizationMode=this._5086.valueOf();b.convertToBlackLevel=this._3160;b.convertToWhiteLevel=
this._4928;b.maxLevelDifference=this._182;b.minLevelDifference=this._3682;b.threshold=this._266;b.windowRadius=this._5901;b.luminanceComputationMode=this._568.valueOf();return b}};b.extend(k,n);var q=function(a,d){q.superclass.constructor.apply(this,arguments);this._2254=0;this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=q.prototype;e.get_ActionName=function(){return"ChangeBrightness"};e.get_Brightness=function(){return this._2254};e.set_Brightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);
100<a&&(a=100);this._2254=a};e.getParams=function(){var b=q.superclass.getParams.apply(this,arguments);b.brightness=this._2254;return b};e.checkCommandParams=function(b){return q.superclass.checkCommandParams.apply(this,arguments)&&0!==this._2254}};b.extend(q,m);var C=function(a,d){C.superclass.constructor.apply(this,arguments);this._2800=this._2254=0;this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=C.prototype;e.get_ActionName=function(){return"ChangeBrightnessContrast"};e.get_Brightness=function(){return this._2254};
e.set_Brightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._2254=a};e.get_Contrast=function(){return this._2800};e.set_Contrast=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._2800=a};e.getParams=function(){var b=C.superclass.getParams.apply(this,arguments);b.brightness=this._2254;b.contrast=this._2800;return b};e.checkCommandParams=function(b){return C.superclass.checkCommandParams.apply(this,arguments)&&(0!==this._2254||0!==this._2800)}};
b.extend(C,m);var A=function(a,d){A.superclass.constructor.apply(this,arguments);this._2800=0;this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=A.prototype;e.get_ActionName=function(){return"ChangeContrast"};e.get_Contrast=function(){return this._2800};e.set_Contrast=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._2800=a};e.getParams=function(){var b=A.superclass.getParams.apply(this,arguments);b.contrast=this._2800;return b};e.checkCommandParams=function(b){return A.superclass.checkCommandParams.apply(this,
arguments)&&0!==this._2800}};b.extend(A,m);var r=function(a,d){function e(a){b.pv.n(a);0>a&&b.pv.te("Gamma value cannot be less than 0.")}r.superclass.constructor.apply(this,arguments);this._4025=this._5493=this._776=1;this._2021([1,2,4,8,9,16,24,32,33,48,64]);var f=r.prototype;f.get_ActionName=function(){return"ChangeGamma"};f.get_RedGamma=function(){return this._776};f.set_RedGamma=function(b){e(b);this._776=b};f.get_GreenGamma=function(){return this._5493};f.set_GreenGamma=function(b){e(b);this._5493=
b};f.get_BlueGamma=function(){return this._4025};f.set_BlueGamma=function(b){e(b);this._4025=b};f.get_Gamma=function(){return(this._776+this._5493+this._4025)/3};f.set_Gamma=function(b){e(b);this._4025=this._5493=this._776=b};f.getParams=function(){var b=r.superclass.getParams.apply(this,arguments);b.redGamma=this._776;b.greenGamma=this._5493;b.blueGamma=this._4025;return b};f.checkCommandParams=function(b){return r.superclass.checkCommandParams.apply(this,arguments)&&(1!==this._776||1!==this._5493||
1!==this._4025)}};b.extend(r,m);var u=function(a,d){u.superclass.constructor.apply(this,arguments);this._6519=this._205=this._7768=0;this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=u.prototype;e.get_ActionName=function(){return"ChangeHSL"};e.get_Hue=function(){return this._7768};e.set_Hue=function(a){a=parseInt(a);b.pv.n(a);-180>a&&(a=-180);180<a&&(a=180);this._7768=a};e.get_Saturation=function(){return this._205};e.set_Saturation=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);
this._205=a};e.get_Luminance=function(){return this._6519};e.set_Luminance=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._6519=a};e.getParams=function(){var b=u.superclass.getParams.apply(this,arguments);b.hue=this._7768;b.saturation=this._205;b.luminance=this._6519;return b};e.checkCommandParams=function(b){return u.superclass.checkCommandParams.apply(this,arguments)&&(0!==this._7768||0!==this._205||0!==this._6519)}};b.extend(u,m);var F=function(a,d){F.superclass.constructor.apply(this,
arguments);this._4060="rgba(0,0,0,1)";this._7738=new t.WebBlendingModeEnumJS(1);this._2021([1,2,4,8,9,24,32,33]);var e=F.prototype;e.get_ActionName=function(){return"ColorBlend"};e.get_BlendColor=function(){return this._4060};e.set_BlendColor=function(a){b.pv.s(a);this._4060=a};e.get_BlendingMode=function(){return this._7738};e.set_BlendingMode=function(a){this._7738=b.pv.e(a,t.WebBlendingModeEnumJS)};e.getParams=function(){var b=F.superclass.getParams.apply(this,arguments);b.blendColor=this._4060;
b.blendingMode=this._7738.valueOf();return b}};b.extend(F,m);var E=function(d,e){function f(a,d){7!==d.newValue.valueOf()&&b.pv.te("Unsupported color type.")}E.superclass.constructor.apply(this,arguments);var y=new a;y.set_Type(7);y._4843=65535;y._4352=65535;y._963=65535;y._4065=65535;$(y._4099).on("_2149",f);this._4060=y;this._7738=new t.WebBlendingModeEnumJS(1);this._2021([48,64]);y=E.prototype;y.get_ActionName=function(){return"ColorBlend16"};y.get_BlendColor=function(){return this._4060};y.set_BlendColor=
function(d){b.pv.c(d,a);7!==d._3573.valueOf()&&b.pv.te("Unsupported color type.");$(this._4060._4099).off();this._4060=d;$(d._4099).on("_2149",f)};y.get_BlendingMode=function(){return this._7738};y.set_BlendingMode=function(a){this._7738=b.pv.e(a,t.WebBlendingModeEnumJS)};y.getParams=function(){var b=E.superclass.getParams.apply(this,arguments);b.blendColor=this._4060.getParams();b.blendingMode=this._7738.valueOf();return b}};b.extend(E,m);var D=function(a,d){D.superclass.constructor.apply(this,arguments);
this._1066=new t.WebDesaturateMethodEnumJS(2);this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=D.prototype;e.get_ActionName=function(){return"Desaturate"};e.get_DesaturateMethod=function(){return this._1066};e.set_DesaturateMethod=function(a){this._1066=b.pv.e(a,t.WebDesaturateMethodEnumJS)};e.getParams=function(){var b=D.superclass.getParams.apply(this,arguments);b.desaturateMethod=this._1066.valueOf();return b}};b.extend(D,m);var I=function(b,a){I.superclass.constructor.apply(this,arguments);this._2021([8,
33,64]);I.prototype.get_ActionName=function(){return"GetAlphaChannelMask"}};b.extend(I,m);var G=function(b,a){G.superclass.constructor.apply(this,arguments);this._2021([1,2,4,8,9,16,24,32,33,48,64]);G.prototype.get_ActionName=function(){return"Halftone"}};b.extend(G,n);var H=function(b,a){H.superclass.constructor.apply(this,arguments);this._2021([1,2,4,8,9,16,24,32,33,48,64]);H.prototype.get_ActionName=function(){return"Invert"}};b.extend(H,m);var K=function(a,e){K.superclass.constructor.apply(this,
arguments);this._3145=new d;this._1000=new d;this._81=new d;this._2021([1,2,4,8,9,16,24,32,33,48,64]);var f=K.prototype;f.get_ActionName=function(){return"Levels"};f.get_RedChannelSettings=function(){return this._3145};f.set_RedChannelSettings=function(a){b.pv.c(a,d);this._3145=a};f.get_GreenChannelSettings=function(){return this._1000};f.set_GreenChannelSettings=function(a){b.pv.c(a,d);this._1000=a};f.get_BlueChannelSettings=function(){return this._81};f.set_BlueChannelSettings=function(a){b.pv.c(a,
d);this._81=a};f.getParams=function(){var b=K.superclass.getParams.apply(this,arguments);b.redChannelSettings=this._3145.getParams();b.greenChannelSettings=this._1000.getParams();b.blueChannelSettings=this._81.getParams();return b}};b.extend(K,m);var X=function(a,d){X.superclass.constructor.apply(this,arguments);this._1638=6;this._2021([9,16,24,32,33,48,64]);var e=X.prototype;e.get_ActionName=function(){return"Posterize"};e.get_ColorCount=function(){return this._1638};e.set_ColorCount=function(a){a=
parseInt(a);b.pv.n(a);2>a&&(a=2);256<a&&(a=256);this._1638=a};e.getParams=function(){var b=X.superclass.getParams.apply(this,arguments);b.colorCount=this._1638;return b}};b.extend(X,n);var R=function(a,d){function e(a){b.pv.n(a);0>a&&b.pv.te("Gamma value cannot be less than 0.")}R.superclass.constructor.apply(this,arguments);this._2755=256;this._7088=[];this._6105=[];this._5996=[];this._2021([2,1,4,8,9,24,32,33]);var f=R.prototype;f.get_ActionName=function(){return"RemapColors"};f.get_RedMap=function(){return this._7088.slice(0)};
f.set_RedMap=function(b){this._485(b);this._7088=b.slice(0)};f.get_GreenMap=function(){return this._6105.slice(0)};f.set_GreenMap=function(b){this._485(b);this._6105=b.slice(0)};f.get_BlueMap=function(){return this._5996.slice(0)};f.set_BlueMap=function(b){this._485(b);this._5996=b.slice(0)};f.setGamma=function(b){e(b);b=this._1067(b);this._7088=b.slice(0);this._6105=b.slice(0);this._5996=b.slice(0)};f.setRedGamma=function(b){e(b);this._7088=this._1067(b)};f.setGreenGamma=function(b){e(b);this._6105=
this._1067(b)};f.setBlueGamma=function(b){e(b);this._5996=this._1067(b)};f.getParams=function(){var b=R.superclass.getParams.apply(this,arguments);b.redMap=this._7088;b.greenMap=this._6105;b.blueMap=this._5996;return b};f._1067=function(b){for(var a=[],d=this._2755-1,e=0;e<=d;++e){var f=Math.round(d*Math.pow(e/d,1/b));0===b&&e===d&&(f=d);a[e]=f}return a};f._485=function(a){var d=this._2755-1;b.pv.ad(a,function(a){b.pv.n(a);(0>a||a>d)&&b.pv.toe()});a.length!==this._2755&&b.pv.te("Color map must contain "+
this._2755+" elements.")};this.setGamma(1)};b.extend(R,m);var L=function(a,d){function e(a){b.pv.n(a);0>a&&b.pv.te("Gamma value cannot be less than 0.")}R.superclass.constructor.apply(this,arguments);this._2755=65536;this._7088=[];this._6105=[];this._5996=[];this._2021([16,48,64]);var f=L.prototype;L.prototype.get_ActionName=function(){return"RemapColors16"};f.get_RedMap=function(){return this._7088.slice(0)};f.set_RedMap=function(b){this._485(b);this._7088=b.slice(0)};f.get_GreenMap=function(){return this._6105.slice(0)};
f.set_GreenMap=function(b){this._485(b);this._6105=b.slice(0)};f.get_BlueMap=function(){return this._5996.slice(0)};f.set_BlueMap=function(b){this._485(b);this._5996=b.slice(0)};f.setGamma=function(b){e(b);b=this._1067(b);this._7088=b.slice(0);this._6105=b.slice(0);this._5996=b.slice(0)};f.setRedGamma=function(b){e(b);this._7088=this._1067(b)};f.setGreenGamma=function(b){e(b);this._6105=this._1067(b)};f.setBlueGamma=function(b){e(b);this._5996=this._1067(b)};f.getParams=function(){var b=R.superclass.getParams.apply(this,
arguments);b.redMap=this._7088;b.greenMap=this._6105;b.blueMap=this._5996;return b};f._1067=function(b){for(var a=[],d=this._2755-1,e=0;e<=d;++e){var f=Math.round(d*Math.pow(e/d,1/b));0===b&&e===d&&(f=d);a[e]=f}return a};f._485=function(a){var d=this._2755-1;b.pv.ad(a,function(a){b.pv.n(a);(0>a||a>d)&&b.pv.toe()});a.length!==this._2755&&b.pv.te("Color map must contain "+this._2755+" elements.")};this.setGamma(1)};b.extend(L,m);var ba=function(b,a){ba.superclass.constructor.apply(this,arguments);this._6510=
new R;var d=ba.prototype;d.get_ActionName=function(){return"Curves"};d.get_SupportedNativePixelFormats=function(){return this._6510.get_SupportedNativePixelFormats()};d.get_RedMap=function(){return this._6510.get_RedMap()};d.set_RedMap=function(b){this._6510.set_RedMap(b)};d.get_GreenMap=function(){return this._6510.get_GreenMap()};d.set_GreenMap=function(b){this._6510.set_GreenMap(b)};d.get_BlueMap=function(){return this._6510.get_BlueMap()};d.set_BlueMap=function(b){this._6510.set_BlueMap(b)};d.getParams=
function(){this._6510._1416=this._1416;return this._6510.getParams()}};b.extend(ba,m);var S=function(b,a){S.superclass.constructor.apply(this,arguments);this._6510=new L;var d=S.prototype;S.prototype.get_ActionName=function(){return"Curves16"};d.get_SupportedNativePixelFormats=function(){return this._6510.get_SupportedNativePixelFormats()};d.get_RedMap=function(){return this._6510.get_RedMap()};d.set_RedMap=function(b){this._6510.set_RedMap(b)};d.get_GreenMap=function(){return this._6510.get_GreenMap()};
d.set_GreenMap=function(b){this._6510.set_GreenMap(b)};d.get_BlueMap=function(){return this._6510.get_BlueMap()};d.set_BlueMap=function(b){this._6510.set_BlueMap(b)};d.getParams=function(){this._6510._1416=this._1416;return this._6510.getParams()}};b.extend(S,m);var Y=function(a,d){Y.superclass.constructor.apply(this,arguments);this._3685=new t.WebColorSpaceTypeEnumJS(2);this._691=0;this._1655="rgba(255,255,255,1)";this._65="rgba(0,0,0,1)";this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=Y.prototype;
e.get_ActionName=function(){return"ReplaceColor"};e.get_ColorSpace=function(){return this._3685};e.set_ColorSpace=function(a){a=b.pv.e(a,t.WebColorSpaceTypeEnumJS);var d=a.valueOf();2!==d&&5!==d&&b.pv.te("Supported values are sRGB and CIELab.");this._3685=a};e.get_MaximalColorDifference=function(){return this._691};e.set_MaximalColorDifference=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._691=a};e.get_NewColor=function(){return this._65};e.set_NewColor=function(a){b.pv.s(a);this._65=a};e.get_OldColor=
function(){return this._1655};e.set_OldColor=function(a){b.pv.s(a);this._1655=a};e.getParams=function(){var b=Y.superclass.getParams.apply(this,arguments);b.colorSpace=this._3685.valueOf();b.maximalColorDifference=this._691;b.oldColor=this._1655;b.newColor=this._65;return b};e.checkCommandParams=function(b){return Y.superclass.checkCommandParams.apply(this,arguments)&&this._1655!==this._65}};b.extend(Y,m);var V=function(a,d){V.superclass.constructor.apply(this,arguments);this._6248="";this._2021([1,
2,4,8,9,14,15,16,24,32,33,48,64]);var e=V.prototype;e.get_ActionName=function(){return"SetAlphaChannelMask"};e.get_Mask=function(){return this._6248};e.set_Mask=function(a){b.pv.s(a);this._6248=a};e.checkCommandParams=function(a){""===this._6248&&b.pv.te("Mask property cannot be empty.");return V.superclass.checkCommandParams.apply(this,arguments)};e.getParams=function(){var b=V.superclass.getParams.apply(this,arguments);b.mask=this._6248;return b}};b.extend(V,m);var ca=function(a,d){ca.superclass.constructor.apply(this,
arguments);this._3359=255;this._2021([1,2,4,8,33,64]);var e=ca.prototype;e.get_ActionName=function(){return"SetAlphaChannelValue"};e.get_AlphaValue=function(){return this._3359};e.set_AlphaValue=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._3359=a};e.getParams=function(){var b=ca.superclass.getParams.apply(this,arguments);b.alphaValue=this._3359;return b}};b.extend(ca,m);var J=function(a,d){J.superclass.constructor.apply(this,arguments);this._6817=new b.WebPixelFormatEnumJS(0);
this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);var e=J.prototype;e.get_ActionName=function(){return"ChangePixelFormat"};e.get_PixelFormat=function(){return this._6817};e.set_PixelFormat=function(a){this._6817=b.pv.e(a,b.WebPixelFormatEnumJS)};e.getParams=function(){var b=J.superclass.getParams.apply(this,arguments);b.pixelFormat=this._6817.valueOf();return b}};b.extend(J,n);var M=function(a,d){M.superclass.constructor.apply(this,arguments);this._6817=new b.WebPixelFormatEnumJS(24);this._4660=!1;
this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);var e=M.prototype;e.get_ActionName=function(){return"ChangePixelFormatToBgr"};e.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();14!==d&&15!==d&&24!==d&&32!==d&&33!==d&&48!==d&&64!==d&&b.pv.te("Unsupported pixel format.");this._6817=a};e.get_KeepAlphaChannel=function(){return this._4660};e.set_KeepAlphaChannel=function(a){b.pv.b(a);this._4660=a};e.getParams=function(){var b=M.superclass.getParams.apply(this,arguments);
b.keepAlphaChannel=this._4660;return b}};b.extend(M,J);var Q=function(b,a){Q.superclass.constructor.apply(this,arguments);this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);Q.prototype.get_ActionName=function(){return"ChangePixelFormatToBlackWhite"}};b.extend(Q,k);var ha=function(a,d){ha.superclass.constructor.apply(this,arguments);this._6817=new b.WebPixelFormatEnumJS(9);this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);var e=ha.prototype;e.get_ActionName=function(){return"ChangePixelFormatToGrayscale"};
e.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();9!==d&&16!==d&&b.pv.te("Unsupported pixel format.");this._6817=a}};b.extend(ha,J);var Z=function(a,d){Z.superclass.constructor.apply(this,arguments);this._6817=new b.WebPixelFormatEnumJS(8);this._884=new t.WebPaletteTypeJS(0);this._4085=new t.WebColorQuantizationMethodEnumJS(3);this._2985=!1;this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);var e=Z.prototype;e.get_ActionName=function(){return"ChangePixelFormatToPalette"};
e.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();1!==d&&4!==d&&8!==d&&b.pv.te("Unsupported pixel format.");this._6817=a};e.get_Transparency=function(){return this._2985};e.set_Transparency=function(a){b.pv.b(a);this._2985=a};e.get_PaletteType=function(){return this._884};e.set_PaletteType=function(a){this._884=b.pv.e(a,t.WebPaletteTypeJS)};e.get_QuantizationMethod=function(){return this._4085};e.set_QuantizationMethod=function(a){this._4085=b.pv.e(a,t.WebColorQuantizationMethodEnumJS)};
e.getParams=function(){var b=Z.superclass.getParams.apply(this,arguments);b.transparency=this._2985;b.paletteType=this._884.valueOf();b.quantizationMethod=this._4085.valueOf();return b}};b.extend(Z,J);var N=function(a,d){N.superclass.constructor.apply(this,arguments);this._3496="rgba(0,0,0,1)";this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);var e=N.prototype;e.get_ActionName=function(){return"Clear"};e.get_Color=function(){return this._3496};e.set_Color=function(a){b.pv.s(a);this._3496=a};e.getParams=
function(){var b=N.superclass.getParams.apply(this,arguments);b.color=this._3496;return b}};b.extend(N,m);var O=function(b,a){O.superclass.constructor.apply(this,arguments);this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=O.prototype;d.get_ActionName=function(){return"Crop"};d.checkCommandParams=function(b){b=b.get_Size();if(void 0==b)return!0;b.x=0;b.y=0;var a=v._1._814(b,this._1416);return v._1._5177(a)||v._1._7484(a,b)?!1:!0}};b.extend(O,m);var ia=function(a,d){ia.superclass.constructor.apply(this,
arguments);this._7279=new b.WebInterpolationModeEnumJS(7);this._5730=this._4481=96;this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);var e=ia.prototype;e.get_ActionName=function(){return"Resample"};e.get_InterpolationMode=function(){return this._7279};e.set_InterpolationMode=function(a){this._7279=b.pv.e(a,b.WebInterpolationModeEnumJS)};e.get_HorizontalResolution=function(){return this._4481};e.set_HorizontalResolution=function(a){b.pv.n(a);1>a&&(a=1);12800<a&&(a=12800);this._4481=a};e.get_VerticalResolution=
function(){return this._5730};e.set_VerticalResolution=function(a){b.pv.n(a);1>a&&(a=1);12800<a&&(a=12800);this._5730=a};e.getParams=function(){var b=ia.superclass.getParams.apply(this,arguments);b.interpolationMode=this._7279.valueOf();b.horizontalResolution=this._4481;b.verticalResolution=this._5730;return b}};b.extend(ia,n);var da=function(a,d){da.superclass.constructor.apply(this,arguments);this._3370={width:100,height:100};this._7279=new b.WebInterpolationModeEnumJS(7);this._7108=this._245=!0;
this._7212=this._7837([8,9,16,24,32,33,48,64]);this._6370=this._7837([9,16,24,32,33,48,64]);this._39=this._7837([16,33,48,64]);var e=da.prototype;e.get_ActionName=function(){return"Resize"};e.get_SupportedNativePixelFormats=function(){var b;switch(this._7279.valueOf()){case 5:b=this._7212;break;case 3:b=this._6370;break;default:b=this._39}return[].concat(b)};e.get_Size=function(){return $.extend(!0,{},this._3370)};e.set_Size=function(a,d){var e;e=void 0==d?{width:parseInt(a.width),height:parseInt(a.height)}:
{width:parseInt(a),height:parseInt(d)};b.pv.sz(e);0>=e.width&&(e.width=1);65535<e.width&&(e.width=65535);0>=e.height&&(e.height=1);65535<e.height&&(e.height=65535);this._3370=e};e.get_InterpolationMode=function(){return this._7279};e.set_InterpolationMode=function(a){this._7279=b.pv.e(a,b.WebInterpolationModeEnumJS)};e.getParams=function(){var b=da.superclass.getParams.apply(this,arguments);b.interpolationMode=this._7279.valueOf();b.width=this._3370.width;b.height=this._3370.height;return b};e.checkCommandParams=
function(b){b=b.get_Size();return void 0==b?!0:this._3370.width!==b.width||this._3370.height!==b.height}};b.extend(da,m);var l=function(a,d){l.superclass.constructor.apply(this,arguments);this._3048="rgba(0,0,0,1)";this._4605={width:100,height:100};this._6194={x:0,y:0};this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);var e=l.prototype;e.get_ActionName=function(){return"ResizeCanvas"};e.get_CanvasColor=function(){return this._3048};e.set_CanvasColor=function(a){b.pv.s(a);this._3048=a};e.get_CanvasSize=
function(){return $.extend(!0,{},this._4605)};e.set_CanvasSize=function(a,d){var e;e=void 0==d?{width:parseInt(a.width),height:parseInt(a.height)}:{width:parseInt(a),height:parseInt(d)};b.pv.sz(e);0>=e.width&&(e.width=1);65535<e.width&&(e.width=65535);0>=e.height&&(e.height=1);65535<e.height&&(e.height=65535);this._4605=e};e.get_ImagePosition=function(){return $.extend(!0,{},this._6194)};e.set_ImagePosition=function(a,d){var e;e=void 0==d?{x:parseInt(a.x),y:parseInt(a.y)}:{x:parseInt(a),y:parseInt(d)};
b.pv.p(e);this._6194=e};e.getParams=function(){var b=l.superclass.getParams.apply(this,arguments);b.imagePosition=this._6194;b.width=this._4605.width;b.height=this._4605.height;b.canvasColor=this._3048;return b}};b.extend(l,n);var P=function(a,d){P.superclass.constructor.apply(this,arguments);this._917=!1;this._5004="";this._2985=!1;this._1522="rgba(255,255,255,0)";this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);var e=P.prototype;e.get_ActionName=function(){return"Overlay"};e.get_OverlayImage=function(){return this._5004};
e.set_OverlayImage=function(a){b.pv.s(a);this._5004=a};e.get_HasTransparentColor=function(){return this._917};e.set_HasTransparentColor=function(a){b.pv.b(a);this._917=a};e.get_Transparency=function(){return this._2985};e.set_Transparency=function(a){b.pv.b(a);this._2985=a};e.get_TransparentColor=function(){return this._1522};e.set_TransparentColor=function(a){b.pv.s(a);this._1522=a};e.checkCommandParams=function(a){""===this._5004&&b.pv.te("OverlayImage property cannot be empty.");return P.superclass.checkCommandParams.apply(this,
arguments)};e.getParams=function(){var b=N.superclass.getParams.apply(this,arguments);b.hasTransparentColor=this._917;b.overlayImage=this._5004;b.transparency=this._2985;b.transparentColor=this._1522;return b}};b.extend(P,m);var T=function(a,d){T.superclass.constructor.apply(this,arguments);this._5292=this._5004="";this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=T.prototype;e.get_ActionName=function(){return"OverlayMasked"};e.get_OverlayImage=function(){return this._5004};e.set_OverlayImage=function(a){b.pv.s(a);
this._5004=a};e.get_MaskImage=function(){return this._5292};e.set_MaskImage=function(a){b.pv.s(a);this._5292=a};e.checkCommandParams=function(a){""===this._5004&&b.pv.te("OverlayImage property cannot be empty.");""===this._5292&&b.pv.te("MaskImage property cannot be empty.");return T.superclass.checkCommandParams.apply(this,arguments)};e.getParams=function(){var b=T.superclass.getParams.apply(this,arguments);b.overlayImage=this._5004;b.maskImage=this._5292;return b}};b.extend(T,m);var U=function(a,
d){U.superclass.constructor.apply(this,arguments);this._5004="";this._7738=new t.WebBlendingModeEnumJS(1);this._2021([9,16,24,32,33,48,64]);var e=U.prototype;e.get_ActionName=function(){return"OverlayWithBlending"};e.get_OverlayImage=function(){return this._5004};e.set_OverlayImage=function(a){b.pv.s(a);this._5004=a};e.get_BlendingMode=function(){return this._7738};e.set_BlendingMode=function(a){this._7738=b.pv.e(a,t.WebBlendingModeEnumJS)};e.checkCommandParams=function(a){""===this._5004&&b.pv.te("OverlayImage property cannot be empty.");
return U.superclass.checkCommandParams.apply(this,arguments)};e.getParams=function(){var b=U.superclass.getParams.apply(this,arguments);b.overlayImage=this._5004;b.blendingMode=this._7738.valueOf();return b}};b.extend(U,m);var qa=function(d,e){qa.superclass.constructor.apply(this,arguments);this._3496=new a;this._4517=[];this._2021([2,9,24,32,33]);var f=qa.prototype;f.get_ActionName=function(){return"FillRectangle"};f.get_Color=function(){return this._3496};f.set_Color=function(d){b.pv.c(d,a);this._3496=
d};f.get_Rectangles=function(){for(var b=[],a=0;a<this._4517.length;a++)b[a]={x:this._4517[a].x,y:this._4517[a].y,width:this._4517[a].width,height:this._4517[a].height};return b};f.set_Rectangles=function(a){b.pv.ad(a,b.pv.r);this._4517=[];for(var d=0;d<a.length;d++)this._4517[d]={x:a[d].x,y:a[d].y,width:a[d].width,height:a[d].height}};f.getParams=function(){var b=qa.superclass.getParams.apply(this,arguments);b.rectangles=this._4517;b.color=this._3496.getParams();return b};f.checkCommandParams=function(b){return 0!==
this._4517.length}};b.extend(qa,n);var ea=function(a,d){ea.superclass.constructor.apply(this,arguments);this._2085="";this._7829=new t.WebImageCompareOperatorEnumJS(0);this._1981;this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);var e=ea.prototype;e.get_ActionName=function(){return"ImageComparison"};e.get_Image=function(){return this._2085};e.set_Image=function(a){b.pv.s(a);this._2085=a};e.get_CompareChannelIndexes=function(){var b=this._1981;return void 0!=b?[].concat(b):b};e.set_CompareChannelIndexes=
function(a){void 0!=a&&b.pv.ad(a,b.pv.n);this._1981=a};e.get_CompareOperator=function(){return this._7829};e.set_CompareOperator=function(a){this._7829=b.pv.e(a,t.WebImageCompareOperatorEnumJS)};e.getParams=function(){var b=ea.superclass.getParams.apply(this,arguments);b.image=this._2085;b.compareOperator=this._7829.valueOf();b.compareChannelIndexes=this._1981;return b};e.checkCommandParams=function(a){""===this._2085&&b.pv.te("Image property cannot be empty.");return ea.superclass.checkCommandParams.apply(this,
arguments)}};b.extend(ea,n);var s=function(b,a){s.superclass.constructor.apply(this,arguments);this._2021([1,2,4,8,9,16,24,32,33,48,64]);s.prototype.get_ActionName=function(){return"GetBackgroundColor"}};b.extend(s,f);var fa=function(b,a){fa.superclass.constructor.apply(this,arguments);this._2021([1,2,4,8,9,16,24,32,33,48,64]);fa.prototype.get_ActionName=function(){return"GetBorderColor"}};b.extend(fa,f);var w=function(a,d){w.superclass.constructor.apply(this,arguments);this._6184=this._3856=0;this._2021([1,
2,4,8,9,16,24,32,33,48,64]);var e=w.prototype;e.get_ActionName=function(){return"GetColorCount"};e.get_MaxColorCount=function(){return this._3856};e.set_MaxColorCount=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._3856=a};e.get_MaxInaccuracy=function(){return this._6184};e.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._6184=a};e.getParams=function(){var b=w.superclass.getParams.apply(this,arguments);b.maxColorCount=this._3856;b.maxInaccuracy=this._6184;return b}};b.extend(w,
p);var z=function(a,d){z.superclass.constructor.apply(this,arguments);this._1879=new t.WebHistogramTypeEnumJS(15);this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=z.prototype;e.get_ActionName=function(){return"GetHistogram"};e.get_HistogramType=function(){return this._1879};e.set_HistogramType=function(a){this._1879=b.pv.e(a,t.WebHistogramTypeEnumJS)};e.getParams=function(){var b=z.superclass.getParams.apply(this,arguments);b.histogramType=this._1879.valueOf();return b}};b.extend(z,f);var B=function(b,
a){B.superclass.constructor.apply(this,arguments);this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);B.prototype.get_ActionName=function(){return"GetThreshold"}};b.extend(B,f);var ga=function(a,d){ga.superclass.constructor.apply(this,arguments);this._84=.01;this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=ga.prototype;e.get_ActionName=function(){return"IsImageBlank"};e.get_MaxNoiseLevel=function(){return this._84};e.set_MaxNoiseLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._84=a};e.getParams=
function(){return{maxNoiseLevel:this._84}}};b.extend(ga,f);var aa=function(d,e){aa.superclass.constructor.apply(this,arguments);this._5700=!0;this._3496=new a;this._2021([1,2,4,8,9,16,24,32,33,48,64]);var f=aa.prototype;f.get_ActionName=function(){return"HasCertainColor"};f.get_ConsiderAlphaChannel=function(){return this._5700};f.set_ConsiderAlphaChannel=function(a){b.pv.b(a);this._5700=a};f.get_Color=function(){return this._3496};f.set_Color=function(d){b.pv.c(d,a);this._3496=d};f.getParams=function(){var b=
aa.superclass.getParams.apply(this,arguments);b.considerAlphaChannel=this._5700;b.color=this._3496.getParams();return b}};b.extend(aa,f);var ka=function(b,a){ka.superclass.constructor.apply(this,arguments);this._2021([1,2,4,8,9,24,32,33]);ka.prototype.get_ActionName=function(){return"GetUniqueColor"}};b.extend(ka,p);var la=function(a,d){la.superclass.constructor.apply(this,arguments);this._6184=0;this._2021([8,9,24]);var e=la.prototype;e.get_ActionName=function(){return"IsImageBlackWhite"};e.get_MaxInaccuracy=
function(){return this._6184};e.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._6184=a};e.getParams=function(){return{maxInaccuracy:this._6184}}};b.extend(la,f);var Ba=function(a,d){Ba.superclass.constructor.apply(this,arguments);this._3819=this._6184=0;this._2021([1,8,24,33]);var e=Ba.prototype;e.get_ActionName=function(){return"IsImageGrayscale"};e.get_MaxPercentOfColorPixels=function(){return this._3819};e.set_MaxPercentOfColorPixels=function(a){b.pv.n(a);0>a&&(a=0);1<a&&
(a=1);this._3819=a};e.get_MaxInaccuracy=function(){return this._6184};e.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._6184=a};e.getParams=function(){var b=Ba.superclass.getParams.apply(this,arguments);b.maxInaccuracy=this._6184;b.maxPercentOfColorPixels=this._3819;return b}};b.extend(Ba,p);var Fa=function(a,d){var e=a;a=function(a){var d;try{d=b.pv.e(a.pixelFormat,b.WebPixelFormatEnumJS)}catch(f){d=new b.WebPixelFormatEnumJS(0)}a.pixelFormat=d;e&&e(a)};Fa.superclass.constructor.apply(this,
arguments);this._7308=this._3524=this._160=this._6854=this._7323=!0;this._6184=0;this._2021([8,9,24]);var f=Fa.prototype;f.get_ActionName=function(){return"GetImageColorDepth"};f.get_DetectBlackWhite=function(){return this._7323};f.set_DetectBlackWhite=function(a){b.pv.b(a);this._7323=a};f.get_DetectGrayscale=function(){return this._6854};f.set_DetectGrayscale=function(a){b.pv.b(a);this._6854=a};f.get_DetectIndexed1=function(){return this._160};f.set_DetectIndexed1=function(a){b.pv.b(a);this._160=
a};f.get_DetectIndexed4=function(){return this._3524};f.set_DetectIndexed4=function(a){b.pv.b(a);this._3524=a};f.get_DetectIndexed8=function(){return this._7308};f.set_DetectIndexed8=function(a){b.pv.b(a);this._7308=a};f.get_MaxInaccuracy=function(){return this._6184};f.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._6184=a};f.getParams=function(){var b=Fa.superclass.getParams.apply(this,arguments);b.detectBlackWhite=this._7323;b.detectGrayscale=this._6854;b.detectIndexed1=
this._160;b.detectIndexed4=this._3524;b.detectIndexed8=this._7308;b.maxInaccuracy=this._6184;return b}};b.extend(Fa,f);var Ca=function(a,d){function e(b){b._637.get_ActionName=void 0;b._637.get_ChangeSource=void 0;b._637.set_ChangeSource=void 0}Ca.superclass.constructor.apply(this,arguments);this._5389=5;this._6936=new t.WebBorderRemovalColorTypeEnumJS(0);this._7549=0;this._6470=new t.WebImageSideEnumJS(15);this._637=new k;e(this);this._2021([1,2,4,8,9,16,24,32,33,48,64]);var f=Ca.prototype;f.get_ActionName=
function(){return"GetBorderRect"};f.get_BorderSize=function(){return this._5389};f.set_BorderSize=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);1E3<a&&(a=1E3);this._5389=a};f.get_BorderColorType=function(){return this._6936};f.set_BorderColorType=function(a){this._6936=b.pv.e(a,t.WebBorderRemovalColorTypeEnumJS)};f.get_MaxBorderNoise=function(){return this._7549};f.set_MaxBorderNoise=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._7549=a};f.get_Side=function(){return this._6470};f.set_Side=
function(a){this._6470=b.pv.e(a,t.WebImageSideEnumJS)};f.get_Binarization=function(){return this._637};f.set_Binarization=function(a){b.pv.c(a,k);this._637=a;e(this)};f.getParams=function(){var b=Ca.superclass.getParams.apply(this,arguments);b.borderSize=this._5389;b.borderColorType=this._6936.valueOf();b.maxBorderNoise=this._7549;b.side=this._6470.valueOf();b.binarization=this._637.getParams();delete b.binarization.changeSource;return b}};b.extend(Ca,f);var Da=function(a,d){Da.superclass.constructor.apply(this,
arguments);this._1395=new t.WebRotateFlipTypeEnumJS(1);this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);var e=Da.prototype;e.get_ActionName=function(){return"Flip"};e.get_RotateFlipType=function(){return this._1395};e.set_RotateFlipType=function(a){this._1395=b.pv.e(a,t.WebRotateFlipTypeEnumJS)};e.getParams=function(){var b=Da.superclass.getParams.apply(this,arguments);b.rotateFlipType=this._1395.valueOf();return b};e.checkCommandParams=function(b){return 0!==this._1395.valueOf()}};b.extend(Da,n);
var Ea=function(a,d){Ea.superclass.constructor.apply(this,arguments);this._2420=0;this._6936=new t.WebBorderColorTypeEnumJS(0);this._1243="rgba(0,0,0,1)";this._2136=this._7108=this._245=!0;this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=Ea.prototype;e.get_ActionName=function(){return"Rotate"};e.get_Angle=function(){return this._2420};e.set_Angle=function(a){b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._2420=a};e.get_BorderColorType=function(){return this._6936};e.set_BorderColorType=function(a){this._6936=
b.pv.e(a,t.WebBorderColorTypeEnumJS)};e.get_BorderColor=function(){return this._1243};e.set_BorderColor=function(a){b.pv.s(a);this._1243=a};e.get_IsAntialiasingEnabled=function(){return this._2136};e.set_IsAntialiasingEnabled=function(a){b.pv.b(a);this._2136=a};e.getParams=function(){var b=Ea.superclass.getParams.apply(this,arguments);b.rotationAngle=this._2420;b.borderColorType=this._6936.valueOf();b.borderColor=this._1243;b.isAntialiasingEnabled=this._2136;return b};e.checkCommandParams=function(b){return 0!==
this._2420}};b.extend(Ea,n);var ua=function(a,d){ua.superclass.constructor.apply(this,arguments);this._7292=0;this._4291="rgba(0,0,0,0)";this._2000=new t.WebImageProcessingDirectionEnumJS(1);this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=ua.prototype;e.get_ActionName=function(){return"Skew"};e.get_Offset=function(){return this._7292};e.set_Offset=function(a){a=parseInt(a);b.pv.n(a);this._7292=a};e.get_BackColor=function(){return this._4291};e.set_BackColor=function(a){b.pv.s(a);this._4291=a};e.get_Direction=
function(){return this._2000};e.set_Direction=function(a){a=b.pv.e(a,t.WebImageProcessingDirectionEnumJS);2<a.valueOf()&&b.pv.te("Direction cannot be horizontal and vertical.");this._2000=a};e.getParams=function(){var b=ua.superclass.getParams.apply(this,arguments);b.offset=this._7292;b.backColor=this._4291;b.direction=this._2000.valueOf();return b};e.checkCommandParams=function(b){return ua.superclass.checkCommandParams.apply(this,arguments)&&0!==this._7292}};b.extend(ua,m);var va=function(a,d){va.superclass.constructor.apply(this,
arguments);this._3079="rgba(0,0,0,0)";this._1515=[];this._2021([8,9,16,24,32,33,48,64]);var e=va.prototype;e.get_ActionName=function(){return"QuadrilateralWarp"};e.get_BackgroundColor=function(){return this._3079};e.set_BackgroundColor=function(a){b.pv.s(a);this._3079=a};e.get_DestinationPoints=function(){for(var b=[],a=0;a<this._1515.length;a++)b[a]={x:this._1515[a].x,y:this._1515[a].y};return b};e.set_DestinationPoints=function(a){b.pv.ad(a,b.pv.p);3>a.length&&4<a.length&&b.pv.te("Array length is not equal 3 or 4.");
a=[].concat(a);3==a.length&&a.push({x:a[2].x+(a[1].x-a[0].x),y:a[1].y+(a[2].y-a[0].y)});if(v._1._3521(a[0],a[1],a[3],a[2])){this._1515=[];for(var d=0;d<a.length;d++)this._1515[d]={x:a[d].x,y:a[d].y}}else b.pv.te("The destination points are not convex.")};e.getParams=function(){var b=va.superclass.getParams.apply(this,arguments);b.backgroundColor=this._3079;b.destinationPoints=this._1515;return b};e.checkCommandParams=function(a){4!==this._1515.length&&b.pv.te("DestinationPoints property has wrong value.");
return va.superclass.checkCommandParams.apply(this,arguments)}};b.extend(va,m);var wa=function(a,d){wa.superclass.constructor.apply(this,arguments);this._4291="rgba(0,0,0,0)";this._7279=new b.WebInterpolationModeEnumJS(7);this._7469=v._1._5146();this._5786=new v.WebMatrixJS;this._1961=!0;this._2021([1,2,4,8,9,14,15,16,24,32,33,48,64]);var e=wa.prototype;e.get_ActionName=function(){return"MatrixTransform"};e.get_BackColor=function(){return this._4291};e.set_BackColor=function(a){b.pv.s(a);this._4291=
a};e.get_CropRect=function(){return $.extend(!0,{},this._7469)};e.set_CropRect=function(a,d,e,f){a=void 0==d?{x:a.x,y:a.y,width:a.width,height:a.height}:{x:a,y:d,width:e,height:f};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._7469=a};e.get_InterpolationMode=function(){return this._7279};e.set_InterpolationMode=function(a){this._7279=b.pv.e(a,b.WebInterpolationModeEnumJS)};e.get_Matrix=function(){return this._5786};e.set_Matrix=function(a){b.pv.c(a,v.WebMatrixJS);
this._5786=a};e.get_PreservePixelFormat=function(){return this._1961};e.set_PreservePixelFormat=function(a){b.pv.b(a);this._1961=a};e.getParams=function(){var b=wa.superclass.getParams.apply(this,arguments);b.backColor=this._4291;b.interpolationMode=this._7279.valueOf();b.cropRect=this._7469;b.matrix=this._5786;b.preservePixelFormat=this._1961;return b};e.checkCommandParams=function(b){return wa.superclass.checkCommandParams.apply(this,arguments)&&!this._5786.compareMatrix(new v.WebMatrixJS)}};b.extend(wa,
n);var Ga=function(a,d){Ga.superclass.constructor.apply(this,arguments);this._4144=new da;this._3668=this._3648=1;this._7108=this._245=!0;var e=Ga.prototype;e.get_ActionName=function(){return"ImageScaling"};e.get_SupportedNativePixelFormats=function(){return this._4144.get_SupportedNativePixelFormats()};e.get_ScaleX=function(){return this._3648};e.set_ScaleX=function(a){b.pv.n(a);0>=a&&b.pv.toe();this._3648=a};e.get_ScaleY=function(){return this._3668};e.set_ScaleY=function(a){b.pv.n(a);0>=a&&b.pv.toe();
this._3668=a};e.get_Scale=function(){return this._3648!==this._3668?-1:this._3648};e.set_Scale=function(a){b.pv.n(a);0>=a&&b.pv.toe();this._3668=this._3648=a};e.get_InterpolationMode=function(){return this._4144.get_InterpolationMode()};e.set_InterpolationMode=function(b){this._4144.set_InterpolationMode(b)};e.getParams=function(){var b=Ga.superclass.getParams.apply(this,arguments);b.scaleX=this._3648;b.scaleY=this._3668;b.interpolationMode=this._4144._7279.valueOf();return b}};b.extend(Ga,m);var W=
function(a,d){W.superclass.constructor.apply(this,arguments);this._7624=new t.WebColorChannelEnumJS(7);var e=W.prototype;e.get_ColorChannel=function(){return this._7624};e.set_ColorChannel=function(a){this._7624=b.pv.e(a,t.WebColorChannelEnumJS)};e.getParams=function(){var b=W.superclass.getParams.apply(this,arguments);b.colorChannel=this._7624.valueOf();return b}};b.extend(W,m);var ja=function(a,d){ja.superclass.constructor.apply(this,arguments);this._7624=new t.WebColorChannelEnumJS(7);this._6034=
3;this._2000=new t.WebImageProcessingDirectionEnumJS(3);this._2021([9,24,33]);var e=ja.prototype;e.get_ColorChannel=function(){return this._7624};e.set_ColorChannel=function(a){this._7624=b.pv.e(a,t.WebColorChannelEnumJS)};e.get_WindowSize=function(){return this._6034};e.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);0===a%2&&b.pv.te("Value must be odd.");this._6034=a};e.get_Direction=function(){return this._2000};e.set_Direction=function(a){this._2000=b.pv.e(a,t.WebImageProcessingDirectionEnumJS)};
e.getParams=function(){var b=ja.superclass.getParams.apply(this,arguments);b.colorChannel=this._7624.valueOf();b.windowSize=this._6034;b.direction=this._2000.valueOf();return b}};b.extend(ja,W);var ma=function(b,a){ma.superclass.constructor.apply(this,arguments);ma.prototype.get_ActionName=function(){return"Minimum"}};b.extend(ma,ja);var na=function(b,a){na.superclass.constructor.apply(this,arguments);na.prototype.get_ActionName=function(){return"Maximum"}};b.extend(na,ja);var oa=function(b,a){oa.superclass.constructor.apply(this,
arguments);oa.prototype.get_ActionName=function(){return"MidPoint"}};b.extend(oa,ja);var pa=function(b,a){pa.superclass.constructor.apply(this,arguments);pa.prototype.get_ActionName=function(){return"Mean"}};b.extend(pa,ja);var $a=function(b,a){$a.superclass.constructor.apply(this,arguments);$a.prototype.get_ActionName=function(){return"Median"}};b.extend($a,ja);var xa=function(a,d){xa.superclass.constructor.apply(this,arguments);this._6034=3;this._2000=new t.WebImageProcessingDirectionEnumJS(1);
this._2021([2,9,24,33]);var e=xa.prototype;e.get_ActionName=function(){return"Dilate"};e.get_WindowSize=function(){return this._6034};e.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);0===a%2&&b.pv.te("Value must be odd.");this._6034=a};e.get_Direction=function(){return this._2000};e.set_Direction=function(a){this._2000=b.pv.e(a,t.WebImageProcessingDirectionEnumJS)};e.getParams=function(){var b=xa.superclass.getParams.apply(this,arguments);b.windowSize=this._6034;b.direction=this._2000.valueOf();
return b}};b.extend(xa,m);var ab=function(b,a){ab.superclass.constructor.apply(this,arguments);ab.prototype.get_ActionName=function(){return"Erode"}};b.extend(ab,xa);var Ha=function(a,d){Ha.superclass.constructor.apply(this,arguments);this._6034=5;this._2021([9,16,24,32,33,48,64]);var e=Ha.prototype;e.get_ActionName=function(){return"Blur"};e.get_WindowSize=function(){return this._6034};e.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);255<a&&(a=255);0===a%2&&b.pv.te("Value must be odd.");
this._6034=a};e.getParams=function(){var b=Ha.superclass.getParams.apply(this,arguments);b.windowSize=this._6034;return b}};b.extend(Ha,W);var Ia=function(a,d){Ia.superclass.constructor.apply(this,arguments);this._6034=5;this._1480=!1;this._5614=.833;this._2021([9,16,24,32,33,48,64]);var e=Ia.prototype;e.get_ActionName=function(){return"GaussianBlur"};e.get_WindowSize=function(){return this._6034};e.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);3>a&&(a=3);513<a&&(a=513);0===a%2&&b.pv.te("Value must be odd.");
this._6034=a};e.get_AutoCalculateSigma=function(){return this._1480};e.set_AutoCalculateSigma=function(a){b.pv.b(a);this._1480=a};e.get_Sigma=function(){return this._5614};e.set_Sigma=function(a){b.pv.n(a);.6>a&&(a=.6);2.4<a&&(a=2.4);this._5614=a};e.getParams=function(){var b=Ia.superclass.getParams.apply(this,arguments);b.windowSize=this._6034;b.autoCalculateSigma=this._1480;b.sigma=this._5614;return b}};b.extend(Ia,W);var bb=function(b,a){bb.superclass.constructor.apply(this,arguments);this._2021([9,
16,24,32,33,48,64]);bb.prototype.get_ActionName=function(){return"EdgeDetection"}};b.extend(bb,W);var Ja=function(a,d){Ja.superclass.constructor.apply(this,arguments);this._2788=2;this._1767=45;this._2021([9,16,24,32,33,48,64]);var e=Ja.prototype;e.get_ActionName=function(){return"Emboss"};e.get_Depth=function(){return this._2788};e.set_Depth=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._2788=a};e.get_LightDirection=function(){return this._1767};e.set_LightDirection=function(a){a=
parseInt(a);b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._1767=a};e.getParams=function(){var a=Ja.superclass.getParams.apply(this,arguments);a.depth=this._2788;a.lightDirection=this._1767;return a}};b.extend(Ja,W);var Ka=function(a,d){Ka.superclass.constructor.apply(this,arguments);this._7052=1;this._2021([9,16,24,32,33,48,64]);var e=Ka.prototype;e.get_ActionName=function(){return"Sharpen"};e.get_Amount=function(){return this._7052};e.set_Amount=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=
10);this._7052=a};e.getParams=function(){var a=Ka.superclass.getParams.apply(this,arguments);a.amount=this._7052;return a}};b.extend(Ka,W);var La=function(a,d){La.superclass.constructor.apply(this,arguments);this._3072=!1;this._3434=!0;this._3218=0;this._4789=!1;this._5563=100;this._5588=new t.WebNoiseTypeEnumJS(3);this._4456=this._3098=100;this._2021([1,2,4,8,9,16,24,32,33,48,64]);var e=La.prototype;e.get_ActionName=function(){return"AddNoise"};e.get_AutoNoiseGeneration=function(){return this._3072};
e.set_AutoNoiseGeneration=function(a){b.pv.b(a);this._3072=a};e.get_AutoSeedPercentageGeneration=function(){return this._3434};e.set_AutoSeedPercentageGeneration=function(a){b.pv.b(a);this._3434=a};e.get_Mean=function(){return this._3218};e.set_Mean=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._3218=a};e.get_MonochromaticNoise=function(){return this._4789};e.set_MonochromaticNoise=function(a){b.pv.b(a);this._4789=a};e.get_NoisePercentage=function(){return this._5563};e.set_NoisePercentage=
function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._5563=a};e.get_NoiseType=function(){return this._5588};e.set_NoiseType=function(a){this._5588=b.pv.e(a,t.WebNoiseTypeEnumJS)};e.get_SeedPercentage=function(){return this._3098};e.set_SeedPercentage=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._3098=a};e.get_Variance=function(){return this._4456};e.set_Variance=function(a){b.pv.n(a);-1E6>a&&(a=-1E6);1E6<a&&(a=1E6);this._4456=a};e.getParams=function(){var a=La.superclass.getParams.apply(this,
arguments);a.autoNoiseGeneration=this._3072;a.autoSeedPercentageGeneration=this._3434;a.mean=this._3218;a.monochromaticNoise=this._4789;a.noisePercentage=this._5563;a.noiseType=this._5588.valueOf();a.seedPercentage=this._3098;a.variance=this._4456;return a}};b.extend(La,W);var Ma=function(a,d){Ma.superclass.constructor.apply(this,arguments);this._2572=3;this._1683=80;this._30=20;this._2021([9]);var e=Ma.prototype;e.get_ActionName=function(){return"CannyEdgeDetector"};e.get_BlurRadius=function(){return this._2572};
e.set_BlurRadius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);256<a&&(a=256);this._2572=a};e.get_LowThreshold=function(){return this._30};e.set_LowThreshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._30=a};e.get_HighThreshold=function(){return this._1683};e.set_HighThreshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._1683=a};e.getParams=function(){var a=Ma.superclass.getParams.apply(this,arguments);a.blurRadius=this._2572;a.highThreshold=this._1683;
a.lowThreshold=this._30;return a}};b.extend(Ma,m);var ra=function(a,d){ra.superclass.constructor.apply(this,arguments);this._3912=this._2904=.05;this._2021([24,32,33,48,64]);var e=ra.prototype;e.get_ActionName=function(){return"AutoColors"};e.get_LowLimit=function(){return this._2904};e.set_LowLimit=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._2904=a};e.get_HighLimit=function(){return this._3912};e.set_HighLimit=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._3912=a};e.getParams=function(){var a=
ra.superclass.getParams.apply(this,arguments);a.lowLimit=this._2904;a.highLimit=this._3912;return a}};b.extend(ra,n);var cb=function(a,b){cb.superclass.constructor.apply(this,arguments);cb.prototype.get_ActionName=function(){return"AutoContrast"}};b.extend(cb,ra);var db=function(a,b){db.superclass.constructor.apply(this,arguments);db.prototype.get_ActionName=function(){return"AutoLevels"}};b.extend(db,ra);var ya=function(a,d){ya.superclass.constructor.apply(this,arguments);this._2899=-25;this._5816=
this._4285=25;this._4320=-25;this._7526=2;this._2326=15;this._2021([9,16,24,32,33,48,64]);var e=ya.prototype;e.get_ActionName=function(){return"BevelEdge"};e.get_BottomBrightness=function(){return this._2899};e.set_BottomBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._2899=a};e.get_TopBrightness=function(){return this._4285};e.set_TopBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._4285=a};e.get_LeftBrightness=function(){return this._5816};
e.set_LeftBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._5816=a};e.get_RightBrightness=function(){return this._4320};e.set_RightBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._4320=a};e.get_Smoothness=function(){return this._7526};e.set_Smoothness=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);256<a&&(a=256);this._7526=a};e.get_EdgeSize=function(){return this._2326};e.set_EdgeSize=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=
0);this._2326=a};e.getParams=function(){var a=ya.superclass.getParams.apply(this,arguments);a.bottomBrightness=this._2899;a.topBrightness=this._4285;a.leftBrightness=this._5816;a.rightBrightness=this._4320;a.smoothness=this._7526;a.edgeSize=this._2326;return a};e.checkCommandParams=function(a){return ya.superclass.checkCommandParams.apply(this,arguments)&&!(0===this._2899&&0===this._4285&&0===this._5816&&0===this._4320||0===this._2326)}};b.extend(ya,m);var Na=function(a,d){Na.superclass.constructor.apply(this,
arguments);this._4912="rgba(255,255,255,0)";this._2572=4;this._3496="rgba(0,0,0,1)";this._5651=15;this._1767=45;this._2021([24,32,33,48,64]);var e=Na.prototype;e.get_ActionName=function(){return"DropShadow"};e.get_BackColorOfShadow=function(){return this._4912};e.set_BackColorOfShadow=function(a){b.pv.s(a);this._4912=a};e.get_BlurRadius=function(){return this._2572};e.set_BlurRadius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);256<a&&(a=256);this._2572=a};e.get_Color=function(){return this._3496};
e.set_Color=function(a){b.pv.s(a);this._3496=a};e.get_Distance=function(){return this._5651};e.set_Distance=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._5651=a};e.get_LightDirection=function(){return this._1767};e.set_LightDirection=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._1767=a};e.getParams=function(){var a=Na.superclass.getParams.apply(this,arguments);a.backColorOfShadow=this._4912;a.blurRadius=this._2572;a.color=this._3496;a.distance=this._5651;a.lightDirection=
this._1767;return a}};b.extend(Na,m);var Oa=function(a,d){Oa.superclass.constructor.apply(this,arguments);this._2788=4;this._4539=45;this._2021([9,16,24,32,33,48,64]);var e=Oa.prototype;e.get_ActionName=function(){return"MotionBlur"};e.get_Depth=function(){return this._2788};e.set_Depth=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._2788=a};e.get_MotionDirection=function(){return this._4539};e.set_MotionDirection=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);180<a&&(a=180);this._4539=
a};e.getParams=function(){var a=Oa.superclass.getParams.apply(this,arguments);a.depth=this._2788;a.motionDirection=this._4539;return a}};b.extend(Oa,W);var Pa=function(a,d){Pa.superclass.constructor.apply(this,arguments);this._4310=5;this._2021([24,32,33,48,64]);var e=Pa.prototype;e.get_ActionName=function(){return"Mosaic"};e.get_TileSize=function(){return this._4310};e.set_TileSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);this._4310=a};e.getParams=function(){var a=Pa.superclass.getParams.apply(this,
arguments);a.tileSize=this._4310;return a}};b.extend(Pa,W);var Qa=function(a,d){Qa.superclass.constructor.apply(this,arguments);this._5248=50;this._6171=3;this._2021([16,24,32,33,48,64]);var e=Qa.prototype;e.get_ActionName=function(){return"OilPainting"};e.get_Radius=function(){return this._6171};e.set_Radius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);64<a&&(a=64);this._6171=a};e.get_IntensityLevel=function(){return this._5248};e.set_IntensityLevel=function(a){a=parseInt(a);b.pv.n(a);3>a&&(a=
3);255<a&&(a=255);this._5248=a};e.getParams=function(){var a=Qa.superclass.getParams.apply(this,arguments);a.radius=this._6171;a.intensityLevel=this._5248;return a}};b.extend(Qa,m);var Ra=function(a,d){Ra.superclass.constructor.apply(this,arguments);this._7687=5;this._2021([24,32,33,48,64]);var e=Ra.prototype;e.get_ActionName=function(){return"Pixelate"};e.get_CellSize=function(){return this._7687};e.set_CellSize=function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);100<a&&(a=100);this._7687=a};e.getParams=
function(){var a=Ra.superclass.getParams.apply(this,arguments);a.cellSize=this._7687;return a}};b.extend(Ra,m);var Sa=function(a,d){Sa.superclass.constructor.apply(this,arguments);this._205=90;this._4145=70;this._2021([24,32,33,48,64]);var e=Sa.prototype;e.get_ActionName=function(){return"RedEyeRemoval"};e.get_Saturation=function(){return this._205};e.set_Saturation=function(a){a=parseInt(a);b.pv.n(a);50>a&&(a=50);100<a&&(a=100);this._205=a};e.get_Tolerance=function(){return this._4145};e.set_Tolerance=
function(a){a=parseInt(a);b.pv.n(a);35>a&&(a=35);100<a&&(a=100);this._4145=a};e.getParams=function(){var a=Sa.superclass.getParams.apply(this,arguments);a.saturation=this._205;a.tolerance=this._4145;return a}};b.extend(Sa,m);var eb=function(a,b){eb.superclass.constructor.apply(this,arguments);this._2021([24,32,33,48,64]);eb.prototype.get_ActionName=function(){return"Sepia"}};b.extend(eb,m);var fb=function(a,b){fb.superclass.constructor.apply(this,arguments);this._2021([24,32,33,48,64]);fb.prototype.get_ActionName=
function(){return"Solarize"}};b.extend(fb,m);var Ta=function(a,d){Ta.superclass.constructor.apply(this,arguments);this._7271=8;this._2420=30;this._4310=40;this._2021([24,32,33,48,64]);var e=Ta.prototype;e.get_ActionName=function(){return"TileReflection"};e.get_Curvature=function(){return this._7271};e.set_Curvature=function(a){a=parseInt(a);b.pv.n(a);-20>a&&(a=-20);20<a&&(a=20);this._7271=a};e.get_RotationAngle=function(){return this._2420};e.set_RotationAngle=function(a){a=parseInt(a);b.pv.n(a);
-45>a&&(a=-45);45<a&&(a=45);this._2420=a};e.get_TileSize=function(){return this._4310};e.set_TileSize=function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);200<a&&(a=200);this._4310=a};e.getParams=function(){var a=Ta.superclass.getParams.apply(this,arguments);a.curvature=this._7271;a.rotationAngle=this._2420;a.tileSize=this._4310;return a}};b.extend(Ta,m);var Ua=function(a,d){Ua.superclass.constructor.apply(this,arguments);this._6851=1;this._6171=12;this._6004=new t.WebFrequencyFilterTypeEnumJS(2);this._7738=
new t.WebBlendingModeEnumJS(9);this._5329=!0;this._2021([24,32,33,9]);var e=Ua.prototype;e.get_ActionName=function(){return"ImageSharpening"};e.get_OverlayAlpha=function(){return this._6851};e.set_OverlayAlpha=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._6851=a};e.get_Radius=function(){return this._6171};e.set_Radius=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._6171=a};e.get_Filter=function(){return this._6004};e.set_Filter=function(a){this._6004=b.pv.e(a,t.WebFrequencyFilterTypeEnumJS)};
e.get_BlendingMode=function(){return this._7738};e.set_BlendingMode=function(a){this._7738=b.pv.e(a,t.WebBlendingModeEnumJS)};e.get_GrayscaleFiltration=function(){return this._5329};e.set_GrayscaleFiltration=function(a){b.pv.b(a);this._5329=a};e.getParams=function(){var a=Ua.superclass.getParams.apply(this,arguments);a.overlayAlpha=this._6851;a.radius=this._6171;a.filter=this._6004.valueOf();a.blendingMode=this._7738.valueOf();a.grayscaleFiltration=this._5329;return a}};b.extend(Ua,m);var Va=function(a,
d){Va.superclass.constructor.apply(this,arguments);this._6851=1;this._6171=7;this._6004=new t.WebFrequencyFilterTypeEnumJS(2);this._7738=new t.WebBlendingModeEnumJS(0);this._5329=!1;this._2021([24,32,33,9]);var e=Va.prototype;e.get_ActionName=function(){return"ImageSmoothing"};e.get_OverlayAlpha=function(){return this._6851};e.set_OverlayAlpha=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._6851=a};e.get_Radius=function(){return this._6171};e.set_Radius=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");
this._6171=a};e.get_Filter=function(){return this._6004};e.set_Filter=function(a){this._6004=b.pv.e(a,t.WebFrequencyFilterTypeEnumJS)};e.get_BlendingMode=function(){return this._7738};e.set_BlendingMode=function(a){this._7738=b.pv.e(a,t.WebBlendingModeEnumJS)};e.get_GrayscaleFiltration=function(){return this._5329};e.set_GrayscaleFiltration=function(a){b.pv.b(a);this._5329=a};e.getParams=function(){var a=Va.superclass.getParams.apply(this,arguments);a.overlayAlpha=this._6851;a.radius=this._6171;a.filter=
this._6004.valueOf();a.blendingMode=this._7738.valueOf();a.grayscaleFiltration=this._5329;return a}};b.extend(Va,m);var sa=function(a,d){sa.superclass.constructor.apply(this,arguments);this._2680=.08;this._2021([24,32,33,9]);var e=sa.prototype;e.get_ActionName=function(){b.pv.tne()};e.get_CutoffFrequency=function(){return this._2680};e.set_CutoffFrequency=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._2680=a};e.getParams=function(){var a=sa.superclass.getParams.apply(this,arguments);
a.cutoffFrequency=this._2680;return a}};b.extend(sa,m);var gb=function(a,b){gb.superclass.constructor.apply(this,arguments);gb.prototype.get_ActionName=function(){return"IdealHighpass"}};b.extend(gb,sa);var hb=function(a,b){hb.superclass.constructor.apply(this,arguments);hb.prototype.get_ActionName=function(){return"GaussianHighpass"}};b.extend(hb,sa);var Wa=function(a,d){Wa.superclass.constructor.apply(this,arguments);this._3851=2;var e=Wa.prototype;e.get_ActionName=function(){return"ButterworthHighpass"};
e.get_Order=function(){return this._3851};e.set_Order=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._3851=a};e.getParams=function(){var a=Wa.superclass.getParams.apply(this,arguments);a.order=this._3851;return a}};b.extend(Wa,sa);var ta=function(a,d){ta.superclass.constructor.apply(this,arguments);this._2680=.14;this._2021([24,32,33,9]);var e=ta.prototype;e.get_ActionName=function(){b.pv.tne()};e.get_CutoffFrequency=function(){return this._2680};e.set_CutoffFrequency=function(a){b.pv.n(a);
0>=a&&b.pv.te("Value must be positive.");this._2680=a};e.getParams=function(){var a=ta.superclass.getParams.apply(this,arguments);a.cutoffFrequency=this._2680;return a}};b.extend(ta,m);var ib=function(a,b){ib.superclass.constructor.apply(this,arguments);ib.prototype.get_ActionName=function(){return"IdealLowpass"}};b.extend(ib,ta);var jb=function(a,b){jb.superclass.constructor.apply(this,arguments);jb.prototype.get_ActionName=function(){return"GaussianLowpass"}};b.extend(jb,ta);var Xa=function(a,d){Xa.superclass.constructor.apply(this,
arguments);this._3851=2;var e=Xa.prototype;e.get_ActionName=function(){return"ButterworthLowpass"};e.get_Order=function(){return this._3851};e.set_Order=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._3851=a};e.getParams=function(){var a=Xa.superclass.getParams.apply(this,arguments);a.order=this._3851;return a}};b.extend(Xa,ta);h.WebColorBaseJS=a;h.WebColorSphereJS=e;h.WebColorReplaceSphereJS=g;h.WebChannelRemapSettings=d;h.WebImageProcessingCommandBaseJS=f;h.WebImageProcessingCommandWithSourceChangeJS=
n;h.WebImageProcessingCommandWithRegionJS=p;h.WebImageProcessingCommandWithRegionAndSourceChangeJS=m;h.WebBinarizeCommandJS=k;h.WebChangePixelFormatCommandJS=J;h.WebChangePixelFormatToBgrCommandJS=M;h.WebChangePixelFormatToBlackWhiteCommandJS=Q;h.WebChangePixelFormatToGrayscaleCommandJS=ha;h.WebChangePixelFormatToPaletteCommandJS=Z;h.WebClearCommandJS=N;h.WebCropCommandJS=O;h.WebResampleCommandJS=ia;h.WebResizeCommandJS=da;h.WebResizeCanvasCommandJS=l;h.WebOverlayCommandJS=P;h.WebOverlayMaskedCommandJS=
T;h.WebOverlayWithBlendingCommandJS=U;h.WebFillRectangleCommandJS=qa;h.WebImageComparisonCommandJS=ea;h.WebGetBackgroundColorCommandJS=s;h.WebGetBorderColorCommandJS=fa;h.WebGetColorCountCommandJS=w;h.WebGetHistogramCommandJS=z;h.WebGetThresholdCommandJS=B;h.WebIsImageBlankCommandJS=ga;h.WebHasCertainColorCommandJS=aa;h.WebGetUniqueColorCommandJS=ka;h.WebIsImageBlackWhiteCommandJS=la;h.WebIsImageGrayscaleCommandJS=Ba;h.WebGetImageColorDepthCommandJS=Fa;h.WebGetBorderRectCommandJS=Ca;h.WebFlipCommandJS=
Da;h.WebRotateCommandJS=Ea;h.WebSkewCommandJS=ua;h.WebQuadrilateralWarpCommandJS=va;h.WebMatrixTransformCommandJS=wa;h.WebImageScalingCommandJS=Ga;h.WebChangeBrightnessCommandJS=q;h.WebChangeBrightnessContrastCommandJS=C;h.WebChangeContrastCommandJS=A;h.WebChangeGammaCommandJS=r;h.WebChangeHSLCommandJS=u;h.WebColorBlendCommandJS=F;h.WebColorBlend16CommandJS=E;h.WebCurvesCommandJS=ba;h.WebCurves16CommandJS=S;h.WebDesaturateCommandJS=D;h.WebGetAlphaChannelMaskCommandJS=I;h.WebHalftoneCommandJS=G;h.WebInvertCommandJS=
H;h.WebLevelsCommandJS=K;h.WebPosterizeCommandJS=X;h.WebRemapColorsCommandJS=R;h.WebRemapColors16CommandJS=L;h.WebReplaceColorCommandJS=Y;h.WebSetAlphaChannelMaskCommandJS=V;h.WebSetAlphaChannelValueCommandJS=ca;h.WebMinimumCommandJS=ma;h.WebMaximumCommandJS=na;h.WebMidPointCommandJS=oa;h.WebMeanCommandJS=pa;h.WebMedianCommandJS=$a;h.WebDilateCommandJS=xa;h.WebErodeCommandJS=ab;h.WebBlurCommandJS=Ha;h.WebGaussianBlurCommandJS=Ia;h.WebEdgeDetectionCommandJS=bb;h.WebEmbossCommandJS=Ja;h.WebSharpenCommandJS=
Ka;h.WebAddNoiseCommandJS=La;h.WebCannyEdgeDetectorCommandJS=Ma;h.WebAutoColorsCommandJS=ra;h.WebAutoContrastCommandJS=cb;h.WebAutoLevelsCommandJS=db;h.WebBevelEdgeCommandJS=ya;h.WebDropShadowCommandJS=Na;h.WebMotionBlurCommandJS=Oa;h.WebMosaicCommandJS=Pa;h.WebOilPaintingCommandJS=Qa;h.WebPixelateCommandJS=Ra;h.WebRedEyeRemovalCommandJS=Sa;h.WebSepiaCommandJS=eb;h.WebSolarizeCommandJS=fb;h.WebTileReflectionCommandJS=Ta;h.WebImageSharpeningCommandJS=Ua;h.WebImageSmoothingCommandJS=Va;h.WebIdealHighpassCommandJS=
gb;h.WebGaussianHighpassCommandJS=hb;h.WebButterworthHighpassCommandJS=Wa;h.WebIdealLowpassCommandJS=ib;h.WebGaussianLowpassCommandJS=jb;h.WebButterworthLowpassCommandJS=Xa})(q.ImageProcessing);var ka=function(h,a){var e=ka.prototype;e.get_ActionSource=function(){return this._3280};e.get_IsValid=function(){return!0};e.get_Source=function(){return this._4159};e.get_SourceItems=function(){};e.get_CurrentState=function(){return this._7920};e.set_CurrentState=function(a){this._7920=a};e.dispose=function(){void 0!=
this._7920&&b.pv.isf(this._7920.dispose)&&this._7920.dispose()};e.toString=function(){return void 0==this._4159?"":void 0==this._3280?this._4159.toString()+" (original)":this._4159.toString()+": "+this._3280};e.undo=function(){b.pv.tne()};e._2911=function(a){this._4159=a};e._3941=function(a,b){if(void 0!=this._5523)for(var e=Math.min(a.length,b.length),h=0;h<e;h++)this._4571(a[h],b[h])};e._4571=function(a,b){};e._1819=function(a){this._7920=a};this._3280=a;this._4159=h;this._7920;this._5523;this._4649=
b.WebImagingEnviromentJS.guid()},L=function(b){L.superclass.constructor.call(this,void 0,b);b=L.prototype;b.toString=function(){return void 0==this._3280?L.superclass.toString.apply(this,arguments):this._3280.toString()};b.undo=function(){}};b.extend(L,ka);var C=function(h){C.superclass.constructor.apply(this,arguments);var a=C.prototype;a.get_IsValid=function(){if(0==this._6017.length)return!0;for(var a=0;a<this._6017.length;a++)if(this._6017[a].get_IsValid())return!0;return!1};a.getActions=function(){this._5067();
return this._6017};a.dispose=function(){C.superclass.dispose.apply(this,arguments);for(var a=0;a<this._6017.length;a++)this._6017[a].dispose()};a.toString=function(){return void 0!=this._3280?this._3280.toString():C.superclass.toString.apply(this,arguments)};a.undo=function(){};a._7654=function(a){this._5067();if(void 0==a){if(0!==this._6017.length)return a=this._6017[this._6017.length-1],b.pv.ic(a,C)&&(a=a._7654()),a}else for(var g=this._6017.length-1;0<=g;g--)if(b.pv.ic(this._6017[g],C)){var d=
this._6017[g]._7654(a);if(void 0!=d)return d}else if(this._6017[g]._4159==a)return this._6017[g]};a._710=function(a,b){this._5067();if(0<this._6017.length){var d=this._6017[this._6017.length-1];if(d._4159==a._4159&&void 0!=b){var f=b.clone();d._1819(f)}}void 0!=a&&void 0==a._7920&&void 0!=a._4159&&(f=a._4159.clone(),a._1819(f));this._6017.push(a)};a._2185=function(a){this._5067();for(var g=0;g<this._6017.length;g++)if(b.pv.ic(this._6017[g],C)){if(this._6017[g]._2185(a))return!0}else if(this._6017[g]==
a)return!0;return!1};a._2636=function(){var a=[];this._5067();for(var g=0;g<this._6017.length;g++)b.pv.ic(this._6017[g],C)?a.addRange(this._6017[g]._2636()):a.push(this._6017[g]);return a};a._5067=function(){for(var a=this._6017.length-1;0<=a;a--)this._6017[a].get_IsValid()||this._6017.splice(a,1)};this._6017=[];this._3280=h;this._4159=void 0};b.extend(C,ka);var T=function(){function h(a,g){for(var d=0;d<a._6017.length;d++){var f=a._6017[d];if(f===g||b.pv.ic(f,C)&&h(f,g))return!0}return!1}var a=T.prototype;
a.changing=function(a,b){};a.changed=function(a,b){};a.navigated=function(a,b){};a.get_IsInitializing=function(){return 0!=this._4265};a.get_IsCompositeActionStarted=function(){return 0!==this._960.length};a.get_IsEnabled=function(){return this._3304};a.set_IsEnabled=function(a){b.pv.b(a);(this._3304=a)&&this._5067()};a.get_UndoLevel=function(){return this._2594-1};a.set_UndoLevel=function(a){b.pv.n(a);1>a&&b.pv.te("Undo level cannot be less than 1.");a+=1;if(this._2594>a){var g=Math.min(this._2594,
this._6017.length)-a;if(0<g){var d=this._3774,f=[],h=[];if(0<this._6017.length-this._3774){for(var p=Math.min(this._6017.length-this._3774-1,g),m=this._6017.length-p,k=0;k<p;k++)h.push(m+k),f.push(this._6017[m+k]);g-=p}if(0<g){for(k=0;k<g;k++)h.push(k),f.push(this._6017[k]);d-=g}g={type:"removeActions",actions:[].concat(f)};this._4119(g);for(k=h.length-1;0<=k;k--)m=h[k],this._6017[m].dispose(),this._6017.splice(m,1);this._3774=d;d={type:"removeActions",actions:[].concat(f)};this._5899(d)}}this._2594=
a};a.get_UndoCount=function(){var a=this.get_CurrentActionIndex();return 1>a?0:a};a.get_UndoDescription=function(){var a=this.get_CurrentActionIndex();return 0==this.get_UndoCount()||-1==a?"":this._6017[a].toString()};a.get_RedoCount=function(){this._5067();return this._6017.length-this._3774-1};a.get_RedoDescription=function(){var a=this.get_CurrentActionIndex();return 0==this.get_RedoCount()||-1==a?"":this._6017[a+1].toString()};a.get_CurrentActionIndex=function(){this._5067();return this._3774};
a.set_CurrentActionIndex=function(a){this._3304&&!this.get_IsInitializing()&&(this._5067(),0>a&&b.pv.te("Index of current undo action cannot be less than 0."),a>this._6017.length&&b.pv.te("Index of current undo action cannot be greater than "+this._6017.length+"."),this.set_CurrentAction(this._6017[a]))};a.get_CurrentAction=function(){var a=this.get_CurrentActionIndex();return-1==a?void 0:this._6017[a]};a.set_CurrentAction=function(a){if(this._3304&&!this.get_IsInitializing()&&a.get_IsValid()){this._5067();
var b=this._3774;this._3783(a);this._3774=this._6017.indexOf(a);this._3499(this._3774-b)}};a._2089=function(){return this._4649};a._4209=function(){this._5067();return 0==this.get_UndoCount()||-1==this._3774?void 0:this._6017[this._3774-1]};a._7170=function(){return this._6017.length};a.beginInit=function(){this._4265++};a.endInit=function(){0==this._4265&&b.pv.te("Invalid operation exception.");this._4265--};a.containsActionForSourceObject=function(a){for(var g=Math.min(this._3774+1,this._6017.length),
d=0;d<g;d++){var f=this._6017[d];if(b.pv.ic(f,C)){if(void 0!=f._7654(a))return!0}else if(this._6017[d]._4159==a)return!0}if(0<this._960.length)for(d=0;d<this._960.length;d++)if(void 0!=this._960[d]._7654(a))return!0;return!1};a.beginCompositeAction=function(a){a=new C(a);a._2911();this._960.push(a)};a.endCompositeAction=function(){0==this._960.length&&b.pv.te("Composite action stack length cannot be 0.");var a=this._960.pop();0<a._6017.length&&(0===this._960.length&&0===this._6017.length&&this.addAction(new L(a.toString()+
" (original)")),this.addAction(a,void 0))};a.removeCompositeAction=function(){0!=this._960.length&&this._960.pop()};a.addAction=function(a,g){if(!this._3304||this.get_IsInitializing())void 0!=a&&a.dispose();else if(void 0==a&&b.pv.te("UndoAction parameter cannot be undefined."),a.get_IsValid())if(0<this._960.length)this._960[this._960.length-1]._710(a,g);else{this._4119({type:"addActions",actions:[a]});this.beginInit();this.removeRedoActions();if(-1!=this._3774){var d=this._6017[this._3774];if(d._4159==
a._4159&&void 0!=g){var f=g.clone();d._1819(f)}}void 0!=a&&void 0==a._7920&&void 0!=a._4159&&(f=a._4159.clone(),a._1819(f));this._6017.push(a);this._6017.length>this._2594&&this.removeFirstAction();this._3774=this._6017.length-1;this.endInit();this._5067();this._5899({type:"addActions",actions:[a]});this._3499(1)}else a.dispose()};a.removeRedoActions=function(){if(this._3304&&this._3774<this._6017.length-1){for(var a=[],b=[],d=this._6017.length,f=this._3774+1;f<d;f++)b.push(f),a.push(this._6017[f]);
if(0<a.length){f={type:"removeActions",actions:[].concat(a)};this._4119(f);for(f=b.length-1;0<=f;f--)d=b[f],this._6017[d].dispose(),this._6017.splice(d,1);a={type:"removeActions",actions:[].concat(a)};this._5899(a)}}};a.removeFirstAction=function(){if(this._3304&&0!=this._6017.length){var a=this._6017[0];this._4119({type:"removeActions",actions:[a]});this._6017.splice(0,1);a.dispose();this._5899({type:"removeActions",actions:[a]})}};a.undo=function(a){this._2582(-Math.abs(a))};a.redo=function(a){this._2582(Math.abs(a))};
a.getActions=function(){this._5067();return this._6017};a.clear=function(){this._3304&&this._6085(!0)};a.dispose=function(){this._6085(!1);this._3140=void 0};a._7497=function(a,b,d,f){var h=this._4341();if(0!==h.length){for(var p=0;p<h.length;p++)this._3501(h[p],a,d);if(void 0!=b&&void 0!=f)for(a=Math.min(b.length,f.length),p=0;p<a;p++)for(d=0;d<h.length;d++)this._3501(h[d],b[p],f[p])}};a._2648=function(a){this._3140=a};a._3296=function(a){for(var b=!0,d=0;d<a.length;d++)b&=this._3552(a[d]);return b};
a._3552=function(a){if(void 0==a)return!1;var b=this._6017.indexOf(a);if(-1==b)return!1;-1!=this._3774&&b<=this._3774&&this._3774--;return this._6017.splice(b,1)?(a.dispose(),!0):!1};a._7822=function(a,b){var d=a._5523;return void 0==d||-1===d.indexOf(b)?!1:!0};a._6796=function(a,g){for(var d=-1,f=0;f<this._6017.length;f++){var n=this._6017[f];if(n===a){d=f;break}else if(b.pv.ic(n,C)&&h(n,a)){d=f;break}}return-1==d?!0:0==d?g:this.get_CurrentActionIndex()>=d?!1:!0};a._5067=function(){if(!this.get_IsInitializing()&&
this._3304){for(var a=[],b=this._3774,d=this._6017.length-1;0<=d;d--){var f=this._6017[d];f.get_IsValid()||(a.push(f),b>=d&&b--)}0<a.length&&([].concat(a),this.beginInit(),this._3296(a),this._3774=b,this.endInit(),a={type:"removeActions",actions:[].concat(a)},this._5899(a))}};a._3783=function(a){this.beginInit();try{b.pv.ic(a,C)&&(a=a._7654());var g=this.get_CurrentAction();if(b.pv.ic(g,C)){var d=g,g=d._7654();void 0==g&&(g=d)}var f=this._4341();a.get_IsValid()||b.pv.te("Invalid action.");-1==f.indexOf(a)&&
b.pv.te("Action is not found.");this._6147(g,a);var h=a._4159,p=a._5523;a.undo();var m=a._4159,k=a._5523;void 0==this._3140?this._7497(h,p,m,k):this._3140._7497(h,p,m,k);this._3774=this._6017.indexOf(a)}finally{this.endInit()}};a._6147=function(a,b){if(!this._840){this._840=!0;var d=this._4341(),f=d.indexOf(a),h=d.indexOf(b),p=Math.max(f,h),m=Math.min(f,h);if(1<p-m){for(var k=[],q=!1;p>=m;p--){var q=!1,t=d[p];if(t._4159!=b._4159){for(var v=0;v<k.length;v++){var r=k[v];if(r._4159==t._4159){q=!0;break}}q||
k.push(t)}}if(0<k.length)if(f>h){r=k;k=[];for(p=0;p<r.length;p++){q=r[p]._4159;for(v=m-1;0<=v;v--)if(q==d[v]._4159){k.push(d[v]);break}for(v=m;v<d.length;v++)if(q==d[v]._4159){k.push(d[v]);break}}if(0==k.length)for(p=0;p<r.length;p++)for(v=0;v<d.length;v++)if(r[p]._4159==d[v]._4159){k.push(d[v]);break}for(p=k.length-1;0<=p;p--)if(void 0!=k[p]._5523)for(this._3783(k[p]),v=0;v<k[p]._5523.length;v++)m=k[p]._5523[v],m=this._5933(d,f,m),void 0!=m&&this._3783(m);for(p=k.length-1;0<=p;p--)void 0==k[p]._5523&&
this._3783(k[p])}else{for(p=0;p<k.length;p++)void 0!=k[p]._5523&&this._3783(k[p]);for(p=0;p<k.length;p++)void 0==k[p]._5523&&this._3783(k[p])}}if(1==f-h&&a._4159!=b._4159&&(r=this._5933(d,f,a._4159),void 0!=r&&(this._3783(r),void 0!=r._5523)))for(p=0;p<r._5523.length;p++)m=r._5523[p],m=this._5933(d,f,m),void 0!=m&&this._3783(m);this._840=!1}};a._2582=function(a){this._3304&&!this.get_IsInitializing()&&0!=a&&(this._5067(),a=Math.min(Math.max(this.get_CurrentActionIndex()+a,0),this._6017.length-1),
this.set_CurrentAction(this._6017[a]))};a._3501=function(a,g,d){var f=!1;if(b.pv.ic(a,C))for(var h=0;h<a._6017.length;h++)f|=this._3501(a._6017[h],g,d);a._4159===g&&(a._2911(d),f=!0);this._7822(a,g)&&(a._4571(g,d),f=!0);return f};a._6085=function(a){var b;a&&(b={type:"clearActions",actions:[].concat(this._6017)},this._4119(b),b={type:"clearActions",actions:[].concat(this._6017)});for(var d=0;d<this._6017.length;d++)this._6017[d].dispose();this._6017=[];this._3774=-1;a&&this._5899(b)};a._5933=function(a,
g,d){for(--g;0<=g;g--){var f=a[g];if(b.pv.ic(f,C)){if(f=f._7654(d),void 0!=f)return f}else if(f._4159==d)return f}};a._4341=function(){for(var a=[],g=0;g<this._6017.length;g++)a[g]=this._6017[g];for(g=0;g<a.length;g++)if(b.pv.ic(a[g],C)){var d=a[g];a.splice(g,1);for(var d=d._2636(),f=g,h=0;h<d.length;h++)a.splice(f,0,d[h]),f++;g+=d.length-1}return a};a._4119=function(a){$(this).triggerHandler("changing",a)};a._5899=function(a){$(this).triggerHandler("changed",a)};a._3499=function(a){$(this).triggerHandler("navigated",
a)};this._4649=b.WebImagingEnviromentJS.guid();this._3304=!0;this._2594=6;this._3774=-1;this._6017=[];this._4265=0;this._840=!1;this._960=[];this._3140;delete a.changing;delete a.changed;delete a.navigated},tb=function(b,a,e){this._3488=b;this._7336=a;this._606=e},ob=function(){var h=ob.prototype;h._2357=function(a,b){};h._6284=function(a){this._2987(a);b.pv.ic(a,C)&&void 0!=this._6769[a._4649]&&this._62(a,!0);this._1385()};h._3552=function(a){if(-1!==this._2844.indexOf(a))b.pv.ic(a,C)&&delete this._6769[a._4649],
this._6021(a),void 0!=this._2499[a._4649]&&(this._2499[a._4649]._3488._3552(a),delete this._2499[a._4649]),b.pv.ic(a,C)&&this._62(a,!1),this._1385();else{var e=this._717[a._4649];void 0!=e&&(delete this._717[a._4649],e._6017.splice(e._6017.indexOf(a),1),delete this._2499[a._4649],0==e._6017.length&&this._3552(e))}};h._1910=function(a){for(var b=[],g=0;g<this._2844.length;g++)for(var d=this._2844[g],f=0;f<a.length;f++)if(this._1828(d,a[f])){b.push(d);break}return this._5083(b)};h._1828=function(a,
e){if(b.pv.ic(a,C)&&void 0!=this._6769[a._4649])for(var g=0;g<a._6017.length;g++){if(this._1828(a._6017[g],e))return!0}else if(g=this._2499[a._4649],void 0!=g&&g._3488===e)return!0;return!1};h._1747=function(a,b){var g=new tb(b,b._4209(),b.get_CurrentAction());this._2499[a._4649]=g};h._4118=function(a){this._6769[a._4649]=!1};h._2987=function(a){this._2844.push(a)};h._6021=function(a){this._2844.splice(this._2844.indexOf(a),1)};h._1239=function(a){var b=[];this._7833(b,a);return b};h._7833=function(a,
e){var g=b.pv.ic(e,C);if(!g||g&&void 0==this._6769[e._4649])a.push(this._2499[e._4649]);else for(g=0;g<e._6017.length;g++)this._7833(a,e._6017[g])};h._7450=function(a,e){for(var g=0;g<e.length;g++){var d=e[g];if(b.pv.ic(d,C)){if(this._7450(a,d._6017))return!0}else if(this._2499[d._4649]._3488===a)return!0}return!1};h._2920=function(a){if(0!=a.length){for(var e=a.length-1;0<=e;e--){var g=a[e];if(void 0!=this._6769[g._4649]){if(!this._6796(g,!0))return g}else{var d=this._2499[g._4649];if(void 0!=d){if(!d._3488._6796(g,
!0))return g}else if(b.pv.ic(g,C)&&!this._6796(g,!0))return g}}return a[0]}};h._868=function(){this._2844=[];this._717={};this._2499={}};h._6796=function(a,e){if(b.pv.ic(a,C)&&void 0!=this._6769[a._4649]){for(var g=0;g<a._6017.length;g++){var d=a._6017[g];if(b.pv.ic(d,C)){if(!this._6796(d,e))return!1}else{var f=this._2499[d._4649];if(void 0!=f&&!f._3488._6796(d,e))return!1}}return!0}return this._2499[a._4649]._3488._6796(a,e)?!0:!1};h._875=function(a){if(-1!==this._2844.indexOf(a))return a;a=this._717[a._4649];
if(void 0!=a)return this._875(a)};h._62=function(a,e){for(var g=0;g<a._6017.length;g++){var d=a._6017[g];e?this._717[d._4649]=a:(delete this._717[d._4649],delete this._2499[d._4649]);b.pv.ic(d,C)&&this._62(d,e)}};h._5083=function(a){for(var e=[].concat(a),g=[],d={},f=0;f<a.length;f++){var h=this._5613(a[f]);this._1327(g,h);if(b.pv.ic(a[f],C))for(h=-1;h!=g.length;)for(var h=g.length,p=0;p<this._2844.length;p++)if(-1===e.indexOf(this._2844[p])){var m=d[this._2844[p]._4649];void 0==m&&(m=this._5613(this._2844[p]),
d[this._2844[p]._4649]=m);this._5109(g,m)&&e.push(this._2844[p])}}if(e.length==a.length)return a;a=[];for(f=0;f<e.length;f++)g=this._2844.indexOf(e[f]),a[g]=e[f];return a};h._5613=function(a){if(b.pv.ic(a,C)){for(var e=[],g=0;g<a._6017.length;g++){var d=this._5613(a._6017[g]);this._1327(e,d)}return e}e=[];void 0!=a._4159&&e.push(a._4159);return e};h._1327=function(a,b){for(var g=0;g<b.length;g++){var d=b[g];-1===a.indexOf(d)&&a.push(d)}};h._5109=function(a,b){for(var g=0;g<b.length;g++)if(-1!==a.indexOf(b[g]))return this._1327(a,
b),!0;return!1};h._1385=function(){$(this).triggerHandler("_2357")};this._2844=[];this._2499={};this._717={};this._6769={};delete h._2357},pb=function(h){function a(a,e){var g=a._4649;$(e).on("changing."+g,function(b,g){if(a._3304){if(!a._2632&&a._279()&&"addActions"===g.type&&0==e._7170()){a._2632=!0;if(0!=a._2799().length){var h=new L(g.actions[0].toString()+" (original)");e.addAction(h)}else a._1835=!0,h=new L(a._7634),e.addAction(h),a._1835=!1;a._2632=!1}!a._279()&&a._2114(e)&&void 0==a._596&&
a._4119(g)}});$(e).on("changed."+g,function(g,h){if(a._3304){var k=h.actions;if("addActions"!=h.type||1!=k.length||!b.pv.ic(k[0],L)||a._1835){switch(h.type){case "addActions":for(var n=0;n<k.length;n++)a._6284(k[n],e);break;case "removeActions":case "clearActions":for(n=0;n<k.length;n++)a._3552(k[n])}if(a._2114(e)){if("addActions"===h.type)for(var q=a._2799(),n=k.length-1;0<=n;n--)-1===q.indexOf(k[n])&&k.splice(n,1);0<k.length&&(void 0==a._596?a._5899(h):a._596=a._596.concat(k))}}}})}var e=pb.prototype;
e.changing=function(a,b){};e.changed=function(a,b){};e.navigated=function(a,b){};e._1991=function(){return this._7244};e._7208=function(a){if(this._7244!=a){this._7244=a;this._6017=void 0;a=this._2799();var b=this._4080._2920(a);this._3774=a.indexOf(b);if(this._2594<a.length)for(this._7913(!1),a=this._2799().length-this._2594;0<a;)this._2312(!1),a--}};e._2799=function(){this._5067();void 0==this._6017&&(this._6017=this._5581());return this._6017};e._7856=function(){var a=this._1777();return-1==a?
void 0:this._2799()[a]};e._5064=function(a){a=this._2799().indexOf(a);this._329(a)};e._1777=function(){this._5067();return this._3774};e._329=function(a){(0>a||a>this._2799().length)&&b.pv.toe();this._2340(a-this._1777())};e._440=function(){var a=this._1777();return 1>a?0:a};e._6410=function(){var a=this._1777(),b=this._2799();return 0==this._440()||-1==a||a>=b.length?"":b[a].toString()};e._3809=function(){return this._2799().length-this._1777()-1};e._3312=function(){var a=this._1777(),b=this._2799();
return 0==this._3809()||-1==a||a>=b.length?"":b[a+1].toString()};e._5134=function(){return this._3304};e._4166=function(a){this._3304=a};e._279=function(){return this._1835?!1:0!=this._5278.length};e._6707=function(){return this._2594};e._178=function(a){var b=a+1;this._2594>b&&this._2380(b,!0);this._2594=a+1};e._2380=function(a,b){var e=[].concat(this._4753),g=this._5581(!1,e),h=this._5581(!0,e),k=g.indexOf(this._7856()),q=h.length-a;if(0<q){for(var e=[],t=g.length-1;0<q&&t>k;){var v=g[t--];e.push(v);
-1!==h.indexOf(v)&&q--}if(0<q){for(t=0;0<q&&t<=k;)v=g[t++],e.push(v),-1!==h.indexOf(v)&&q--;if(-1===h.indexOf(g[t]))for(;-1===!h.indexOf(g[t])&&t<=k;)e.push(g[t++])}b&&this._4119({type:"removeActions",actions:e});for(g=0;g<e.length;g++)this._3552(e[g]);b&&this._5899({type:"removeActions",actions:e})}};e._5422=function(b){a(this,b);this._4753.push(b)};e._3378=function(a){var b=this._4649;$(a).off("."+b);this._1895(a);this._4753.splice(this._4753.indexOf(a),1)};e._7585=function(a){this._3304&&this._2340(-Math.abs(a))};
e._5199=function(a){this._3304&&this._2340(Math.abs(a))};e._2312=function(a){for(var b=this._5581(!1,this._7244),e=this._5581(!0,this._7244),g=b.indexOf(this._7856()),h=[],k=0;k<b.length;){var q=b[k++];h.push(q);if(-1!==e.indexOf(q))break}if(-1===e.indexOf(b[k]))for(;-1===e.indexOf(b[k])&&k<=g;)h.push(b[k++]);a&&(b={type:"removeActions",actions:[].concat(h)},this._4119(b));for(b=0;b<h.length;b++)this._3552(h[b]);a&&(a={type:"removeActions",actions:[].concat(h)},this._5899(a))};e._7913=function(a){var b=
this._7856();if(!this._3304||void 0==b)return[];var e=this._1777(),g=this._2799();if(e==g.length-1)return[];for(var b=[],h=g.length-1;h>e;h--)b.push(g[h]);a&&(e={type:"removeActions",actions:[].concat(b)},this._4119(e));for(h=0;h<b.length;h++)this._4080._3552(b[h]);this._2799();this._2915();for(h=0;h<this._7244.length;h++)this._7244[h].removeRedoActions();this._5271();a&&(e={type:"removeActions",actions:[].concat(b)},this._5899(e));return b};e._7270=function(a,e,g){1===arguments.length&&(g=a,a=this._2799(),
e=Math.min(this._1777()+1,a.length));for(var h=0;h<e;h++){var m=a[h];if(b.pv.ic(m,C)){if(void 0!=m._7654(g))return!0}else if(a[h]._4159==g)return!0}return!1};e._3228=function(){for(var a={},b=this._2799(),e=Math.min(this._1777()+1,b.length),g=0;g<e;g++)for(var h=b[g],k=0;k<this._7244.length;k++){var q=this._7244[k];if(this._4080._1828(h,q)){k=a[q._4649];void 0==k&&(k=[],a[q._4649]=k);k.push(h);break}}return a};e._2915=function(){void 0==this._596&&(this._596=[])};e._5271=function(){if(void 0==this._596)return[];
var a=[].concat(this._596);this._596=void 0;return a};e._2519=function(a){a=new C(a);a._2911();0==this._5278.length&&(this._7634=a.toString()+" (original)");this._5278.push(a)};e._6342=function(a){0==this._5278.length&&b.pv.te("The undo manager does not have composite action.");var e=this._5278[0];this._5278.splice(0,1);0<e.getActions().length&&(0==this._5278.length&&this._4119({type:"addActions",actions:[e]}),this._4080._4118(e),this._6284(e,a),0==this._5278.length&&this._5899({type:"addActions",
actions:[e]}))};e._472=function(){if(0!==this._5278.length){var a=this._5278[0];this._5278.splice(0,1);this._3552(a)}};e._5067=function(){if(void 0!=this._7244&&0<this._7244.length)for(var a=0;a<this._7244.length;a++)this._7244[a]._5067()};e._6284=function(a,b){if(this._3304)if(a.get_IsValid())if(this._279())this._4080._1747(a,b),this._5278[this._5278.length-1].getActions().push(a);else{if(this._7913(!0),this._4080._1747(a,b),this._4080._6284(a),this._7156(),this._2799().length>this._2594&&this._2312(!0),
this._2114(b)){var e=this._2799().indexOf(a);-1!==e&&(this._3774=e)}}else a.dispose()};e._7156=function(){for(var a=0;a<this._4753.length;a++){var b=this._4753[a];this._2114(b)||0===b.get_CurrentActionIndex()&&b.clear()}};e._2114=function(a){return void 0==this._7244||void 0==a?!1:-1!==this._7244.indexOf(a)};e._3552=function(a){var b=this._2799(),e=b.indexOf(a);-1===e&&(a=this._4080._875(a));if(void 0!=a){var g=b.length,h=this._7856();this._4080._3552(a);b=this._2799();g!=b.length?-1!=e&&e<=this._3774&&
(this._3774-=g-b.length):void 0!=h&&(-1!==!b.indexOf(h)&&(h=this._4080._875(h)),this._3774=b.indexOf(h))}};e._1895=function(a){if(this._3304){a=this._4080._1910([a]);for(var b=0;b<a.length;b++)this._3552(a[b])}};e._2340=function(a){for(var b=0;b<this._7244.length;b++)if(this._7244[b].get_IsInitializing())return;var e=this._2799();if(0!=a&&0!=e.length){for(var g=Math.abs(a),b=this._1777();0<g&&!(0>b||b>=e.length);){if(0>a){var h=e[b];this._3783(h);b--}else h=b+1,h>=e.length&&(h=e.length-1),h=e[h],
this._2658(h),b++;g--}a=b-this._3774;this._3774=b;this._3499(a)}};e._3783=function(a){a=this._4080._1239(a);for(var b=a.length-1;0<=b;b--){var e=a[b];void 0!=e._7336&&e._3488.set_CurrentAction(e._7336)}};e._2658=function(a){a=this._4080._1239(a);for(var b=0;b<a.length;b++){var e=a[b];void 0!=e._7336&&e._3488.set_CurrentAction(e._606)}};e._868=function(){this._4080._868();this._7244=this._6017=void 0;this._3774=-1};e._5581=function(a,e){void 0==a&&(a=!0,e=this._7244);this._5067();var g=[];if(void 0!=
e&&0<e.length){for(var h=!1,m=this._4080._1910(e),k=m.length-1;0<=k;k--){var q=m[k];if(void 0!=q){if(this._4080._6796(q,!h)){if(h)continue}else h=!0;g.push(q)}}if(a)for(k=g.length-2;0<=k;k--)b.pv.ic(g[k],C)||void 0!=g[k]._3280||g.splice(k,1);g.reverse()}1==g.length&&(h=g[0],b.pv.ic(h,C)&&0<h.getActions().length&&g.splice(0,0,new L(g[0].toString()+" (original)")));return g};e._4119=function(a){$(this).triggerHandler("changing",a)};e._5899=function(a){$(this).triggerHandler("changed",a)};e._3499=function(a){$(this).triggerHandler("navigated",
a)};this._4649=b.WebImagingEnviromentJS.guid();this._4080=new ob(h);this._596;this._5278=[];this._1835=!1;this._7634="";this._2632=!1;this._4753=[];this._7244;this._6017;this._3774=-1;this._3304=!0;this._2594=h;var g=this;$(this._4080).on("_2357",function(a,b){g._6017=void 0})},ga=function(){function h(a){void 0==a._3227&&b.pv.te("Current manager is not specified.")}ga.superclass.constructor.apply(this,arguments);var a=ga.prototype;a.currentManagerChanging=function(a,b){};a.currentManagerChanged=
function(a,b){};a.activeManagersChanging=function(a){};a.activeManagersChanged=function(a){};a.get_ActiveManagers=function(){return this._3465._7244};a.set_ActiveManagers=function(a){b.pv.ac(a,T);if(a!=this._3465._7244){this._5710();if(void 0!=a)for(var d=0;d<a.length;d++)-1===this._7904.indexOf(a[d])&&b.pv.te("Only the undo managers from this composite undo manager can be used as the active undo managers.");this._3465._7208(a);this._6682=this._4904();a={type:"addActions",actions:this._3465._2799()};
this._5899(a);this._4626()}};a.get_CurrentManager=function(){return this._3227};a.set_CurrentManager=function(a){b.pv.ic(a,T);this.get_IsInitializing()&&b.pv.te("The current undo manager can not be changed because initialization of that manager is not finished.");if(a!=this._3227&&(a={oldValue:this._3227,newValue:a,cancel:!1},this._4023(a),!a.cancel&&a.newValue!==this._3227)){a=a.newValue;void 0!=a&&-1===this._7904.indexOf(a)&&b.pv.te("Only the undo manager from this composite undo manager can be used as the current undo manager.");
var d={oldValue:this._3227,newValue:a};void 0!=this._3227&&this._1730(this._3227);this._3227=a;this._6682=this._4904();void 0!=this._3227&&this._3828(this._3227);this._4137(d)}};a.get_IsInitializing=function(){return void 0==this._3227?!1:this._3227.get_IsInitializing()};a.get_IsCompositeActionStarted=function(){return 0!==this._3465._279()};a.set_IsEnabled=function(a){ga.superclass.set_IsEnabled.apply(this,arguments);this._3465._4166(a);for(var b=0;b<this._7904.length;b++)this._7904[b].set_IsEnabled(a)};
a.set_UndoLevel=function(a){ga.superclass.set_UndoLevel.apply(this,arguments);this._3465._178(a)};a.get_UndoCount=function(){return this._3465._440()};a.get_UndoDescription=function(){return this._3465._6410()};a.get_RedoCount=function(){return this._3465._3809()};a.get_RedoDescription=function(){return this._3465._3312()};a.get_CurrentActionIndex=function(){return this._3465._1777()};a.set_CurrentActionIndex=function(a){this._3465._329(a)};a.get_CurrentAction=function(){return this._3465._7856()};
a.set_CurrentAction=function(a){this._3304&&!this.get_IsInitializing()&&a.get_IsValid()&&this._3465._5064(a)};a._4209=function(){this._5067();var a=this.get_CurrentActionIndex();return 0==this.get_UndoCount()||-1==a?void 0:this._3465.getActions()[a-1]};a._7170=function(){return this._3465._2799().length};a.addManager=function(){var a=new T;a.set_IsEnabled(this._3304);a.set_UndoLevel(Number.MAX_VALUE);a._2648(this);this._7904.push(a);this._3465._5422(a);return a};a.removeManager=function(a){var b=
this._7904.indexOf(a);-1!==b&&(this._3227===a&&this.set_CurrentManager(),this._3465._3378(a),this._7904.splice(b,1),a._2648(),a.dispose())};a.beginInit=function(){this._4265++;for(var a=0;a<this._7904.length;a++)this._7904[a].beginInit()};a.endInit=function(){0===this._4265&&b.pv.te("Invalid operation exception.");this._4265--;for(var a=0;a<this._7904.length;a++)this._7904[a].endInit()};a.containsActionForSourceObject=function(a){h(this);if(this._6682&&0!==this.get_RedoCount()){var b=this._3465._3228()[this._3227._4649];
return void 0!=b?this._3465._7270(b,b.length,a):!1}return this._3227.containsActionForSourceObject(a)};a.beginCompositeAction=function(a){this._3465._2519(a)};a.endCompositeAction=function(){this._3465._6342(this._3227)};a.removeCompositeAction=function(){this._3465._472()};a.addAction=function(a,b){h(this);this._3465._7913(!0);this._3227.addAction(a,b)};a.undo=function(a){this._5067();this._3465._7585(a)};a.redo=function(a){this._5067();this._3465._5199(a)};a.getActions=function(){this._5067();return this._3465._2799()};
a.clear=function(){this._5067();for(var a=[],b=0;b<this._7904.length;b++)a=a.concat(this._7904[b].getActions());if(0!=a.length){a={type:"clearActions",actions:[].concat(a)};this._4119(a);this._3465._2915();for(b=0;b<this._7904.length;b++)this._7904[b].clear();a=this._3465._5271();a={type:"clearActions",actions:[].concat(a)};this._5899(a)}};a.removeFirstAction=function(){this._3465._2312()};a.removeRedoActions=function(){this._3465._7913(!0)};a.dispose=function(){this._3227=void 0;$(this._3465).off("."+
this._4649);for(var a=0;a<this._7904.length;a++){var b=this._7904[a];this._3465._3378(b);b.dispose()}this._7904=[];this._3465._868()};a._2648=function(a){b.pv.tne()};a._7497=function(a,b,d,e){for(var g=0;g<this._7904.length;g++)this._7904[g]._7497(a,b,d,e)};a._4023=function(a){$(this).triggerHandler("currentManagerChanging",a)};a._4137=function(a){$(this).triggerHandler("currentManagerChanged",a)};a._5710=function(){$(this).triggerHandler("activeManagersChanging")};a._4626=function(){$(this).triggerHandler("activeManagersChanged")};
a._5067=function(){if(!this.get_IsInitializing()&&this._3304){this._595();for(var a=0;a<this._7904.length;a++)this._7904[a]._5067();this._1278()}};a._595=function(){this._5993++};a._1278=function(){this._5993--};a._4904=function(){return void 0==this._3227||void 0==this._3465._7244?!1:-1==this._3465._7244.indexOf(this._3227)?!1:!0};a._3828=function(a){var b=this,d=b._2089();$(a).on("changing."+d,function(a,d){0!=b._5993||b._6682||b._4119(d)});$(a).on("changed."+d,function(a,d){0!=b._5993||b._6682||
b._5899(d)})};a._1730=function(a){var b=this._2089();$(a).off("."+b)};this._7904=[];this._6682=!1;this._4265=this._5993=0;this._3227;var e=new pb(this._2594);this._3465=e;var g=this,d=this._4649;$(e).on("navigated."+d,function(a,b){g._3499(b)});$(e).on("changing."+d,function(a,b){g._4119(b)});$(e).on("changed."+d,function(a,b){g._5899(b)});delete a.currentManagerChanging;delete a.currentManagerChanged;delete a.activeManagersChanging;delete a.activeManagersChanged};b.extend(ga,T);var qb=function(h){var a=
qb.prototype;a.get_IsEnabled=function(){return this._3304};a.set_IsEnabled=function(a){b.pv.b(a);this._3304=a};a.get_UndoManager=function(){return this._6587};a.dispose=function(){};b.pv.c(h,T);this._6587=h;this._3304=!0};q.WebUndoActionJS=ka;q.WebCompositeUndoActionJS=C;q.WebUndoManagerJS=T;q.WebCompositeUndoManagerJS=ga;q.WebUndoMonitorJS=qb;b.WebServiceJS.defaultFileService=-1;q.VintasoftFileAPI=function(){};q.VintasoftFileAPI.uploadImageFile=function(h,a,e,g){void 0==g&&(g=b.WebServiceJS.defaultFileService);
b.pv.c(g,b.WebServiceJS);b.pv.c(h,File);var d=new FormData;d.append("file",h);h=new b.WebRequestJS("UploadImageFile",a,e,{type:"POST",contentType:!1,processData:!1,data:d});return g.sendRequest(h)};q.VintasoftFileAPI.uploadImageFiles=function(h,a,e,g){void 0==g&&(g=b.WebServiceJS.defaultFileService);b.pv.c(g,b.WebServiceJS);b.pv.ac(h,File);for(var d=new FormData,f=0;f<h.length;f++)d.append("file",h[f]);h=new b.WebRequestJS("UploadImageFiles",a,e,{type:"POST",contentType:!1,processData:!1,data:d});
return g.sendRequest(h)};q.VintasoftFileAPI.uploadBase64Image=function(h,a,e,g,d){var f;b.pv.isf(a)?(f=a,d=g,a=void 0):(f=e,e=g);void 0==d&&(d=b.WebServiceJS.defaultFileService);b.pv.c(d,b.WebServiceJS);b.pv.s(h);""===a&&(a=void 0);h=new b.WebRequestJS("UploadBase64Image",f,e,{type:"POST",data:{imageAsBase64String:h,fileName:a}});return d.sendRequest(h)};q.VintasoftFileAPI.uploadBase64Images=function(h,a,e,g,d){var f;b.pv.isf(a)?(f=a,d=g,a=void 0):(f=e,e=g);void 0==d&&(d=b.WebServiceJS.defaultFileService);
b.pv.c(d,b.WebServiceJS);b.pv.ad(h,b.pv.s);""===a&&(a=void 0);h=new b.WebRequestJS("UploadBase64Images",f,e,{type:"POST",data:{imagesAsBase64Strings:h,fileName:a}});return d.sendRequest(h)};q.VintasoftFileAPI.downloadImageFile=function(h,a,e,g){void 0==g&&(g=b.WebServiceJS.defaultFileService);b.pv.c(g,b.WebServiceJS);var d=h.split("/").pop();void 0==d&&(d=h);var f=new XMLHttpRequest;f.onload=function(b){200==this.status?a&&a({blob:this.response,filename:d,xmlHttpRequest:this}):500==this.status&&e&&
e({errorMessage:this.statusText})};f.onerror=e;h={fileId:h,sessionId:K.Shared.WebImagingEnviromentJS.get_SessionId()};var n=g.get_ServiceRoute();b.pv.ic(g,b.WebServiceControllerJS)?(f.open("POST",n+"/DownloadImageFile",!0),f.setRequestHeader("Content-type","application/json"),h=JSON.stringify(h)):(f.open("POST",n,!0),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),h="action=DownloadImageFile&requestParams="+JSON.stringify(h));f.responseType="arraybuffer";f.responseType="blob";
return f.send(h)};q.VintasoftFileAPI.copyFile=function(h,a,e,g){void 0==g&&(g=b.WebServiceJS.defaultFileService);b.pv.c(g,b.WebServiceJS);h=new b.WebRequestJS("CopyFile",a,e,{type:"POST",data:{fileId:h}});return g.sendRequest(h)};q.WebBmpCompressionEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"RLE",value:1}],!1);q.WebPngFilterMethodEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"Sub",value:1},{name:"Up",value:2},{name:"Average",value:3},{name:"Paeth ",value:4},{name:"Adaptive",
value:5},{name:"Auto",value:31}],!1);q.WebGifCreatePageMethodEnumJS=b.EnumGenerator.create([{name:"UseOnlyGlobalPalette",value:0},{name:"UseGlobalOrLocalPalette",value:1}],!1);q.WebJpeg2000CompressionTypeEnumJS=b.EnumGenerator.create([{name:"Lossless",value:0},{name:"Lossy",value:0}],!1);q.WebTiffCompressionEnumJS=b.EnumGenerator.create([{name:"Auto",value:0},{name:"None",value:1},{name:"CcittRle",value:2},{name:"CcittGroup3",value:3},{name:"CcittGroup4",value:4},{name:"Lzw",value:5},{name:"OldJpeg",
value:6},{name:"Jpeg",value:7},{name:"Zip",value:8},{name:"Packbits ",value:32773},{name:"Jpeg2000 ",value:34712},{name:"NikonNef",value:34713}],!1);q.WebPdfImageCompressionEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"CcittFax",value:1},{name:"Lzw",value:2},{name:"Jpeg",value:4},{name:"Zip",value:8},{name:"Jbig2",value:16},{name:"Jpeg2000",value:32},{name:"Auto",value:1024}],!1);q.WebPdfDocumentConformance=b.EnumGenerator.create([{name:"Undefined",value:0},{name:"PdfA_1a",value:1},
{name:"PdfA_1b",value:2},{name:"PdfA_2a",value:4},{name:"PdfA_2b",value:8},{name:"PdfA_2u",value:16},{name:"PdfA_3a",value:32},{name:"PdfA_3b",value:64},{name:"PdfA_3u",value:128}],!1);var G=function(){var h=G.prototype;h.get_Name=function(){if(void 0!=this._800)return this._800;b.pv.tne()};h.toObject=function(){return this._1627()};h._1627=function(){b.pv.tne()}},la=function(){la.superclass.constructor.apply(this,arguments);la.prototype._1627=function(){return{}};this._800="Pcx"};b.extend(la,G);
var ma=function(){ma.superclass.constructor.apply(this,arguments);var h=ma.prototype;h.get_Compression=function(){return this._2949};h.set_Compression=function(a){this._2949=b.pv.e(a,q.WebBmpCompressionEnumJS)};h.clone=function(){var a=new this.constructor;a._2949=new q.WebBmpCompressionEnumJS(this._2949.valueOf());return a};h._1627=function(){return{compression:this._2949.valueOf()}};this._800="Bmp";this._2949=new q.WebBmpCompressionEnumJS(1)};b.extend(ma,G);var H=function(h,a){H.superclass.constructor.apply(this,
arguments);var e=H.prototype;e.get_CompressionLevel=function(){return this._411};e.set_CompressionLevel=function(a){b.pv.n(a);0>a&&(a=0);9<a&&(a=9);this._411=a};e.get_FilterMethod=function(){return this._2705};e.set_FilterMethod=function(a){this._2705=b.pv.e(a,q.WebPngFilterMethodEnumJS)};e.clone=function(){var a=new this.constructor;a._411=this._411;a._2705=new q.WebPngFilterMethodEnumJS(this._2705.valueOf());return a};e._1627=function(){return{compressionLevel:this._411,filterMethod:this._2705.valueOf()}};
this._800="Png";this._411=6;this._2705=new q.WebPngFilterMethodEnumJS(31);void 0!=a&&this.set_CompressionLevel(a);void 0!=h&&this.set_FilterMethod(h)};b.extend(H,G);H.bestSpeed=function(){return new H(0,1)};H.fast=function(){return new H(31,4)};H.normal=function(){return new H};H.bestCompression=function(){return new H(31,8)};var M=function(h){M.superclass.constructor.apply(this,arguments);var a=M.prototype;a.get_Quality=function(){return this._1764};a.set_Quality=function(a){b.pv.n(a);a!==this._1764&&
(1>a&&(a=1),100<a&&(a=100),this._1764=a)};a.get_SaveAsGrayscale=function(){return this._164};a.set_SaveAsGrayscale=function(a){b.pv.b(a);this._164=a};a.clone=function(){var a=new this.constructor;a._1764=this._1764;a._164=this._164;return a};a._1627=function(){return{quality:this._1764,saveAsGrayscale:this._164}};void 0==h&&(h=70);b.pv.n(h);this._1764=h;this._164=!1;this._800="Jpeg"};b.extend(M,G);var na=function(){na.superclass.constructor.apply(this,arguments);var h=na.prototype;h.get_NumberOfAnimationCycles=
function(){return this._5526};h.set_NumberOfAnimationCycles=function(a){b.pv.n(a);(0>a||65535<a)&&b.pv.toe();this._5526=a};h.get_AnimationDelay=function(){return this._6983};h.set_AnimationDelay=function(a){b.pv.n(a);(0>a||65535<a)&&b.pv.toe();this._6983=a};h.get_InfiniteAnimation=function(){return this._6795};h.set_InfiniteAnimation=function(a){b.pv.b(a);this._6795=a;this._5526=0};h.get_CreatePageMethod=function(){return this._1342};h.set_CreatePageMethod=function(a){this._1342=b.pv.e(a,q.WebGifCreatePageMethodEnumJS)};
h.clone=function(){var a=new this.constructor;a._6795=this._6795;a._5526=this._5526;a._6983=this._6983;a._1342=new q.WebGifCreatePageMethodEnumJS(this._1342.valueOf());return a};h._1627=function(){return{infiniteAnimation:this._6795,numberOfAnimationCycles:this._5526,animationDelay:this._6983,createPageMethod:this._1342.valueOf()}};this._6795=!1;this._6983=this._5526=0;this._1342=new q.WebGifCreatePageMethodEnumJS(1);this._800="Gif"};b.extend(na,G);var Q=function(){Q.superclass.constructor.apply(this,
arguments);var h=Q.prototype;h.get_TileHeight=function(){return this._3061};h.set_TileHeight=function(a){b.pv.n(a);0>a&&b.pv.toe();this._3061=a};h.get_TileWidth=function(){return this._5930};h.set_TileWidth=function(a){b.pv.n(a);0>a&&b.pv.toe();this._5930=a};h.get_WaveletLevels=function(){return this._2116};h.set_WaveletLevels=function(a){b.pv.n(a);(0>a||32<a)&&b.pv.toe();this._2116=a};h.get_CompressionType=function(){return this._2264};h.set_CompressionType=function(a){this._2264=b.pv.e(a,q.WebJpeg2000CompressionTypeEnumJS)};
h.get_CompressionRatio=function(){return this._7324};h.set_CompressionRatio=function(a){b.pv.n(a);1>a&&b.pv.toe();this._7324=a};h.get_FileSize=function(){return this._2488};h.set_FileSize=function(a){b.pv.n(a);this._2488=a};h.clone=function(){var a=new this.constructor;a._5930=this._5930;a._3061=this._3061;a._2116=this._2116;a._2264=new q.WebJpeg2000CompressionTypeEnumJS(this._2264.valueOf());a._7324=this._7324;a._2488=this._2488;return a};h._1627=function(){return{tileWidth:this._5930,tileHeight:this._3061,
waveletLevels:this._2116,compressionType:this._2264.valueOf(),compressionRatio:this._7324,fileSize:this._2488}};this._800="Jpeg2000";this._3061=this._5930=0;this._2116=5;this._2264=new q.WebJpeg2000CompressionTypeEnumJS(0);this._7324=20;this._2488=0};b.extend(Q,G);var aa=function(){aa.superclass.constructor.apply(this,arguments);var h=aa.prototype;h.get_UseMmr=function(){return this._738};h.set_UseMmr=function(a){b.pv.b(a);this._738=a};h.get_Lossy=function(){return this._2884};h.set_Lossy=function(a){b.pv.b(a);
this._2884=a};h.get_Inaccuracy=function(){return this._1142};h.set_Inaccuracy=function(a){b.pv.n(a);(0>a||100<a)&&b.pv.toe();this._1142=a};h.get_UseSymbolDictionary=function(){return this._7435};h.set_UseSymbolDictionary=function(a){b.pv.b(a);this._7435=a};h.get_SymbolDictionarySize=function(){return this._6363};h.set_SymbolDictionarySize=function(a){b.pv.n(a);10>a&&b.pv.toe();this._6363=a};h.clone=function(){var a=new this.constructor;a._738=this._738;a._2884=this._2884;a._1142=this._1142;a._7435=
this._7435;a._6363=this._6363;return a};h._1627=function(){return{useMmr:this._738,lossy:this._2884,inaccuracy:this._1142,useSymbolDictionary:this._7435,symbolDictionarySize:this._6363}};this._800="Jbig2";this._2884=this._738=!1;this._1142=50;this._7435=!0;this._6363=6500};b.extend(aa,G);var oa=function(){oa.superclass.constructor.apply(this,arguments);var h=oa.prototype;h.get_Compression=function(){return this._2949};h.set_Compression=function(a){a=b.pv.e(a,q.WebTiffCompressionEnumJS);switch(a.valueOf()){case 0:case 4:case 7:case 34712:case 5:case 1:case 8:break;
default:b.pv.te("Compression '"+a.toString()+"' is not supported.")}this._2949=a};h.get_UsePredictor=function(){return this._1519};h.set_UsePredictor=function(a){b.pv.b(a);this._1519=a};h.get_JpegSettings=function(){return this._979};h.set_JpegSettings=function(a){b.pv.c(a,M);this._979=a};h.get_JpegQuality=function(){return this._979.get_Quality()};h.set_JpegQuality=function(a){this._979.get_Quality(a)};h.get_SaveAsGrayscale=function(){return this._979.get_SaveAsGrayscale()};h.set_SaveAsGrayscale=
function(a){this._979.set_SaveAsGrayscale(a)};h.get_ZipLevel=function(){return this._5418};h.set_ZipLevel=function(a){b.pv.n(a);0>a&&(a=0);9<a&&(a=9);this._5418=a};h.get_Jpeg2000Settings=function(){return this._5065};h.set_Jpeg2000Settings=function(a){b.pv.c(a,Q);this._5065=a};h.get_BinarizationCommand=function(){return this._4381};h.set_BinarizationCommand=function(a){b.pv.c(a,U.WebChangePixelFormatToBlackWhiteCommandJS);this._4381=a};h.clone=function(){var a=new this.constructor;a._2949=new q.WebTiffCompressionEnumJS(this._2949.valueOf());
a._1519=this._1519;a._979=this._979.clone();var b=new U.WebChangePixelFormatToBlackWhiteCommandJS,g=this._4381;b._5086=new t.WebBinarizationModeEnumJS(g._5086.valueOf);b._3160=g._3160;b._4928=g._4928;b._182=g._182;b._3682=g._3682;b._266=g._266;b._5901=g._5901;b._568=new t.WebLuminanceComputationModeEnumJS(g._568.valueOf());a._4381=b;a._5418=this._5418;a._5065=this._5065.clone();return a};h._1627=function(){return{compression:this._2949.valueOf(),usePredictor:this._1519,jpegSettings:this._979._1627(),
binarizarionCommand:this._4381.getParams(),zipLevel:this._5418,jpeg2000Settings:this._5065._1627()}};this._800="Tiff";this._2949=new q.WebTiffCompressionEnumJS(0);this._1519=!0;this._979=new M;this._4381=new U.WebChangePixelFormatToBlackWhiteCommandJS;this._5418=6;this._5065=new Q};b.extend(oa,G);var pa=function(){pa.superclass.constructor.apply(this,arguments);var h=pa.prototype;h.get_Compression=function(){return this._2949};h.set_Compression=function(a){this._2949=b.pv.e(a,q.WebPdfImageCompressionEnumJS)};
h.get_Conformance=function(){return this._1002};h.set_Conformance=function(a){a=b.pv.e(a,q.WebPdfDocumentConformance);switch(a.valueOf()){case 0:case 2:case 8:case 64:break;default:b.pv.te("Conformance to '"+a.toString()+"' is not supported now.")}this._1002=a};h.get_JpegSettings=function(){return this._979};h.set_JpegSettings=function(a){b.pv.c(a,M);this._979=a};h.get_JpegQuality=function(){return this._979.get_Quality()};h.set_JpegQuality=function(a){this._979.get_Quality(a)};h.get_SaveAsGrayscale=
function(){return this._979.get_SaveAsGrayscale()};h.set_SaveAsGrayscale=function(a){this._979.set_SaveAsGrayscale(a)};h.get_BinarizationCommand=function(){return this._4381};h.set_BinarizationCommand=function(a){b.pv.c(a,U.WebChangePixelFormatToBlackWhiteCommandJS);this._4381=a};h.get_Jbig2UseGlobals=function(){return this._2878};h.set_Jbig2UseGlobals=function(a){b.pv.b(a);this._2878=a};h.get_Jbig2Settings=function(){return this._1374};h.set_Jbig2Settings=function(a){b.pv.c(a,aa);this._1374=a};h.get_Jpeg2000Settings=
function(){return this._5065};h.set_Jpeg2000Settings=function(a){b.pv.c(a,Q);this._5065=a};h.get_ZipLevel=function(){return this._5418};h.set_ZipLevel=function(a){b.pv.n(a);0>a&&(a=0);9<a&&(a=9);this._5418=a};h.clone=function(){var a=new this.constructor;a._2949=new q.WebPdfImageCompressionEnumJS(this._2949.valueOf());a._1002=new q.WebPdfDocumentConformance(this._1002.valueOf());a._979=this._979.clone();a._5065=this._5065.clone();var b=new U.WebChangePixelFormatToBlackWhiteCommandJS,g=this._4381;
b._5086=new t.WebBinarizationModeEnumJS(g._5086.valueOf);b._3160=g._3160;b._4928=g._4928;b._182=g._182;b._3682=g._3682;b._266=g._266;b._5901=g._5901;b._568=new t.WebLuminanceComputationModeEnumJS(g._568.valueOf());a._4381=b;a._2878=this._2878;a._1374=this._1374;a._5418=this._5418;return a};h._1627=function(){return{compression:this._2949.valueOf(),conformance:this._1002.valueOf(),jpegSettings:this._979._1627(),jpeg2000Settings:this._5065._1627(),binarizarionCommand:this._4381.getParams(),jbig2UseGlobals:this._2878,
jbig2Settings:this._1374._1627(),zipLevel:this._5418}};this._800="Pdf";this._2949=new q.WebPdfImageCompressionEnumJS(1024);this._1002=new q.WebPdfDocumentConformance(0);this._979=new M;this._4381=new U.WebChangePixelFormatToBlackWhiteCommandJS;this._2878=!0;this._1374=new aa;this._5065=new Q;this._5418=6};b.extend(pa,G);b.WebServiceJS.defaultConverterService=-1;var rb=function(h,a){var e=rb.prototype;e.started=function(a){};e.progress=function(a,b){};e.finished=function(a,b){};e.get_IsStarted=function(){return this._2870};
e.get_IsActive=function(){return this._3453()};e.get_ConvertationStatus=function(){return this._2108};e.convertFileTo=function(a,d,e,h,p){(this._2870||this._3453())&&b.pv.te("The image file converter already has active image file converting process or already sent the request.");b.pv.c(d,G);b.pv.s(a);b.pv.isf(e)&&(p=h,h=e,e=void 0);var m;try{m=d.get_Name()}catch(k){b.pv.te("Unsupported encoder settings.")}m="ConvertFileTo"+m;a={fileId:a};d=d.toObject();var q=!0,t;for(t in d){q=!1;break}q||(a.settings=
d);void 0!=e&&(a.renderingSettings=e.toObject());var v=this;e=new b.WebRequestJS(m,function(a,b,d){v._6592=a.processId;delete a.processId;v._2870=!1;$(v).triggerHandler("started");setTimeout(function(){v._7218()},v._6755);h&&h(a,b,d)},function(a,b,d){v._2870=!1;p&&p(a,b,d)},{type:"POST",data:a});this._2108=void 0;this._2870=!0;return this._4286.sendRequest(e)};e.abortConverting=function(a,d){this._3453()||b.pv.te("The active image file converting process does not exist.");var e=new b.WebRequestJS("AbortConverting",
a,d,{type:"POST",data:{processId:this._6592}});return this._4286.sendRequest(e)};e._7218=function(){var a=this,d=new b.WebRequestJS("GetConvertingStatus",function(b){b=b.status;a._2108=b;var d=b.description;"Finished"===d||"Aborted"===d?(a._6592=void 0,$(a).triggerHandler("finished",b)):($(a).triggerHandler("progress",b),setTimeout(function(){a._7218()},a._6755))},function(b){a._6592=void 0;$(a).triggerHandler("finished",a._2108)},{type:"POST",data:{processId:this._6592}});return this._4286.sendRequest(d)};
e._3453=function(){return void 0!=this._6592};void 0==h&&(h=300);void 0==a&&(a=b.WebServiceJS.defaultConverterService);b.pv.c(a,b.WebServiceJS);b.pv.n(h);this._4286=a;this._6755=h;this._2870=!1;this._6592;this._2108;delete e.started;delete e.progress;delete e.finished};q.WebImageEncoderSettingsJS=G;q.WebPcxEncoderSettingsJS=la;q.WebBmpEncoderSettingsJS=ma;q.WebPngEncoderSettingsJS=H;q.WebJpegEncoderSettingsJS=M;q.WebGifEncoderSettingsJS=na;q.WebJpeg2000EncoderSettingsJS=Q;q.WebJbig2EncoderSettingsJS=
aa;q.WebTiffEncoderSettingsJS=oa;q.WebPdfEncoderSettingsJS=pa;q.WebImageConverterJS=rb})(K.Imaging)})(Vintasoft);
